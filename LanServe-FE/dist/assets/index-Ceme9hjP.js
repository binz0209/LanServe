import{b as e,u as t,r as n,L as r,N as s,c as a,d as o,O as i,e as l,f as c,g as u,h as d,i as h,j as f,B as m}from"./router-C9ETpYF5.js";import{r as g,a as x,g as b}from"./vendor-DOHx2j1n.js";import{c as v,R as y,L as w,C as j,X as N,Y as k,T as S,a as _,b as C,B as E,d as T,A as I,e as A,P,f as R,g as L}from"./charts-C1cmaB6W.js";import{M as D,S as O,U as M,a as z,L as F,X as U,b as $,W as H,c as B,d as q,F as W,e as V,C as K,R as G,D as X,P as Q,f as Y,g as J,T as Z,E as ee,h as te}from"./ui-B458ubr2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ne,re,se={exports:{}},ae={};var oe,ie,le,ce,ue=(re||(re=1,se.exports=function(){if(ne)return ae;ne=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==n.key&&(s=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:s,ref:void 0!==n?n:null,props:r}}return ae.Fragment=t,ae.jsx=n,ae.jsxs=n,ae}()),se.exports),de={exports:{}},he={},fe={exports:{}},me={};function pe(){return ie||(ie=1,fe.exports=(oe||(oe=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,p=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(l,s)}s=n(c)}}function w(e){if(p=!1,y(e),!m)if(null!==n(l))m=!0,N||(N=!0,j());else{var t=n(c);null!==t&&A(w,t.startTime-e)}}var j,N=!1,k=-1,S=5,_=-1;function C(){return!(!g&&e.unstable_now()-_<S)}function E(){if(g=!1,N){var t=e.unstable_now();_=t;var s=!0;try{e:{m=!1,p&&(p=!1,b(k),k=-1),f=!0;var a=h;try{t:{for(y(t),d=n(l);null!==d&&!(d.expirationTime>t&&C());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var i=o(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof i){d.callback=i,y(t),s=!0;break t}d===n(l)&&r(l),y(t)}else r(l);d=n(l)}if(null!==d)s=!0;else{var u=n(c);null!==u&&A(w,u.startTime-t),s=!1}}break e}finally{d=null,h=a,f=!1}s=void 0}}finally{s?j():N=!1}}}if("function"==typeof v)j=function(){v(E)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=E,j=function(){I.postMessage(null)}}else j=function(){x(E,0)};function A(t,n){k=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,s,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,r){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>o?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(p?(b(k),k=-1):p=!0,A(w,a-o))):(r.sortIndex=i,t(l,r),m||f||(m=!0,N||(N=!0,j()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(me)),me)),fe.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ge(){if(le)return he;le=1;var e=pe(),t=g(),n=x();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function i(e){if(a(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case p:return"Profiler";case m:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case _:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case y:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var P=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},O=[],M=-1;function z(e){return{current:e}}function F(e){0>M||(e.current=O[M],O[M]=null,M--)}function U(e,t){M++,O[M]=e.current,e.current=t}var $=z(null),H=z(null),B=z(null),q=z(null);function W(e,t){switch(U(B,t),U(H,e),U($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F($),U($,e)}function V(){F($),F(H),F(B)}function K(e){null!==e.memoizedState&&U(q,e);var t=$.current,n=id(t,e.type);t!==n&&(U(H,e),U($,n))}function G(e){H.current===e&&(F($),F(H)),q.current===e&&(F(q),Qd._currentValue=D)}var X=Object.prototype.hasOwnProperty,Q=e.unstable_scheduleCallback,Y=e.unstable_cancelCallback,J=e.unstable_shouldYield,Z=e.unstable_requestPaint,ee=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,ne=e.unstable_ImmediatePriority,re=e.unstable_UserBlockingPriority,se=e.unstable_NormalPriority,ae=e.unstable_LowPriority,oe=e.unstable_IdlePriority,ie=e.log,ce=e.unstable_setDisableYieldValue,ue=null,de=null;function fe(e){if("function"==typeof ie&&ce(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/xe|0)|0},ge=Math.log,xe=Math.LN2;var be=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~a)?s=ye(r):0!==(o&=i)?s=ye(o):n||0!==(n=i&~e)&&(s=ye(n)):0!==(i=r&~a)?s=ye(i):0!==o?s=ye(o):n||0!==(n=r&~e)&&(s=ye(n)),0===s?0:0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(n=t&-t)||32===a&&4194048&n)?t:s}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=be;return!(4194048&(be<<=1))&&(be=256),e}function Se(){var e=ve;return!(62914560&(ve<<=1))&&(ve=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Re=Math.random().toString(36).slice(2),Le="__reactFiber$"+Re,De="__reactProps$"+Re,Oe="__reactContainer$"+Re,Me="__reactEvents$"+Re,ze="__reactListeners$"+Re,Fe="__reactHandles$"+Re,Ue="__reactResources$"+Re,$e="__reactMarker$"+Re;function He(e){delete e[Le],delete e[De],delete e[Me],delete e[ze],delete e[Fe]}function Be(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Le]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Le])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Le]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Ve(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[$e]=!0}var Ge=new Set,Xe={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Xe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Je,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(s=t,X.call(nt,s)||!X.call(tt,s)&&(et.test(s)?nt[s]=!0:(tt[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Je)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Ze}var it=!1;function lt(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"==typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],i=a[1];if(o&&i){var l=o.split("\n"),c=i.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return ot("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function xt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,s,a,o,i){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,dt(t)):null!=n?yt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=a&&(e.defaultChecked=!!a),null!=s&&(e.checked=s&&"function"!=typeof s&&"symbol"!=typeof s),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+dt(i):e.removeAttribute("name")}function vt(e,t,n,r,s,a,o,i){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:s)&&"symbol"!=typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function jt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,n,s){if(null==t){if(null!=s){if(null!=n)throw Error(r(92));if(P(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(s=e.textContent)===n&&""!==s&&null!==s&&(e.value=s)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var s in n)!n.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var a in t)s=t[a],t.hasOwnProperty(a)&&n[a]!==s&&_t(e,a,s)}else for(var o in t)t.hasOwnProperty(o)&&_t(e,o,t[o])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Dt=null;function Ot(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=s[De]||null;if(!a)throw Error(r(90));bt(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(s=n[t]).form===e.form&&mt(s)}break e;case"textarea":jt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Mt=!1;function zt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Lt||null!==Dt)&&(Bc(),Lt&&(t=Lt,e=Dt,Dt=Lt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var s=n[De]||null;if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ut=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Dh){$t=!1}var Bt=null,qt=null,Wt=null;function Vt(){if(Wt)return Wt;var e,t,n=qt,r=n.length,s="value"in Bt?Bt.value:Bt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[a-t];t++);return Wt=s.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Xt(){return!1}function Qt(e){function t(t,n,r,s,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Xt,this.isPropagationStopped=Xt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Jt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Qt(en),nn=c({},en,{view:0,detail:0}),rn=Qt(nn),sn=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Yt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Yt=0,Zt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),an=Qt(sn),on=Qt(c({},sn,{dataTransfer:0})),ln=Qt(c({},nn,{relatedTarget:0})),cn=Qt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Qt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return pn}var xn=Qt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(c({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Qt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),yn=Qt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Qt(c({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jn=Qt(c({},en,{newState:0,oldState:0})),Nn=[9,13,27,32],kn=Ut&&"CompositionEvent"in window,Sn=null;Ut&&"documentMode"in document&&(Sn=document.documentMode);var _n=Ut&&"TextEvent"in window&&!Sn,Cn=Ut&&(!kn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Dn(e,t,n,r){Lt?Dt?Dt.push(r):Dt=[r]:Lt=r,0<(t=Vu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Mn=null;function zn(e){zu(e,0)}function Fn(e){if(mt(We(e)))return e}function Un(e,t){if("change"===e)return t}var $n=!1;if(Ut){var Hn;if(Ut){var Bn="oninput"in document;if(!Bn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Bn="function"==typeof qn.oninput}Hn=Bn}else Hn=!1;$n=Hn&&(!document.documentMode||9<document.documentMode)}function Wn(){On&&(On.detachEvent("onpropertychange",Vn),Mn=On=null)}function Vn(e){if("value"===e.propertyName&&Fn(Mn)){var t=[];Dn(t,Mn,e,Rt(e)),zt(zn,t)}}function Kn(e,t,n){"focusin"===e?(Wn(),Mn=n,(On=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Wn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Mn)}function Xn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Jn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!X.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Ut&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,ir=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==pt(r)||("selectionStart"in(r=ar)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Jn(ir,r)||(ir=r,0<(r=Vu(or,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Ut&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=mr("animationend"),gr=mr("animationiteration"),xr=mr("animationstart"),br=mr("transitionrun"),vr=mr("transitionstart"),yr=mr("transitioncancel"),wr=mr("transitionend"),jr=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){jr.set(e,t),Qe(t,[e])}Nr.push("scrollEnd");var Sr=new WeakMap;function _r(e,t){if("object"==typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Cr=[],Er=0,Tr=0;function Ir(){for(var e=Er,t=Tr=Er=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var s=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==s){var o=r.pending;null===o?s.next=s:(s.next=o.next,o.next=s),r.pending=s}0!==a&&Lr(n,s,a)}}function Ar(e,t,n,r){Cr[Er++]=e,Cr[Er++]=t,Cr[Er++]=n,Cr[Er++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Ar(e,t,n,r),Dr(e)}function Rr(e,t){return Ar(e,null,null,t),Dr(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(s=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,s&&null!==t&&(s=31-me(n),null===(r=(e=a.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),a):null}function Dr(e){if(50<Lc)throw Lc=0,Dc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Mr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,s,a,o){var i=0;if(s=e,"function"==typeof e)Fr(e)&&(i=1);else if("string"==typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=zr(31,n,t,a)).elementType=_,e.lanes=o,e;case f:return Br(n.children,a,o,t);case m:i=8,a|=24;break;case p:return(e=zr(12,n,t,2|a)).elementType=p,e.lanes=o,e;case j:return(e=zr(13,n,t,a)).elementType=j,e.lanes=o,e;case N:return(e=zr(19,n,t,a)).elementType=N,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case y:i=10;break e;case v:i=9;break e;case w:i=11;break e;case k:i=14;break e;case S:i=16,s=null;break e}i=29,n=Error(r(130,null===e?"null":typeof e,"")),s=null}return(t=zr(i,n,t,a)).elementType=e,t.type=s,t.lanes=o,t}function Br(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],Kr=0,Gr=null,Xr=0,Qr=[],Yr=0,Jr=null,Zr=1,es="";function ts(e,t){Vr[Kr++]=Xr,Vr[Kr++]=Gr,Gr=e,Xr=t}function ns(e,t,n){Qr[Yr++]=Zr,Qr[Yr++]=es,Qr[Yr++]=Jr,Jr=e;var r=Zr;e=es;var s=32-me(r)-1;r&=~(1<<s),n+=1;var a=32-me(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zr=1<<32-me(t)+s|n<<s|r,es=a+e}else Zr=1<<a|n<<s|r,es=e}function rs(e){null!==e.return&&(ts(e,1),ns(e,1,0))}function ss(e){for(;e===Gr;)Gr=Vr[--Kr],Vr[Kr]=null,Xr=Vr[--Kr],Vr[Kr]=null;for(;e===Jr;)Jr=Qr[--Yr],Qr[Yr]=null,es=Qr[--Yr],Qr[Yr]=null,Zr=Qr[--Yr],Qr[Yr]=null}var as=null,os=null,is=!1,ls=null,cs=!1,us=Error(r(519));function ds(e){throw xs(_r(Error(r(418,"")),e)),us}function hs(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Le]=e,t[De]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Fu(Ou[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),Nt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||ds(e)}function fs(e){for(as=e.return;as;)switch(as.tag){case 5:case 13:return void(cs=!1);case 27:case 3:return void(cs=!0);default:as=as.return}}function ms(e){if(e!==as)return!1;if(!is)return fs(e),is=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&os&&ds(e),fs(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){os=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}os=null}}else 27===n?(n=os,pd(e.type)?(e=yd,yd=null,os=e):os=n):os=as?vd(e.stateNode.nextSibling):null;return!0}function ps(){os=as=null,is=!1}function gs(){var e=ls;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),ls=null),e}function xs(e){null===ls?ls=[e]:ls.push(e)}var bs=z(null),vs=null,ys=null;function ws(e,t,n){U(bs,t._currentValue),t._currentValue=n}function js(e){e._currentValue=bs.current,F(bs)}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t,n,s){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var i=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o.return,n,e),s||(i=null);break e}o=l.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(r(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ns(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function Ss(e,t,n,s){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(524288&a.flags)o=!0;else if(262144&a.flags)break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(r(387));if(null!==(i=i.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,i.value)||(null!==e?e.push(l):e=[l])}}else if(a===q.current){if(null===(i=a.alternate))throw Error(r(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&ks(t,e,n,s),t.flags|=262144}function _s(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){vs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Es(e){return Is(vs,e)}function Ts(e,t){return null===vs&&Cs(e),Is(e,t)}function Is(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(r(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var As="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ps=e.unstable_scheduleCallback,Rs=e.unstable_NormalPriority,Ls={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ds(){return{controller:new As,data:new Map,refCount:0}}function Os(e){e.refCount--,0===e.refCount&&Ps(Rs,function(){e.controller.abort()})}var Ms=null,zs=0,Fs=0,Us=null;function $s(){if(0===--zs&&null!==Ms){null!==Us&&(Us.status="fulfilled");var e=Ms;Ms=null,Fs=0,Us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Hs=R.S;R.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ms){var n=Ms=[];zs=0,Fs=Au(),Us={status:"pending",value:void 0,then:function(e){n.push(e)}}}zs++,t.then($s,$s)}(0,t),null!==Hs&&Hs(e,t)};var Bs=z(null);function qs(){var e=Bs.current;return null!==e?e:ac.pooledCache}function Ws(e,t){U(Bs,null===t?Bs.current:t.pool)}function Vs(){var e=qs();return null===e?null:{parent:Ls._currentValue,pool:e}}var Ks=Error(r(460)),Gs=Error(r(474)),Xs=Error(r(542)),Qs={then:function(){}};function Ys(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Js(){}function Zs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Js,Js),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e;default:if("string"==typeof t.status)t.then(Js,Js);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e}throw ea=t,Ks}}var ea=null;function ta(){if(null===ea)throw Error(r(459));var e=ea;return ea=null,e}function na(e){if(e===Ks||e===Xs)throw Error(r(483))}var ra=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&sc){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Dr(e),Lr(e,null,n),t}return Ar(e,r,t,n),Dr(e)}function la(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?s=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function da(){if(ua){if(null!==Us)throw Us}}function ha(e,t,n,r){ua=!1;var s=e.updateQueue;ra=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var l=i,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=l))}if(null!==a){var h=s.baseState;for(o=0,d=u=l=null,i=a;;){var f=-536870913&i.lane,m=f!==i.lane;if(m?(ic&f)===f:(r&f)===f){0!==f&&f===Fs&&(ua=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,g=i;f=t;var x=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(x,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(x,h,f):p))break e;h=c({},h,f);break e;case 2:ra=!0}}null!==(f=i.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(u=d=m,l=h):d=d.next=m,o|=f;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(m=i).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===d&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,null===a&&(s.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=h}}function fa(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ma(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fa(n[e],t)}var pa=z(null),ga=z(0);function xa(e,t){U(ga,e=fc),U(pa,t),fc=e|t.baseLanes}function ba(){U(ga,fc),U(pa,pa.current)}function va(){fc=ga.current,F(pa),F(ga)}var ya=0,wa=null,ja=null,Na=null,ka=!1,Sa=!1,_a=!1,Ca=0,Ea=0,Ta=null,Ia=0;function Aa(){throw Error(r(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ra(e,t,n,r,s,a){return ya=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Go:Xo,_a=!1,a=n(r,s),_a=!1,Sa&&(a=Da(t,n,r,s)),La(e),a}function La(e){R.H=Ko;var t=null!==ja&&null!==ja.next;if(ya=0,Na=ja=wa=null,ka=!1,Ea=0,Ta=null,t)throw Error(r(300));null===e||Ti||null!==(e=e.dependencies)&&_s(e)&&(Ti=!0)}function Da(e,t,n,s){wa=e;var a=0;do{if(Sa&&(Ta=null),Ea=0,Sa=!1,25<=a)throw Error(r(301));if(a+=1,Na=ja=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}R.H=Qo,o=t(n,s)}while(Sa);return o}function Oa(){var e=R.H,t=e.useState()[0];return t="function"==typeof t.then?Ha(t):t,e=e.useState()[0],(null!==ja?ja.memoizedState:null)!==e&&(wa.flags|=1024),t}function Ma(){var e=0!==Ca;return Ca=0,e}function za(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}ya=0,Na=ja=wa=null,Sa=!1,Ea=Ca=0,Ta=null}function Ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Na?wa.memoizedState=Na=e:Na=Na.next=e,Na}function $a(){if(null===ja){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=ja.next;var t=null===Na?wa.memoizedState:Na.next;if(null!==t)Na=t,ja=e;else{if(null===e){if(null===wa.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(ja=e).memoizedState,baseState:ja.baseState,baseQueue:ja.baseQueue,queue:ja.queue,next:null},null===Na?wa.memoizedState=Na=e:Na=Na.next=e}return Na}function Ha(e){var t=Ea;return Ea+=1,null===Ta&&(Ta=[]),e=Zs(Ta,e,t),t=wa,null===(null===Na?t.memoizedState:Na.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Go:Xo),e}function Ba(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ha(e);if(e.$$typeof===y)return Es(e)}throw Error(r(438,String(e)))}function qa(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Wa(e,t){return"function"==typeof t?t(e):t}function Va(e){return Ka($a(),ja,e)}function Ka(e,t,n){var s=e.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=n;var a=e.baseQueue,o=s.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}t.baseQueue=a=o,s.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=i=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(ya&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fs&&(d=!0);else{if((ya&f)===f){u=u.next,f===Fs&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,i=o):c=c.next=h,wa.lanes|=f,pc|=f}h=u.action,_a&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,i=o):c=c.next=f,wa.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?i=o:c.next=l,!Yn(o,e.memoizedState)&&(Ti=!0,d&&null!==(n=Us)))throw n;e.memoizedState=o,e.baseState=i,e.baseQueue=c,s.lastRenderedState=o}return null===a&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ga(e){var t=$a(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);Yn(o,t.memoizedState)||(Ti=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function Xa(e,t,n){var s=wa,a=$a(),o=is;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var i=!Yn((ja||a).memoizedState,n);if(i&&(a.memoizedState=n,Ti=!0),a=a.queue,vo(2048,8,Ja.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||null!==Na&&1&Na.memoizedState.tag){if(s.flags|=2048,go(9,{destroy:void 0,resource:void 0},Ya.bind(null,s,a,n,t),null),null===ac)throw Error(r(349));o||124&ya||Qa(s,t,n)}return n}function Qa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Za(t)&&eo(e)}function Ja(e,t,n){return n(function(){Za(t)&&eo(e)})}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function eo(e){var t=Rr(e,2);null!==t&&zc(t,e,2)}function to(e){var t=Ua();if("function"==typeof e){var n=e;if(e=n(),_a){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t}function no(e,t,n,r){return e.baseState=n,Ka(e,ja,"function"==typeof r?r:Wa)}function ro(e,t,n,s,a){if(qo(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==R.T?n(!0):o.isTransition=!1,s(o),null===(n=t.pending)?(o.next=t.pending=o,so(t,o)):(o.next=n.next,t.pending=n.next=o)}}function so(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var a=R.T,o={};R.T=o;try{var i=n(s,r),l=R.S;null!==l&&l(o,i),ao(e,t,i)}catch(c){io(e,t,c)}finally{R.T=a}}else try{ao(e,t,a=n(s,r))}catch(u){io(e,t,u)}}function ao(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){oo(e,t,n)},function(n){return io(e,t,n)}):oo(e,t,n)}function oo(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,so(e,n)))}function io(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,lo(t),t=t.next}while(t!==r)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function co(e,t){return t}function uo(e,t){if(is){var n=ac.formState;if(null!==n){e:{var r=wa;if(is){if(os){t:{for(var s=os,a=cs;8!==s.nodeType;){if(!a){s=null;break t}if(null===(s=vd(s.nextSibling))){s=null;break t}}s="F!"===(a=s.data)||"F"===a?s:null}if(s){os=vd(s.nextSibling),r="F!"===s.data;break e}}ds(r)}r=!1}r&&(t=n[0])}}return(n=Ua()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},n.queue=r,n=$o.bind(null,wa,r),r.dispatch=n,r=to(!1),a=Bo.bind(null,wa,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Ua()).queue=s,n=ro.bind(null,wa,s,a,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ho(e){return fo($a(),ja,e)}function fo(e,t,n){if(t=Ka(e,t,co)[0],e=Va(Wa)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Ha(t)}catch(o){if(o===Ks)throw Xs;throw o}else r=t;var s=(t=$a()).queue,a=s.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,go(9,{destroy:void 0,resource:void 0},mo.bind(null,s,n),null)),[r,a,e]}function mo(e,t){e.action=t}function po(e){var t=$a(),n=ja;if(null!==n)return fo(t,n,e);$a(),t=t.memoizedState;var r=(n=$a()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function go(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xo(){return $a().memoizedState}function bo(e,t,n,r){var s=Ua();r=void 0===r?null:r,wa.flags|=e,s.memoizedState=go(1|t,{destroy:void 0,resource:void 0},n,r)}function vo(e,t,n,r){var s=$a();r=void 0===r?null:r;var a=s.memoizedState.inst;null!==ja&&null!==r&&Pa(r,ja.memoizedState.deps)?s.memoizedState=go(t,a,n,r):(wa.flags|=e,s.memoizedState=go(1|t,a,n,r))}function yo(e,t){bo(8390656,8,e,t)}function wo(e,t){vo(2048,8,e,t)}function jo(e,t){return vo(4,2,e,t)}function No(e,t){return vo(4,4,e,t)}function ko(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function So(e,t,n){n=null!=n?n.concat([e]):null,vo(4,4,ko.bind(null,t,e),n)}function _o(){}function Co(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pa(t,r[1]))return r[0];if(r=e(),_a){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function To(e,t,n){return void 0===n||1073741824&ya?e.memoizedState=t:(e.memoizedState=n,e=Mc(),wa.lanes|=e,pc|=e,n)}function Io(e,t,n,r){return Yn(n,t)?n:null!==pa.current?(e=To(e,n,r),Yn(e,t)||(Ti=!0),e):42&ya?(e=Mc(),wa.lanes|=e,pc|=e,t):(Ti=!0,e.memoizedState=n)}function Ao(e,t,n,r,s){var a=L.p;L.p=0!==a&&8>a?a:8;var o,i,l,c=R.T,u={};R.T=u,Bo(e,!1,t,n);try{var d=s(),h=R.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Ho(e,t,(o=r,i=[],l={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},d.then(function(){l.status="fulfilled",l.value=o;for(var e=0;e<i.length;e++)(0,i[e])(o)},function(e){for(l.status="rejected",l.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),l),Oc());else Ho(e,t,r,Oc())}catch(f){Ho(e,t,{then:function(){},status:"rejected",reason:f},Oc())}finally{L.p=a,R.T=c}}function Po(){}function Ro(e,t,n,s){if(5!==e.tag)throw Error(r(476));var a=Lo(e).queue;Ao(e,a,t,D,null===n?Po:function(){return Do(e),n(s)})}function Lo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Do(e){Ho(e,Lo(e).next.queue,{},Oc())}function Oo(){return Es(Qd)}function Mo(){return $a().memoizedState}function zo(){return $a().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=ia(t,e=oa(n),n);return null!==r&&(zc(r,t,n),la(r,t,n)),t={cache:Ds()},void(e.payload=t)}t=t.return}}function Uo(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qo(e)?Wo(t,n):null!==(n=Pr(e,t,n,r))&&(zc(n,e,r),Vo(n,t,r))}function $o(e,t,n){Ho(e,t,n,Oc())}function Ho(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qo(e))Wo(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=a(o,n);if(s.hasEagerState=!0,s.eagerState=i,Yn(i,o))return Ar(e,t,s,0),null===ac&&Ir(),!1}catch(l){}if(null!==(n=Pr(e,t,s,r)))return zc(n,e,r),Vo(n,t,r),!0}return!1}function Bo(e,t,n,s){if(s={lane:2,revertLane:Au(),action:s,hasEagerState:!1,eagerState:null,next:null},qo(e)){if(t)throw Error(r(479))}else null!==(t=Pr(e,n,s,2))&&zc(t,e,2)}function qo(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function Wo(e,t){Sa=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vo(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Ko={readContext:Es,use:Ba,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useInsertionEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useSyncExternalStore:Aa,useId:Aa,useHostTransitionStatus:Aa,useFormState:Aa,useActionState:Aa,useOptimistic:Aa,useMemoCache:Aa,useCacheRefresh:Aa},Go={readContext:Es,use:Ba,useCallback:function(e,t){return Ua().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:yo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,bo(4194308,4,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4194308,4,e,t)},useInsertionEffect:function(e,t){bo(4,2,e,t)},useMemo:function(e,t){var n=Ua();t=void 0===t?null:t;var r=e();if(_a){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ua();if(void 0!==n){var s=n(t);if(_a){fe(!0);try{n(t)}finally{fe(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Uo.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ua().memoizedState=e},useState:function(e){var t=(e=to(e)).queue,n=$o.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_o,useDeferredValue:function(e,t){return To(Ua(),e,t)},useTransition:function(){var e=to(!1);return e=Ao.bind(null,wa,e.queue,!0,!1),Ua().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=wa,a=Ua();if(is){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ac)throw Error(r(349));124&ic||Qa(s,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,yo(Ja.bind(null,s,o,e),[e]),s.flags|=2048,go(9,{destroy:void 0,resource:void 0},Ya.bind(null,s,o,n,t),null),n},useId:function(){var e=Ua(),t=ac.identifierPrefix;if(is){var n=es;t=""+t+"R"+(n=(Zr&~(1<<32-me(Zr)-1)).toString(32)+n),0<(n=Ca++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Ia++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Oo,useFormState:uo,useActionState:uo,useOptimistic:function(e){var t=Ua();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bo.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:qa,useCacheRefresh:function(){return Ua().memoizedState=Fo.bind(null,wa)}},Xo={readContext:Es,use:Ba,useCallback:Co,useContext:Es,useEffect:wo,useImperativeHandle:So,useInsertionEffect:jo,useLayoutEffect:No,useMemo:Eo,useReducer:Va,useRef:xo,useState:function(){return Va(Wa)},useDebugValue:_o,useDeferredValue:function(e,t){return Io($a(),ja.memoizedState,e,t)},useTransition:function(){var e=Va(Wa)[0],t=$a().memoizedState;return["boolean"==typeof e?e:Ha(e),t]},useSyncExternalStore:Xa,useId:Mo,useHostTransitionStatus:Oo,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){return no($a(),0,e,t)},useMemoCache:qa,useCacheRefresh:zo},Qo={readContext:Es,use:Ba,useCallback:Co,useContext:Es,useEffect:wo,useImperativeHandle:So,useInsertionEffect:jo,useLayoutEffect:No,useMemo:Eo,useReducer:Ga,useRef:xo,useState:function(){return Ga(Wa)},useDebugValue:_o,useDeferredValue:function(e,t){var n=$a();return null===ja?To(n,e,t):Io(n,ja.memoizedState,e,t)},useTransition:function(){var e=Ga(Wa)[0],t=$a().memoizedState;return["boolean"==typeof e?e:Ha(e),t]},useSyncExternalStore:Xa,useId:Mo,useHostTransitionStatus:Oo,useFormState:po,useActionState:po,useOptimistic:function(e,t){var n=$a();return null!==ja?no(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qa,useCacheRefresh:zo},Yo=null,Jo=0;function Zo(e){var t=Jo;return Jo+=1,null===Yo&&(Yo=[]),Zs(Yo,e,t)}function ei(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ti(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ni(e){return(0,e._init)(e._payload)}function ri(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===f?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===S&&ni(s)===t.type)?(ei(t=a(t,n.props),n),t.return=e,t):(ei(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function m(e,t,n,r,s){return null===t||7!==t.tag?((t=Br(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return ei(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Wr(t,e.mode,n)).return=e,t;case S:return p(e,t=(0,t._init)(t._payload),n)}if(P(t)||T(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,Zo(t),n);if(t.$$typeof===y)return p(e,Ts(e,t),n);ti(e,t)}return null}function g(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==s?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===s?c(e,t,n,r):null;case h:return n.key===s?u(e,t,n,r):null;case S:return g(e,t,n=(s=n._init)(n._payload),r)}if(P(n)||T(n))return null!==s?null:m(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Zo(n),r);if(n.$$typeof===y)return g(e,t,Ts(e,n),r);ti(e,n)}return null}function x(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case S:return x(e,t,n,r=(0,r._init)(r._payload),s)}if(P(r)||T(r))return m(t,e=e.get(n)||null,r,s,null);if("function"==typeof r.then)return x(e,t,n,Zo(r),s);if(r.$$typeof===y)return x(e,t,n,Ts(t,r),s);ti(t,r)}return null}function b(l,c,u,m){if("object"==typeof u&&null!==u&&u.type===f&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===f){if(7===c.tag){n(l,c.sibling),(m=a(c,u.props.children)).return=l,l=m;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===S&&ni(v)===c.type){n(l,c.sibling),ei(m=a(c,u.props),u),m.return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===f?((m=Br(u.props.children,l.mode,m,u.key)).return=l,l=m):(ei(m=Hr(u.type,u.key,u.props,null,l.mode,m),u),m.return=l,l=m)}return i(l);case h:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(m=a(c,u.children||[])).return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}(m=Wr(u,l.mode,m)).return=l,l=m}return i(l);case S:return b(l,c,u=(v=u._init)(u._payload),m)}if(P(u))return function(r,a,i,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<i.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var m=g(r,d,i[h],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(r,d),a=o(m,a,h),null===u?c=m:u.sibling=m,u=m,d=f}if(h===i.length)return n(r,d),is&&ts(r,h),c;if(null===d){for(;h<i.length;h++)null!==(d=p(r,i[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return is&&ts(r,h),c}for(d=s(d);h<i.length;h++)null!==(f=x(d,r,h,i[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),is&&ts(r,h),c}(l,c,u,m);if(T(u)){if("function"!=typeof(v=T(u)))throw Error(r(150));return function(a,i,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=i,f=i=0,m=null,b=l.next();null!==h&&!b.done;f++,b=l.next()){h.index>f?(m=h,h=null):m=h.sibling;var v=g(a,h,b.value,c);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(a,h),i=o(v,i,f),null===d?u=v:d.sibling=v,d=v,h=m}if(b.done)return n(a,h),is&&ts(a,f),u;if(null===h){for(;!b.done;f++,b=l.next())null!==(b=p(a,b.value,c))&&(i=o(b,i,f),null===d?u=b:d.sibling=b,d=b);return is&&ts(a,f),u}for(h=s(h);!b.done;f++,b=l.next())null!==(b=x(h,a,f,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?f:b.key),i=o(b,i,f),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach(function(e){return t(a,e)}),is&&ts(a,f),u}(l,c,u=v.call(u),m)}if("function"==typeof u.then)return b(l,c,Zo(u),m);if(u.$$typeof===y)return b(l,c,Ts(l,u),m);ti(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(m=a(c,u)).return=l,l=m):(n(l,c),(m=qr(u,l.mode,m)).return=l,l=m),i(l)):n(l,c)}return function(e,t,n,r){try{Jo=0;var s=b(e,t,n,r);return Yo=null,s}catch(o){if(o===Ks||o===Xs)throw o;var a=zr(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var si=ri(!0),ai=ri(!1),oi=z(null),ii=null;function li(e){var t=e.alternate;U(hi,1&hi.current),U(oi,e),null===ii&&(null===t||null!==pa.current||null!==t.memoizedState)&&(ii=e)}function ci(e){if(22===e.tag){if(U(hi,hi.current),U(oi,e),null===ii){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ii=e)}}else ui()}function ui(){U(hi,hi.current),U(oi,oi.current)}function di(e){F(oi),ii===e&&(ii=null),F(hi)}var hi=z(0);function fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||bd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pi={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),s=oa(r);s.payload=t,null!=n&&(s.callback=n),null!==(t=ia(e,s,r))&&(zc(t,e,r),la(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),s=oa(r);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=ia(e,s,r))&&(zc(t,e,r),la(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=oa(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ia(e,r,n))&&(zc(t,e,n),la(t,e,n))}};function gi(e,t,n,r,s,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(s,a))}function xi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function bi(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=c({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var vi="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yi(e){vi(e)}function wi(e){console.error(e)}function ji(e){vi(e)}function Ni(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ki(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Si(e,t,n){return(n=oa(n)).tag=3,n.payload={element:null},n.callback=function(){Ni(e,t)},n}function _i(e){return(e=oa(e)).tag=3,e}function Ci(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"==typeof s){var a=r.value;e.payload=function(){return s(a)},e.callback=function(){ki(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){ki(t,n,r),"function"!=typeof s&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ei=Error(r(461)),Ti=!1;function Ii(e,t,n,r){t.child=null===e?ai(t,null,n,r):si(t,e.child,n,r)}function Ai(e,t,n,r,s){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var i in r)"ref"!==i&&(o[i]=r[i])}else o=r;return Cs(t),r=Ra(e,t,n,o,a,s),i=Ma(),null===e||Ti?(is&&i&&rs(t),t.flags|=1,Ii(e,t,r,s),t.child):(za(e,t,s),Yi(e,t,s))}function Pi(e,t,n,r,s){if(null===e){var a=n.type;return"function"!=typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ri(e,t,a,r,s))}if(a=e.child,!Ji(e,s)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(o,r)&&e.ref===t.ref)return Yi(e,t,s)}return t.flags|=1,(e=Ur(a,r)).ref=t.ref,e.return=t,t.child=e}function Ri(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(Jn(a,r)&&e.ref===t.ref){if(Ti=!1,t.pendingProps=r=a,!Ji(e,s))return t.lanes=e.lanes,Yi(e,t,s);131072&e.flags&&(Ti=!0)}}return Mi(e,t,n,r,s)}function Li(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(s=t.child=e.child,a=0;null!==s;)a=a|s.lanes|s.childLanes,s=s.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Di(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Di(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ws(0,null!==a?a.cachePool:null),null!==a?xa(t,a):ba(),ci(t)}else null!==a?(Ws(0,a.cachePool),xa(t,a),ui(),t.memoizedState=null):(null!==e&&Ws(0,null),ba(),ui());return Ii(e,t,s,n),t.child}function Di(e,t,n,r){var s=qs();return s=null===s?null:{parent:Ls._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ws(0,null),ba(),ci(t),null!==e&&Ss(e,t,r,!0),null}function Oi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Mi(e,t,n,r,s){return Cs(t),n=Ra(e,t,n,r,void 0,s),r=Ma(),null===e||Ti?(is&&r&&rs(t),t.flags|=1,Ii(e,t,n,s),t.child):(za(e,t,s),Yi(e,t,s))}function zi(e,t,n,r,s,a){return Cs(t),t.updateQueue=null,n=Da(t,r,n,s),La(e),r=Ma(),null===e||Ti?(is&&r&&rs(t),t.flags|=1,Ii(e,t,n,a),t.child):(za(e,t,a),Yi(e,t,a))}function Fi(e,t,n,r,s){if(Cs(t),null===t.stateNode){var a=Or,o=n.contextType;"object"==typeof o&&null!==o&&(a=Es(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=pi,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},sa(t),o=n.contextType,a.context="object"==typeof o&&null!==o?Es(o):Or,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(mi(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&pi.enqueueReplaceState(a,a.state,null),ha(t,r,a,s),da(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var i=t.memoizedProps,l=bi(n,i);a.props=l;var c=a.context,u=n.contextType;o=Or,"object"==typeof u&&null!==u&&(o=Es(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||c!==o)&&xi(t,a,r,o),ra=!1;var h=t.memoizedState;a.state=h,ha(t,r,a,s),da(),c=t.memoizedState,i||h!==c||ra?("function"==typeof d&&(mi(t,n,d,r),c=t.memoizedState),(l=ra||gi(t,n,l,r,h,c,o))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,aa(e,t),u=bi(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Or,"object"==typeof c&&null!==c&&(l=Es(c)),(c="function"==typeof(i=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||h!==l)&&xi(t,a,r,l),ra=!1,h=t.memoizedState,a.state=h,ha(t,r,a,s),da();var f=t.memoizedState;o!==d||h!==f||ra||null!==e&&null!==e.dependencies&&_s(e.dependencies)?("function"==typeof i&&(mi(t,n,i,r),f=t.memoizedState),(u=ra||gi(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&_s(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Oi(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=si(t,e.child,null,s),t.child=si(t,null,n,s)):Ii(e,t,n,s),t.memoizedState=a.state,e=t.child):e=Yi(e,t,s),e}function Ui(e,t,n,r){return ps(),t.flags|=256,Ii(e,t,n,r),t.child}var $i={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hi(e){return{baseLanes:e,cachePool:Vs()}}function Bi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=bc),e}function qi(e,t,n){var s,a=t.pendingProps,o=!1,i=!!(128&t.flags);if((s=i)||(s=(null===e||null!==e.memoizedState)&&!!(2&hi.current)),s&&(o=!0,t.flags&=-129),s=!!(32&t.flags),t.flags&=-33,null===e){if(is){if(o?li(t):ui(),is){var l,c=os;if(l=c){e:{for(l=c,c=cs;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Zr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},(l=zr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,as=t,os=null,l=!0):l=!1}l||ds(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return bd(c)?t.lanes=32:t.lanes=536870912,null;di(t)}return c=a.children,a=a.fallback,o?(ui(),c=Vi({mode:"hidden",children:c},o=t.mode),a=Br(a,o,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(o=t.child).memoizedState=Hi(n),o.childLanes=Bi(e,s,n),t.memoizedState=$i,a):(li(t),Wi(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(i)256&t.flags?(li(t),t.flags&=-257,t=Ki(e,t,n)):null!==t.memoizedState?(ui(),t.child=e.child,t.flags|=128,t=null):(ui(),o=a.fallback,c=t.mode,a=Vi({mode:"visible",children:a.children},c),(o=Br(o,c,n,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,si(t,e.child,null,n),(a=t.child).memoizedState=Hi(n),a.childLanes=Bi(e,s,n),t.memoizedState=$i,t=o);else if(li(t),bd(c)){if(s=c.nextSibling&&c.nextSibling.dataset)var u=s.dgst;s=u,(a=Error(r(419))).stack="",a.digest=s,xs({value:a,source:null,stack:null}),t=Ki(e,t,n)}else if(Ti||Ss(e,t,n,!1),s=0!==(n&e.childLanes),Ti||s){if(null!==(s=ac)&&(0!==(a=0!==((a=42&(a=n&-n)?1:Ie(a))&(s.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Rr(e,a),zc(s,e,a),Ei;"$?"===c.data||Xc(),t=Ki(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,os=vd(c.nextSibling),as=t,is=!0,ls=null,cs=!1,null!==e&&(Qr[Yr++]=Zr,Qr[Yr++]=es,Qr[Yr++]=Jr,Zr=e.id,es=e.overflow,Jr=t),(t=Wi(t,a.children)).flags|=4096);return t}return o?(ui(),o=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Ur(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Ur(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,null===(c=e.child.memoizedState)?c=Hi(n):(null!==(l=c.cachePool)?(u=Ls._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vs(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Bi(e,s,n),t.memoizedState=$i,a):(li(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Wi(e,t){return(t=Vi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vi(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ki(e,t,n){return si(t,e.child,null,n),(e=Wi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function Xi(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Qi(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Ii(e,t,r.children,n),2&(r=hi.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gi(e,n,t);else if(19===e.tag)Gi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(hi,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===fi(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===fi(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xi(t,!0,n,null,a);break;case"together":Xi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ss(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ji(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_s(e))}function Zi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ti=!0;else{if(!(Ji(e,n)||128&t.flags))return Ti=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),ws(0,Ls,e.memoizedState.cache),ps();break;case 27:case 5:K(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:ws(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(li(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qi(e,t,n):(li(t),null!==(e=Yi(e,t,n))?e.sibling:null);li(t);break;case 19:var s=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ss(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Qi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(hi,hi.current),r)break;return null;case 22:case 23:return t.lanes=0,Li(e,t,n);case 24:ws(0,Ls,e.memoizedState.cache)}return Yi(e,t,n)}(e,t,n);Ti=!!(131072&e.flags)}else Ti=!1,is&&1048576&t.flags&&ns(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,a=s._init;if(s=a(s._payload),t.type=s,"function"!=typeof s){if(null!=s){if((a=s.$$typeof)===w){t.tag=11,t=Ai(null,t,s,e,n);break e}if(a===k){t.tag=14,t=Pi(null,t,s,e,n);break e}}throw t=A(s)||s,Error(r(306,t,""))}Fr(s)?(e=bi(s,e),t.tag=1,t=Fi(null,t,s,e,n)):(t.tag=0,t=Mi(null,t,s,e,n))}return t;case 0:return Mi(e,t,t.type,t.pendingProps,n);case 1:return Fi(e,t,s=t.type,a=bi(s,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(r(387));s=t.pendingProps;var o=t.memoizedState;a=o.element,aa(e,t),ha(t,s,null,n);var i=t.memoizedState;if(s=i.cache,ws(0,Ls,s),s!==o.cache&&ks(t,[Ls],n,!0),da(),s=i.element,o.isDehydrated){if(o={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ui(e,t,s,n);break e}if(s!==a){xs(a=_r(Error(r(424)),t)),t=Ui(e,t,s,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(os=vd(e.firstChild),as=t,is=!0,ls=null,cs=!0,n=ai(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),s===a){t=Yi(e,t,n);break e}Ii(e,t,s,n)}t=t.child}return t;case 26:return Oi(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:is||(n=t.type,e=t.pendingProps,(s=ad(B.current).createElement(n))[Le]=t,s[De]=e,nd(s,n,e),Ke(s),t.stateNode=s):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&is&&(s=t.stateNode=jd(t.type,t.pendingProps,B.current),as=t,cs=!0,a=os,pd(t.type)?(yd=a,os=vd(s.firstChild)):os=a),Ii(e,t,t.pendingProps.children,n),Oi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&is&&((a=s=os)&&(null!==(s=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,cs))?(t.stateNode=s,as=t,os=vd(s.firstChild),cs=!1,a=!0):a=!1),a||ds(t)),K(t),a=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,ld(a,o)?s=null:null!==i&&ld(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=Ra(e,t,Oa,null,null,n),Qd._currentValue=a),Oi(e,t),Ii(e,t,s,n),t.child;case 6:return null===e&&is&&((e=n=os)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,cs))?(t.stateNode=n,as=t,os=null,e=!0):e=!1),e||ds(t)),null;case 13:return qi(e,t,n);case 4:return W(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=si(t,null,s,n):Ii(e,t,s,n),t.child;case 11:return Ai(e,t,t.type,t.pendingProps,n);case 7:return Ii(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ii(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,ws(0,t.type,s.value),Ii(e,t,s.children,n),t.child;case 9:return a=t.type._context,s=t.pendingProps.children,Cs(t),s=s(a=Es(a)),t.flags|=1,Ii(e,t,s,n),t.child;case 14:return Pi(e,t,t.type,t.pendingProps,n);case 15:return Ri(e,t,t.type,t.pendingProps,n);case 19:return Qi(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},null===e?((n=Vi(s,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ur(e.child,s)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Li(e,t,n);case 24:return Cs(t),s=Es(Ls),null===e?(null===(a=qs())&&(a=ac,o=Ds(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:s,cache:a},sa(t),ws(0,Ls,a)):(0!==(e.lanes&n)&&(aa(e,t),ha(t,null,null,n),da()),a=e.memoizedState,o=t.memoizedState,a.parent!==s?(a={parent:s,cache:s},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ws(0,Ls,s)):(s=o.cache,ws(0,Ls,s),s!==a.cache&&ks(t,[Ls],n,!0))),Ii(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=oi.current)&&((4194048&ic)===ic?null!==ii:(62914560&ic)!==ic&&!(536870912&ic)||t!==ii))throw ea=Qs,Gs;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function rl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var s=t.pendingProps;switch(ss(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return sl(t),null;case 3:return n=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),js(Ls),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ms(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gs())),sl(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(sl(t),tl(t,n)):(sl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),sl(t),tl(t,n)):(sl(t),t.flags&=-16777217):(e.memoizedProps!==s&&el(t),sl(t),t.flags&=-16777217),null;case 27:G(t),n=B.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if(!s){if(null===t.stateNode)throw Error(r(166));return sl(t),null}e=$.current,ms(t)?hs(t):(e=jd(a,s,n),t.stateNode=e,el(t))}return sl(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if(!s){if(null===t.stateNode)throw Error(r(166));return sl(t),null}if(e=$.current,ms(t))hs(t);else{switch(a=ad(B.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof s.is?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"==typeof s.is?a.createElement(n,{is:s.is}):a.createElement(n)}}e[Le]=t,e[De]=s;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return sl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if("string"!=typeof s&&null===t.stateNode)throw Error(r(166));if(e=B.current,ms(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,null!==(a=as))switch(a.tag){case 27:case 5:s=a.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===n||null!==s&&!0===s.suppressHydrationWarning||Ju(e.nodeValue,n)))||ds(t)}else(e=ad(e).createTextNode(s))[Le]=t,t.stateNode=e}return sl(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ms(t),null!==s&&null!==s.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[Le]=t}else ps(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sl(t),a=!1}else a=gs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(di(t),t):(di(t),null)}if(di(t),128&t.flags)return t.lanes=n,t;if(n=null!==s,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(a=s.alternate.memoizedState.cachePool.pool);var o=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),sl(t),null;case 4:return V(),null===e&&Hu(t.stateNode.containerInfo),sl(t),null;case 10:return js(t.type),sl(t),null;case 19:if(F(hi),null===(a=t.memoizedState))return sl(t),null;if(s=!!(128&t.flags),null===(o=a.rendering))if(s)rl(a,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=fi(e))){for(t.flags|=128,rl(a,!1),e=o.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$r(n,e),n=n.sibling;return U(hi,1&hi.current|2),t.child}e=e.sibling}null!==a.tail&&ee()>kc&&(t.flags|=128,s=!0,rl(a,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=fi(o))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!is)return sl(t),null}else 2*ee()-a.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,s=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ee(),t.sibling=null,e=hi.current,U(hi,s?1&e|2:1&e),t):(sl(t),null);case 22:case 23:return di(t),va(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?!!(536870912&n)&&!(128&t.flags)&&(sl(t),6&t.subtreeFlags&&(t.flags|=8192)):sl(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),null!==e&&F(Bs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),js(Ls),sl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function ol(e,t){switch(ss(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return js(Ls),V(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(di(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(hi),null;case 4:return V(),null;case 10:return js(t.type),null;case 22:case 23:return di(t),va(),null!==e&&F(Bs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return js(Ls),null;default:return null}}function il(e,t){switch(ss(t),t.tag){case 3:js(Ls),V();break;case 26:case 27:case 5:G(t);break;case 4:V();break;case 13:di(t);break;case 19:F(hi);break;case 10:js(t.type);break;case 22:case 23:di(t),va(),null!==e&&F(Bs);break;case 24:js(Ls)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==s)}}catch(i){hu(t,t.return,i)}}function cl(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var a=s.next;r=a;do{if((r.tag&e)===e){var o=r.inst,i=o.destroy;if(void 0!==i){o.destroy=void 0,s=t;var l=n,c=i;try{c()}catch(u){hu(s,l,u)}}}r=r.next}while(r!==a)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ma(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=bi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(s){hu(e,t,s)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(s){hu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){hu(e,t,a)}else n.current=null}function ml(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){hu(e,e.return,s)}}function pl(e,t,n){try{var s=e.stateNode;!function(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,i=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(m)||ed(e,t,m,null,s,h)}}for(var f in s){var m=s[f];if(h=n[f],s.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":o=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:m!==h&&ed(e,t,f,m,s,h)}}return void bt(e,i,l,c,u,d,o,a);case"select":for(o in m=i=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":m=c;default:s.hasOwnProperty(o)||ed(e,t,o,null,s,c)}for(a in s)if(o=s[a],c=n[a],s.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:o!==c&&ed(e,t,a,o,s,c)}return t=l,n=i,s=m,void(null!=f?wt(e,!!n,f,!1):!!s!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,s,a)}for(i in s)if(a=s[i],o=n[i],s.hasOwnProperty(i)&&(null!=a||null!=o))switch(i){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==o&&ed(e,t,i,a,s,o)}return void jt(e,f,m);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!s.hasOwnProperty(p))if("selected"===p)e.selected=!1;else ed(e,t,p,null,s,f);for(c in s)if(f=s[c],m=n[c],s.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else ed(e,t,c,f,s,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!s.hasOwnProperty(g)&&ed(e,t,g,null,s,f);for(u in s)if(f=s[u],m=n[u],s.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ed(e,t,u,f,s,m)}return;default:if(Et(t)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&void 0!==f&&!s.hasOwnProperty(x)&&td(e,t,x,void 0,s,f);for(d in s)f=s[d],m=n[d],!s.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||td(e,t,d,f,s,m);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!s.hasOwnProperty(b)&&ed(e,t,b,null,s,f);for(h in s)f=s[h],m=n[h],!s.hasOwnProperty(h)||f===m||null==f&&null==m||ed(e,t,h,f,s,m)}(s,e.type,n,t),s[De]=t}catch(a){hu(e,e.return,a)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function xl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);nd(t,r,n),t[Le]=e,t[De]=n}catch(a){hu(e,e.return,a)}}var wl=!1,jl=!1,Nl=!1,kl="function"==typeof WeakSet?WeakSet:Set,Sl=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ll(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){hu(n,n.return,o)}else{var s=bi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){hu(n,n.return,i)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ma(e,t)}catch(o){hu(n,n.return,o)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&ml(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||jl,s=wl;var a=jl;wl=r,(jl=t)&&!a?$l(e,n,!!(8772&n.subtreeFlags)):Fl(e,n),wl=s,jl=a}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&He(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Tl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:jl||fl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:jl||fl(n,t);var r=El,s=Tl;pd(n.type)&&(El=n.stateNode,Tl=!1),Il(e,t,n),Nd(n.stateNode),El=r,Tl=s;break;case 5:jl||fl(n,t);case 6:if(r=El,s=Tl,El=null,Il(e,t,n),Tl=s,null!==(El=r))if(Tl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(o){hu(n,t,o)}else try{El.removeChild(n.stateNode)}catch(o){hu(n,t,o)}break;case 18:null!==El&&(Tl?(gd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):gd(El,n.stateNode));break;case 4:r=El,s=Tl,El=n.stateNode.containerInfo,Tl=!0,Il(e,t,n),El=r,Tl=s;break;case 0:case 11:case 14:case 15:jl||cl(2,n,t),jl||cl(4,n,t),Il(e,t,n);break;case 1:jl||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:jl=(r=jl)||null!==n.memoizedState,Il(e,t,n),jl=r;break;default:Il(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(n){hu(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ll(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var a=n[s],o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){El=l.stateNode,Tl=!1;break e}break;case 5:El=l.stateNode,Tl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===El)throw Error(r(160));Al(o,i,a),El=null,Tl=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Dl=null;function Ol(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ll(t,e),Ml(e),4&s&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Ll(t,e),Ml(e),512&s&&(jl||null===n||fl(n,n.return)),64&s&&wl&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?s:n.concat(s))));break;case 26:var a=Dl;if(Ll(t,e),Ml(e),512&s&&(jl||null===n||fl(n,n.return)),4&s){var o=null!==n?n.memoizedState:null;if(s=e.memoizedState,null===n)if(null===s)if(null===e.stateNode){e:{s=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(s){case"title":(!(o=a.getElementsByTagName("title")[0])||o[$e]||o[Le]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(s),a.head.insertBefore(o,a.querySelector("head > title"))),nd(o,s,n),o[Le]=e,Ke(o),s=o;break e;case"link":var i=$d("link","href",a).get(s+(n.href||""));if(i)for(var l=0;l<i.length;l++)if((o=i[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(l,1);break t}nd(o=a.createElement(s),s,n),a.head.appendChild(o);break;case"meta":if(i=$d("meta","content",a).get(s+(n.content||"")))for(l=0;l<i.length;l++)if((o=i[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(l,1);break t}nd(o=a.createElement(s),s,n),a.head.appendChild(o);break;default:throw Error(r(468,s))}o[Le]=e,Ke(o),s=o}e.stateNode=s}else Hd(a,e.type,e.stateNode);else e.stateNode=Od(a,s,e.memoizedProps);else o!==s?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===s?Hd(a,e.type,e.stateNode):Od(a,s,e.memoizedProps)):null===s&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ll(t,e),Ml(e),512&s&&(jl||null===n||fl(n,n.return)),null!==n&&4&s&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ll(t,e),Ml(e),512&s&&(jl||null===n||fl(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(m){hu(e,e.return,m)}}4&s&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&s&&(Nl=!0);break;case 6:if(Ll(t,e),Ml(e),4&s){if(null===e.stateNode)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(m){hu(e,e.return,m)}}break;case 3:if(Ud=null,a=Dl,Dl=_d(t.containerInfo),Ll(t,e),Dl=a,Ml(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(m){hu(e,e.return,m)}Nl&&(Nl=!1,zl(e));break;case 4:s=Dl,Dl=_d(e.stateNode.containerInfo),Ll(t,e),Ml(e),Dl=s;break;case 12:default:Ll(t,e),Ml(e);break;case 13:Ll(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Nc=ee()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Rl(e,s)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=jl;if(wl=u||a,jl=d||c,Ll(t,e),jl=d,wl=u,Ml(e),8192&s)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||wl||jl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,a)"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){hu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){hu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(n=s.retryQueue)&&(s.retryQueue=null,Rl(e,n))));break;case 19:Ll(t,e),Ml(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Rl(e,s)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,s=e.return;null!==s;){if(gl(s)){n=s;break}s=s.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;vl(e,xl(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(kt(o,""),n.flags&=-33),vl(e,xl(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;bl(e,xl(e),i);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Ul(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),Ul(t);break;case 27:Nd(t.stateNode);case 26:case 5:fl(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:$l(s,a,n),ll(4,a);break;case 1:if($l(s,a,n),"function"==typeof(s=(r=a).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(s=(r=a).updateQueue)){var i=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)fa(l[s],i)}catch(c){hu(r,r.return,c)}}n&&64&o&&ul(a),hl(a,a.return);break;case 27:yl(a);case 26:case 5:$l(s,a,n),n&&null===r&&4&o&&ml(a),hl(a,a.return);break;case 12:$l(s,a,n);break;case 13:$l(s,a,n),n&&4&o&&Pl(s,a);break;case 22:null===a.memoizedState&&$l(s,a,n),hl(a,a.return);break;case 30:break;default:$l(s,a,n)}t=t.sibling}}function Hl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Os(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e))}function ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),2048&s&&ll(9,t);break;case 1:case 13:default:ql(e,t,n,r);break;case 3:ql(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e)));break;case 12:if(2048&s){ql(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,i=a.onPostCommit;"function"==typeof i&&i(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else ql(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?ql(e,t,n,r):Kl(e,t):2&a._visibility?ql(e,t,n,r):(a._visibility|=2,Vl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&s&&Hl(o,t);break;case 24:ql(e,t,n,r),2048&s&&Bl(t.alternate,t)}}function Vl(e,t,n,r,s){for(s=s&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,i=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Vl(a,o,i,l,s),ll(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Vl(a,o,i,l,s):Kl(a,o):(u._visibility|=2,Vl(a,o,i,l,s)),s&&2048&c&&Hl(o.alternate,o);break;case 24:Vl(a,o,i,l,s),s&&2048&c&&Bl(o.alternate,o);break;default:Vl(a,o,i,l,s)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Kl(n,r),2048&s&&Hl(r.alternate,r);break;case 24:Kl(n,r),2048&s&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Gl=8192;function Xl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Xl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(r(475));var s=qd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Ad(n.href),o=e.querySelector(Pd(a));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(s.count++,s=Vd.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=o,void Ke(o);o=e.ownerDocument||e,n=Rd(n),(a=kd.get(a))&&zd(n,a),Ke(o=o.createElement("link"));var i=o;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(o,"link",n),t.instance=o}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(s.count++,t=Vd.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Xl(e);break;case 3:case 4:var t=Dl;Dl=_d(e.stateNode.containerInfo),Xl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Xl(e),Gl=t):Xl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,tc(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Jl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,tc(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Os(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var s=(r=Sl).sibling,a=r.return;if(Cl(r),r===n){Sl=null;break e}if(null!==s){s.return=a,Sl=s;break e}Sl=a}}}var nc={getCacheForType:function(e){var t=Es(Ls),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,sc=0,ac=null,oc=null,ic=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,mc=0,pc=0,gc=0,xc=0,bc=0,vc=0,yc=null,wc=null,jc=!1,Nc=0,kc=1/0,Sc=null,_c=null,Cc=0,Ec=null,Tc=null,Ic=0,Ac=0,Pc=null,Rc=null,Lc=0,Dc=null;function Oc(){if(2&sc&&0!==ic)return ic&-ic;if(null!==R.T){return 0!==Fs?Fs:Au()}return Pe()}function Mc(){0===bc&&(bc=536870912&ic&&!is?536870912:ke());var e=oi.current;return null!==e&&(e.flags|=32),bc}function zc(e,t,n){(e!==ac||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Wc(e,0),Hc(e,ic,bc,!1)),Ce(e,n),2&sc&&e===ac||(e===ac&&(!(2&sc)&&(gc|=n),4===mc&&Hc(e,ic,bc,!1)),ku(e))}function Fc(e,t,n){if(6&sc)throw Error(r(327));for(var s=!n&&!(124&t)&&0===(t&e.expiredLanes)||je(e,t),a=s?function(e,t){var n=sc;sc|=2;var s=Kc(),a=Gc();ac!==e||ic!==t?(Sc=null,kc=ee()+500,Wc(e,t)):dc=je(e,t);e:for(;;)try{if(0!==lc&&null!==oc){t=oc;var o=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,o,1);break;case 2:case 9:if(Ys(o)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||ac!==e||(lc=7),ku(e)},o.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Ys(o)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,o,7));break;case 5:var i=null;switch(oc.tag){case 26:i=oc.memoizedState;case 5:case 27:var l=oc;if(!i||Bd(i)){lc=0,cc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,nu(u)):oc=null}break t}}lc=0,cc=null,tu(e,t,o,5);break;case 6:lc=0,cc=null,tu(e,t,o,6);break;case 8:qc(),mc=6;break e;default:throw Error(r(462))}}Jc();break}catch(d){Vc(e,d)}return ys=vs=null,R.H=s,R.A=a,sc=n,null!==oc?0:(ac=null,ic=0,Ir(),mc)}(e,t):Qc(e,t,!0),o=s;;){if(0===a){dc&&!s&&Hc(e,t,0,!1);break}if(n=e.current.alternate,!o||$c(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var l=e;a=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,i).flags|=256),2!==(i=Qc(l,i,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=o,gc|=o,a=4;break e}o=wc,wc=a,null!==o&&(null===wc?wc=o:wc.push.apply(wc,o))}a=i}if(o=!1,2!==a)continue}}if(1===a){Wc(e,0),Hc(e,t,0,!0);break}e:{switch(s=e,o=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Hc(s,t,bc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=Nc+300-ee())){if(Hc(s,t,bc,!uc),0!==we(s,0,!0))break e;s.timeoutHandle=ud(Uc.bind(null,s,n,wc,Sc,jc,t,bc,gc,vc,uc,o,2,-0,0),a)}else Uc(s,n,wc,Sc,jc,t,bc,gc,vc,uc,o,0,-0,0)}break}a=Qc(e,t,!1),o=!1}ku(e)}function Uc(e,t,n,s,a,o,i,l,c,u,d,h,f,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(qd={stylesheets:null,count:0,unsuspend:Wd},Ql(t),null!==(h=function(){if(null===qd)throw Error(r(475));var e=qd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(su.bind(null,e,t,o,n,s,a,i,l,c,d,1,f,m)),void Hc(e,o,i,!u);su(e,t,o,n,s,a,i,l,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Yn(a(),s))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t,n,r){t&=~xc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var a=31-me(s),o=1<<a;r[a]=-1,s&=~o}0!==n&&Ee(e,n,t)}function Bc(){return!!(6&sc)||(Su(0),!1)}function qc(){if(null!==oc){if(0===lc)var e=oc.return;else ys=vs=null,Fa(e=oc),Yo=null,Jo=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),ac=e,oc=n=Ur(e.current,null),ic=t,lc=0,cc=null,uc=!1,dc=je(e,t),hc=!1,vc=bc=xc=gc=pc=mc=0,wc=yc=null,jc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-me(r),a=1<<s;t|=e[s],r&=~a}return fc=t,Ir(),n}function Vc(e,t){wa=null,R.H=Ko,t===Ks||t===Xs?(t=ta(),lc=3):t===Gs?(t=ta(),lc=4):lc=t===Ei?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===oc&&(mc=1,Ni(e,_r(t,e.current)))}function Kc(){var e=R.H;return R.H=Ko,null===e?Ko:e}function Gc(){var e=R.A;return R.A=nc,e}function Xc(){mc=4,uc||(4194048&ic)!==ic&&null!==oi.current||(dc=!0),!(134217727&pc)&&!(134217727&gc)||null===ac||Hc(ac,ic,bc,!1)}function Qc(e,t,n){var r=sc;sc|=2;var s=Kc(),a=Gc();ac===e&&ic===t||(Sc=null,Wc(e,t)),t=!1;var o=mc;e:for(;;)try{if(0!==lc&&null!==oc){var i=oc,l=cc;switch(lc){case 8:qc(),o=6;break e;case 3:case 2:case 9:case 6:null===oi.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,i,l,c),n&&dc){o=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,i,l,c)}}Yc(),o=mc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,ys=vs=null,sc=r,R.H=s,R.A=a,null===oc&&(ac=null,ic=0,Ir()),o}function Yc(){for(;null!==oc;)Zc(oc)}function Jc(){for(;null!==oc&&!J();)Zc(oc)}function Zc(e){var t=Zi(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):oc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zi(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=zi(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Fa(t);default:il(n,t),t=Zi(n,t=oc=$r(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):oc=t}function tu(e,t,n,s){ys=vs=null,Fa(t),Yo=null,Jo=0;var a=t.return;try{if(function(e,t,n,s,a){if(n.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){if(null!==(t=n.alternate)&&Ss(t,n,a,!0),null!==(n=oi.current)){switch(n.tag){case 13:return null===ii?Xc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,s===Qs?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([s]):t.add(s),fu(e,s,a)),!1;case 22:return n.flags|=65536,s===Qs?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([s]):n.add(s),fu(e,s,a)),!1}throw Error(r(435,n.tag))}return fu(e,s,a),Xc(),!1}if(is)return null!==(t=oi.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,s!==us&&xs(_r(e=Error(r(422),{cause:s}),n))):(s!==us&&xs(_r(t=Error(r(423),{cause:s}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,s=_r(s,n),ca(e,a=Si(e.stateNode,s,a)),4!==mc&&(mc=2)),!1;var o=Error(r(520),{cause:s});if(o=_r(o,n),null===yc?yc=[o]:yc.push(o),4!==mc&&(mc=2),null===t)return!0;s=_r(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ca(n,e=Si(n.stateNode,s,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==_c&&_c.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,Ci(a=_i(a),e,n,s),ca(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return mc=1,Ni(e,_r(n,e.current)),void(oc=null)}catch(o){if(null!==a)throw oc=a,o;return mc=1,Ni(e,_r(n,e.current)),void(oc=null)}32768&t.flags?(is||1===s?e=!0:dc||536870912&ic?e=!1:(uc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=oi.current)&&13===s.tag&&(s.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=al(t.alternate,t,fc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===mc&&(mc=5)}function ru(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);mc=6,oc=null}function su(e,t,n,s,a,o,i,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Cc);if(6&sc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,s,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-me(n),d=1<<u;i[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==a&&0===s&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,o|=Tr,i,l,c),e===ac&&(oc=ac=null,ic=0),Tc=t,Ec=e,Ic=n,Ac=o,Pc=a,Rc=s,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Q(se,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),s=!!(13878&t.flags),13878&t.subtreeFlags||s){s=R.T,R.T=null,a=L.p,L.p=2,i=sc,sc|=4;try{!function(e,t){if(e=e.containerInfo,rd=sh,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==s&&3!==h.nodeType||(c=i+s),3===h.nodeType&&(i+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=i),f===o&&++d===s&&(c=i),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sd={focusedElem:e,selectionRange:n},sh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,1024&t.subtreeFlags&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(o=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,s=n.stateNode;try{var p=bi(n.type,a,(n.elementType,n.type));e=s.getSnapshotBeforeUpdate(p,o),s.__reactInternalSnapshotBeforeUpdate=e}catch(x){hu(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))xd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{sc=i,L.p=a,R.T=s}}Cc=1,au(),ou(),iu()}}function au(){if(1===Cc){Cc=0;var e=Ec,t=Tc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=R.T,R.T=null;var r=L.p;L.p=2;var s=sc;sc|=4;try{Ol(t,e);var a=sd,o=nr(e.containerInfo),i=a.focusedElem,l=a.selectionRange;if(o!==i&&i&&i.ownerDocument&&tr(i.ownerDocument.documentElement,i)){if(null!==l&&rr(i)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=i.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!f.extend&&p>g&&(o=g,g=p,p=o);var x=er(i,p),b=er(i,g);if(x&&b&&(1!==f.rangeCount||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var v=d.createRange();v.setStart(x.node,x.offset),f.removeAllRanges(),p>g?(f.addRange(v),f.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),f.addRange(v))}}}}for(d=[],f=i;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<d.length;i++){var y=d[i];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}sh=!!rd,sd=rd=null}finally{sc=s,L.p=r,R.T=n}}e.current=t,Cc=2}}function ou(){if(2===Cc){Cc=0;var e=Ec,t=Tc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=R.T,R.T=null;var r=L.p;L.p=2;var s=sc;sc|=4;try{_l(e,t.alternate,t)}finally{sc=s,L.p=r,R.T=n}}Cc=3}}function iu(){if(4===Cc||3===Cc){Cc=0,Z();var e=Ec,t=Tc,n=Ic,r=Rc;10256&t.subtreeFlags||10256&t.flags?Cc=5:(Cc=0,Tc=Ec=null,lu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(_c=null),Ae(n),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=R.T,s=L.p,L.p=2,R.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var i=r[o];a(i.value,{componentStack:i.stack})}}finally{R.T=t,L.p=s}}3&Ic&&cu(),ku(e),s=e.pendingLanes,4194090&n&&42&s?e===Dc?Lc++:(Lc=0,Dc=e):Lc=0,Su(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Os(t)))}function cu(e){return au(),ou(),iu(),uu()}function uu(){if(5!==Cc)return!1;var e=Ec,t=Ac;Ac=0;var n=Ae(Ic),s=R.T,a=L.p;try{L.p=32>n?32:n,R.T=null,n=Pc,Pc=null;var o=Ec,i=Ic;if(Cc=0,Tc=Ec=null,Ic=0,6&sc)throw Error(r(331));var l=sc;if(sc|=4,Zl(o.current),Wl(o,o.current,i,n),sc=l,Su(0,!1),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{L.p=a,R.T=s,lu(e,t)}}function du(e,t,n){t=_r(n,t),null!==(e=ia(e,t=Si(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=_r(n,e),null!==(r=ia(t,n=_i(2),2))&&(Ci(n,r,t,e),Ce(r,2),ku(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(hc=!0,s.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(ic&n)===n&&(4===mc||3===mc&&(62914560&ic)===ic&&300>ee()-Nc?!(2&sc)&&Wc(e,0):xc|=n,vc===ic&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Rr(e,t))&&(Ce(e,t),ku(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==s&&s.delete(t),pu(e,n)}var bu=null,vu=null,yu=!1,wu=!1,ju=!1,Nu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?bu=vu=e:vu=vu.next=e),wu=!0,yu||(yu=!0,fd(function(){6&sc?Q(ne,_u):Cu()}))}function Su(e,t){if(!ju&&wu){ju=!0;do{for(var n=!1,r=bu;null!==r;){if(0!==e){var s=r.pendingLanes;if(0===s)var a=0;else{var o=r.suspendedLanes,i=r.pingedLanes;a=(1<<31-me(42|e)+1)-1,a=201326741&(a&=s&~(o&~i))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Iu(r,a))}else a=ic,!(3&(a=we(r,r===ac?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||je(r,a)||(n=!0,Iu(r,a));r=r.next}}while(n);ju=!1}}function _u(){Cu()}function Cu(){wu=yu=!1;var e=0;0!==Nu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=Nu),Nu=0);for(var t=ee(),n=null,r=bu;null!==r;){var s=r.next,a=Eu(r,t);0===a?(r.next=null,null===n?bu=s:n.next=s,null===s&&(vu=n)):(n=r,(0!==e||3&a)&&(wu=!0)),r=s}Su(e)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-me(a),i=1<<o,l=s[o];-1===l?0!==(i&n)&&0===(i&r)||(s[o]=Ne(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}if(n=ic,n=we(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Y(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Y(r),Ae(n)){case 2:case 8:n=re;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Tu.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Y(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=we(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Eu(e,ee()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Iu(e,t){if(cu())return null;Fc(e,t,!0)}function Au(){return 0===Nu&&(Nu=ke()),Nu}function Pu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:At(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Lu=0;Lu<Nr.length;Lu++){var Du=Nr[Lu];kr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}kr(pr,"onAnimationEnd"),kr(gr,"onAnimationIteration"),kr(xr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(br,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(wr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function zu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&s.isPropagationStopped())break e;a=i,s.currentTarget=c;try{a(s)}catch(u){vi(u)}s.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==a&&s.isPropagationStopped())break e;a=i,s.currentTarget=c;try{a(s)}catch(u){vi(u)}s.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[$u]){e[$u]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Uu(t,!1,e),Uu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Uu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(dh(t)){case 2:var s=ah;break;case 8:s=oh;break;default:s=ih}n=s.bind(null,t,n,e),s=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qu(e,t,n,r,s){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===s)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==l;){if(null===(i=Be(l)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=o=i;continue e}l=l.parentNode}}r=r.return}zt(function(){var r=o,s=Rt(n),i=[];e:{var l=jr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case gr:case xr:c=cn;break;case wr:c=yn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=jn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=r;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Ft(p,f))&&d.push(Wu(p,g,m)),h)break;p=p.return}0<d.length&&(l=new c(l,u,null,n,s),i.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=a(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?l:We(c),m=null==u?l:We(u),(l=new d(g,p+"leave",c,n,s)).target=h,l.relatedTarget=m,g=null,Be(s)===r&&((d=new d(f,p+"enter",u,n,s)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,p=0,m=d=c;m;m=Ku(m))p++;for(m=0,g=f;g;g=Ku(g))m++;for(;0<p-m;)d=Ku(d),p--;for(;0<m-p;)f=Ku(f),m--;for(;p--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&Gu(i,l,c,d,!1),null!==u&&null!==h&&Gu(i,h,u,d,!0)}if("select"===(c=(l=r?We(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=Un;else if(Ln(l))if($n)x=Qn;else{x=Gn;var b=Kn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Et(r.elementType)&&(x=Un):x=Xn;switch(x&&(x=x(e,r))?Dn(i,x,n,s):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&yt(l,"number",l.value)),b=r?We(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(ar=b,or=r,ir=null);break;case"focusout":ir=or=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(i,n,s);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":cr(i,n,s)}var v;if(kn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Pn?In(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Cn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Pn&&(v=Vt()):(qt="value"in(Bt=s)?Bt.value:Bt.textContent,Pn=!0)),0<(b=Vu(r,y)).length&&(y=new dn(y,e,null,n,s),i.push({event:y,listeners:b}),v?y.data=v:null!==(v=An(n))&&(y.data=v))),(v=_n?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!kn&&In(e,t)?(e=Vt(),Wt=qt=Bt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Vu(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,s),i.push({event:b,listeners:y}),b.data=v)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var a=Pu((s[De]||null).action),o=r.submitter;o&&null!==(t=(t=o[De]||null)?Pu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var i=new tn("action","action",null,r,s);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nu){var e=o?Ru(s,o):new FormData(s);Ro(n,{pending:!0,data:e,method:s.method,action:a},null,e)}}else"function"==typeof a&&(i.preventDefault(),e=o?Ru(s,o):new FormData(s),Ro(n,{pending:!0,data:e,method:s.method,action:a},a,e))},currentTarget:s}]})}}(i,e,r,n,s)}zu(i,t)})}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===a||(null!=(s=Ft(e,n))&&r.unshift(Wu(e,s,a)),null!=(s=Ft(e,t))&&r.push(Wu(e,s,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,s){for(var a=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(i=i.tag,null!==l&&l===r)break;5!==i&&26!==i&&27!==i||null===c||(l=c,s?null!=(c=Ft(n,a))&&o.unshift(Wu(n,c,l)):s||null!=(c=Ft(n,a))&&o.push(Wu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Xu,"\n").replace(Qu,"")}function Ju(e,t){return t=Yu(t),Yu(e)===t}function Zu(){}function ed(e,t,n,s,a,o){switch(n){case"children":"string"==typeof s?"body"===t||"textarea"===t&&""===s||kt(e,s):("number"==typeof s||"bigint"==typeof s)&&"body"!==t&&kt(e,""+s);break;case"className":st(e,"class",s);break;case"tabIndex":st(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,s);break;case"style":Ct(e,s,o);break;case"data":if("object"!==t){st(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==s||"function"==typeof s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(n);break}s=At(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if("function"==typeof s){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(n);break}s=At(""+s),e.setAttribute(n,s);break;case"onClick":null!=s&&(e.onclick=Zu);break;case"onScroll":null!=s&&Fu("scroll",e);break;case"onScrollEnd":null!=s&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(r(61));if(null!=(n=s.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"muted":e.muted=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"==typeof s||"boolean"==typeof s||"symbol"==typeof s){e.removeAttribute("xlink:href");break}n=At(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===s?e.setAttribute(n,""):!1!==s&&null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":null==s||"function"==typeof s||"symbol"==typeof s||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),rt(e,"popover",s);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":rt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Tt.get(n)||n,s)}}function td(e,t,n,s,a,o){switch(n){case"style":Ct(e,s,o);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(r(61));if(null!=(n=s.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof s?kt(e,s):("number"==typeof s||"bigint"==typeof s)&&kt(e,""+s);break;case"onScroll":null!=s&&Fu("scroll",e);break;case"onScrollEnd":null!=s&&Fu("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(o=null!=(o=e[De]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!=typeof s)?n in e?e[n]=s:!0===s?e.setAttribute(n,""):rt(e,n,s):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var s,a=!1,o=!1;for(s in n)if(n.hasOwnProperty(s)){var i=n[s];if(null!=i)switch(s){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,s,i,n,null)}}return o&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=s=i=o=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,a,d,n,null)}}return vt(e,s,l,c,u,i,o,!1),void ft(e);case"select":for(o in Fu("invalid",e),a=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"multiple":a=l;default:ed(e,t,o,l,n,null)}return t=s,n=i,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(i in Fu("invalid",e),s=o=a=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":a=l;break;case"defaultValue":o=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,i,l,n,null)}return Nt(e,a,o,s),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else ed(e,t,c,a,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(a=0;a<Ou.length;a++)Fu(Ou[a],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,a,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&td(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&ed(e,t,l,a,n,null))}var rd=null,sd=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(md)}:ud;function md(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Nd(o.documentElement),2&n&&Nd(o.body),4&n)for(Nd(n=o.head),o=n.firstChild;o;){var i=o.nextSibling,l=o.nodeName;o[$e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=i}}if(0===s)return e.removeChild(a),void Th(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Th(t)}function xd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xd(n),He(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function bd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Nd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);He(e)}var kd=new Map,Sd=new Set;function _d(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=L.d;L.d={f:function(){var e=Cd.f(),t=Bc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Do(t):Cd.r(e)},D:function(e){Cd.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Ed;if(r&&e&&t){var s='link[rel="preload"][as="'+xt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+xt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(s+='[imagesizes="'+xt(n.imageSizes)+'"]')):s+='[href="'+xt(e)+'"]';var a=s;switch(t){case"style":a=Ad(e);break;case"script":a=Ld(e)}kd.has(a)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Pd(a))||"script"===t&&r.querySelector(Dd(a))||(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+xt(r)+'"][href="'+xt(e)+'"]',a=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ld(e)}if(!kd.has(a)&&(e=c({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(a)))return}nd(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Ed;if(n&&e){var r=Ve(n).hoistableScripts,s=Ld(e),a=r.get(s);a||((a=n.querySelector(Dd(s)))||(e=c({src:e,async:!0},t),(t=kd.get(s))&&Fd(e,t),Ke(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}},S:function(e,t,n){Cd.S(e,t,n);var r=Ed;if(r&&e){var s=Ve(r).hoistableStyles,a=Ad(e);t=t||"default";var o=s.get(a);if(!o){var i={loading:0,preload:null};if(o=r.querySelector(Pd(a)))i.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&zd(e,n);var l=o=r.createElement("link");Ke(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){i.loading|=1}),l.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Md(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:i},s.set(a,o)}}},M:function(e,t){Cd.M(e,t);var n=Ed;if(n&&e){var r=Ve(n).hoistableScripts,s=Ld(e),a=r.get(s);a||((a=n.querySelector(Dd(s)))||(e=c({src:e,async:!0,type:"module"},t),(t=kd.get(s))&&Fd(e,t),Ke(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}}};var Ed="undefined"==typeof document?null:document;function Td(e,t,n){var r=Ed;if(r&&"string"==typeof t&&t){var s=xt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"==typeof n&&(s+='[crossorigin="'+n+'"]'),Sd.has(s)||(Sd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Id(e,t,n,s){var a,o,i,l,c=(c=B.current)?_d(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ad(n.href),(s=(n=Ve(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ad(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(a=c,o=e,i=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=a.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),nd(o,"link",i),Ke(o),a.head.appendChild(o))))),t&&null===s)throw Error(r(528,""));return d}if(t&&null!==s)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Ld(n),(s=(n=Ve(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ad(e){return'href="'+xt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Ld(e){return'[src="'+xt(e)+'"]'}function Dd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+xt(n.href)+'"]');if(s)return t.instance=s,Ke(s),s;var a=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(s=(e.ownerDocument||e).createElement("style")),nd(s,"style",a),Md(s,n.precedence,e),t.instance=s;case"stylesheet":a=Ad(n.href);var o=e.querySelector(Pd(a));if(o)return t.state.loading|=4,t.instance=o,Ke(o),o;s=Rd(n),(a=kd.get(a))&&zd(s,a),Ke(o=(e.ownerDocument||e).createElement("link"));var i=o;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(o,"link",s),t.state.loading|=4,Md(o,n.precedence,e),t.instance=o;case"script":return o=Ld(n.src),(a=e.querySelector(Dd(o)))?(t.instance=a,Ke(a),a):(s=n,(a=kd.get(o))&&Fd(s=c({},n),a),Ke(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",s),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Md(s,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,a=s,o=0;o<r.length;o++){var i=r[o];if(i.dataset.precedence===t)a=i;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function $d(e,t,n){if(null===Ud){var r=new Map,s=Ud=new Map;s.set(n,r)}else(r=(s=Ud).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var a=n[s];if(!(a[$e]||a[Le]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var i=r.get(o);i?i.push(a):r.set(o,[a])}}return r}function Hd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var qd=null;function Wd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Xd,e),Kd=null,Vd.call(e))}function Xd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var o=s[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(s=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,s),n.set(o,s),this.count++,r=Vd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),a?a.parentNode.insertBefore(s,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:y,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Yd(e,t,n,r,s,a,o,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Jd(e,t,n,r,s,a,o,i,l,c,u,d){return e=new Yd(e,t,n,o,i,l,c,d),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ds()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},sa(a),e}function Zd(e){return e?e=Or:Or}function eh(e,t,n,r,s,a){s=Zd(s),null===r.context?r.context=s:r.pendingContext=s,(r=oa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ia(e,r,t))&&(zc(n,0,t),la(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&zc(t,0,67108864),nh(e,67108864)}}var sh=!0;function ah(e,t,n,r){var s=R.T;R.T=null;var a=L.p;try{L.p=2,ih(e,t,n,r)}finally{L.p=a,R.T=s}}function oh(e,t,n,r){var s=R.T;R.T=null;var a=L.p;try{L.p=8,ih(e,t,n,r)}finally{L.p=a,R.T=s}}function ih(e,t,n,r){if(sh){var s=lh(r);if(null===s)qu(e,t,r,ch,n),yh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return fh=wh(fh,e,t,n,r,s),!0;case"dragenter":return mh=wh(mh,e,t,n,r,s),!0;case"mouseover":return ph=wh(ph,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return gh.set(a,wh(gh.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xh.set(a,wh(xh.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==s;){var a=qe(s);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ye(a.pendingLanes);if(0!==o){var i=a;for(i.pendingLanes|=2,i.entangledLanes|=2;o;){var l=1<<31-me(o);i.entanglements[1]|=l,o&=~l}ku(a),!(6&sc)&&(kc=ee()+500,Su(0))}}break;case 13:null!==(i=Rr(a,2))&&zc(i,0,2),Bc(),nh(a,2)}if(null===(a=lh(r))&&qu(e,t,r,ch,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else qu(e,t,r,null,n)}}function lh(e){return uh(e=Rt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=Be(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case ne:return 2;case re:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,mh=null,ph=null,gh=new Map,xh=new Map,bh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":mh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(t.pointerId)}}function wh(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=qe(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function jh(e){var t=Be(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Ie(e);var t=Rr(n,e);null!==t&&zc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function kh(e,t,n){Nh(e)&&n.delete(t)}function Sh(){hh=!1,null!==fh&&Nh(fh)&&(fh=null),null!==mh&&Nh(mh)&&(mh=null),null!==ph&&Nh(ph)&&(ph=null),gh.forEach(kh),xh.forEach(kh)}function _h(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sh)))}var Ch=null;function Eh(t){Ch!==t&&(Ch=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ch===t&&(Ch=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var a=qe(n);null!==a&&(t.splice(e,3),e-=3,Ro(a,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Th(e){function t(t){return _h(t,e)}null!==fh&&_h(fh,e),null!==mh&&_h(mh,e),null!==ph&&_h(ph,e),gh.forEach(t),xh.forEach(t);for(var n=0;n<bh.length;n++){var r=bh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bh.length&&null===(n=bh[0]).blockedOn;)jh(n),null===n.blockedOn&&bh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],a=n[r+1],o=s[De]||null;if("function"==typeof a)o||Eh(n);else if(o){var i=null;if(a&&a.hasAttribute("formAction")){if(s=a,o=a[De]||null)i=o.formAction;else if(null!==uh(s))continue}else i=o.action;"function"==typeof i?n[r+1]=i:(n.splice(r,3),r-=3),Eh(n)}}}function Ih(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,Oc(),e,t,null,null)},Ah.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bh.length&&0!==t&&t<bh[n].priority;n++);bh.splice(n,0,e),0===n&&jh(e)}};var Ph=t.version;if("19.1.1"!==Ph)throw Error(r(527,Ph,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(null===o)break;var l=o.alternate;if(null===l){if(null!==(s=o.return)){n=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return i(o),e;if(l===s)return i(o),t;l=l.sibling}throw Error(r(188))}if(n.return!==s.return)n=o,s=l;else{for(var c=!1,u=o.child;u;){if(u===n){c=!0,n=o,s=l;break}if(u===s){c=!0,s=o,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,s=o;break}if(u===s){c=!0,s=l,n=o;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{ue=Lh.inject(Rh),de=Lh}catch(Oh){}}return he.createRoot=function(e,t){if(!s(e))throw Error(r(299));var n=!1,a="",o=yi,i=wi,l=ji;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jd(e,1,!1,null,0,n,a,o,i,l,0,null),e[Oe]=t.current,Hu(e),new Ih(t)},he.hydrateRoot=function(e,t,n){if(!s(e))throw Error(r(299));var a=!1,o="",i=yi,l=wi,c=ji,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Jd(e,1,!0,t,0,a,o,i,l,c,0,u)).context=Zd(null),n=t.current,(o=oa(a=Ie(a=Oc()))).callback=null,ia(n,o,a),n=a,t.current.lanes=n,Ce(t,n),ku(t),e[Oe]=t.current,Hu(e),new Ah(t)},he.version="19.1.1",he}const xe=b((ce||(ce=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),de.exports=ge()),de.exports));function be({as:e="button",variant:t="primary",className:n="",...r}){return ue.jsx(e,{className:v("btn",{primary:"btn-primary",outline:"btn-outline",ghost:"btn-ghost"}[t],n),...r})}class ve extends Error{}function ye(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(n){return atob(t)}}function we(e,t){if("string"!=typeof e)throw new ve("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!=typeof r)throw new ve(`Invalid token specified: missing part #${n+1}`);let s;try{s=ye(r)}catch(a){throw new ve(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(s)}catch(a){throw new ve(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}ve.prototype.name="InvalidTokenError";const je=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,s,a);return a},Ne=e=>e;const ke=t=>{const n=(e=>e?je(e):je)(t),r=t=>function(t,n=Ne){const r=e.useSyncExternalStore(t.subscribe,e.useCallback(()=>n(t.getState()),[t,n]),e.useCallback(()=>n(t.getInitialState()),[t,n]));return e.useDebugValue(r),r}(n,t);return Object.assign(r,n),r},Se=e=>e?ke(e):ke;function _e(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ce}=Object.prototype,{getPrototypeOf:Ee}=Object,{iterator:Te,toStringTag:Ie}=Symbol,Ae=(e=>t=>{const n=Ce.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pe=e=>(e=e.toLowerCase(),t=>Ae(t)===e),Re=e=>t=>typeof t===e,{isArray:Le}=Array,De=Re("undefined");function Oe(e){return null!==e&&!De(e)&&null!==e.constructor&&!De(e.constructor)&&Fe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Me=Pe("ArrayBuffer");const ze=Re("string"),Fe=Re("function"),Ue=Re("number"),$e=e=>null!==e&&"object"==typeof e,He=e=>{if("object"!==Ae(e))return!1;const t=Ee(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Ie in e||Te in e)},Be=Pe("Date"),qe=Pe("File"),We=Pe("Blob"),Ve=Pe("FileList"),Ke=Pe("URLSearchParams"),[Ge,Xe,Qe,Ye]=["ReadableStream","Request","Response","Headers"].map(Pe);function Je(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),Le(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Oe(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(r=0;r<a;r++)o=s[r],t.call(null,e[o],o,e)}}function Ze(e,t){if(Oe(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,tt=e=>!De(e)&&e!==et;const nt=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&Ee(Uint8Array)),rt=Pe("HTMLFormElement"),st=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),at=Pe("RegExp"),ot=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Je(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const it=Pe("AsyncFunction"),lt=(ct="function"==typeof setImmediate,ut=Fe(et.postMessage),ct?setImmediate:ut?(dt=`axios@${Math.random()}`,ht=[],et.addEventListener("message",({source:e,data:t})=>{e===et&&t===dt&&ht.length&&ht.shift()()},!1),e=>{ht.push(e),et.postMessage(dt,"*")}):e=>setTimeout(e));var ct,ut,dt,ht;const ft="undefined"!=typeof queueMicrotask?queueMicrotask.bind(et):"undefined"!=typeof process&&process.nextTick||lt,mt={isArray:Le,isArrayBuffer:Me,isBuffer:Oe,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Fe(e.append)&&("formdata"===(t=Ae(e))||"object"===t&&Fe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Me(e.buffer),t},isString:ze,isNumber:Ue,isBoolean:e=>!0===e||!1===e,isObject:$e,isPlainObject:He,isEmptyObject:e=>{if(!$e(e)||Oe(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Ge,isRequest:Xe,isResponse:Qe,isHeaders:Ye,isUndefined:De,isDate:Be,isFile:qe,isBlob:We,isRegExp:at,isFunction:Fe,isStream:e=>$e(e)&&Fe(e.pipe),isURLSearchParams:Ke,isTypedArray:nt,isFileList:Ve,forEach:Je,merge:function e(){const{caseless:t,skipUndefined:n}=tt(this)&&this||{},r={},s=(s,a)=>{const o=t&&Ze(r,a)||a;He(r[o])&&He(s)?r[o]=e(r[o],s):He(s)?r[o]=e({},s):Le(s)?r[o]=s.slice():n&&De(s)||(r[o]=s)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Je(arguments[a],s);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(Je(t,(t,r)=>{n&&Fe(t)?e[r]=_e(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,o;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],r&&!r(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&Ee(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ae,kindOfTest:Pe,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Le(e))return e;let t=e.length;if(!Ue(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Te]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:rt,hasOwnProperty:st,hasOwnProp:st,reduceDescriptors:ot,freezeMethods:e=>{ot(e,(t,n)=>{if(Fe(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Fe(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Le(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ze,global:et,isContextDefined:tt,isSpecCompliantForm:function(e){return!!(e&&Fe(e.append)&&"FormData"===e[Ie]&&e[Te])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if($e(e)){if(t.indexOf(e)>=0)return;if(Oe(e))return e;if(!("toJSON"in e)){t[r]=e;const s=Le(e)?[]:{};return Je(e,(e,t)=>{const a=n(e,r+1);!De(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:it,isThenable:e=>e&&($e(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),setImmediate:lt,asap:ft,isIterable:e=>null!=e&&Fe(e[Te])};function pt(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}mt.inherits(pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const gt=pt.prototype,xt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xt[e]={value:e}}),Object.defineProperties(pt,xt),Object.defineProperty(gt,"isAxiosError",{value:!0}),pt.from=(e,t,n,r,s,a)=>{const o=Object.create(gt);mt.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return pt.call(o,i,l,n,r,s),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};function bt(e){return mt.isPlainObject(e)||mt.isArray(e)}function vt(e){return mt.endsWith(e,"[]")?e.slice(0,-2):e}function yt(e,t,n){return e?e.concat(t).map(function(e,t){return e=vt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const wt=mt.toFlatObject(mt,{},null,function(e){return/^is[A-Z]/.test(e)});function jt(e,t,n){if(!mt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=mt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!mt.isUndefined(t[e])})).metaTokens,s=n.visitor||c,a=n.dots,o=n.indexes,i=(n.Blob||"undefined"!=typeof Blob&&Blob)&&mt.isSpecCompliantForm(t);if(!mt.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(mt.isDate(e))return e.toISOString();if(mt.isBoolean(e))return e.toString();if(!i&&mt.isBlob(e))throw new pt("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(e)||mt.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let i=e;if(e&&!s&&"object"==typeof e)if(mt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(mt.isArray(e)&&function(e){return mt.isArray(e)&&!e.some(bt)}(e)||(mt.isFileList(e)||mt.endsWith(n,"[]"))&&(i=mt.toArray(e)))return n=vt(n),i.forEach(function(e,r){!mt.isUndefined(e)&&null!==e&&t.append(!0===o?yt([n],r,a):null===o?n:n+"[]",l(e))}),!1;return!!bt(e)||(t.append(yt(s,n,a),l(e)),!1)}const u=[],d=Object.assign(wt,{defaultVisitor:c,convertValue:l,isVisitable:bt});if(!mt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!mt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),mt.forEach(n,function(n,a){!0===(!(mt.isUndefined(n)||null===n)&&s.call(t,n,mt.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t}function Nt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function kt(e,t){this._pairs=[],e&&jt(e,this,t)}const St=kt.prototype;function _t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ct(e,t,n){if(!t)return e;const r=n&&n.encode||_t;mt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):mt.isURLSearchParams(t)?t.toString():new kt(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}St.append=function(e,t){this._pairs.push([e,t])},St.toString=function(e){const t=e?function(t){return e.call(this,t,Nt)}:Nt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Et{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){mt.forEach(this.handlers,function(t){null!==t&&e(t)})}}const Tt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},It={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:kt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},At="undefined"!=typeof window&&"undefined"!=typeof document,Pt="object"==typeof navigator&&navigator||void 0,Rt=At&&(!Pt||["ReactNative","NativeScript","NS"].indexOf(Pt.product)<0),Lt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Dt=At&&window.location.href||"http://localhost",Ot={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:At,hasStandardBrowserEnv:Rt,hasStandardBrowserWebWorkerEnv:Lt,navigator:Pt,origin:Dt},Symbol.toStringTag,{value:"Module"})),...It};function Mt(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),i=s>=e.length;if(a=!a&&mt.isArray(r)?r.length:a,i)return mt.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&mt.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&mt.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(mt.isFormData(e)&&mt.isFunction(e.entries)){const n={};return mt.forEachEntry(e,(e,r)=>{t(function(e){return mt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const zt={transitional:Tt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=mt.isObject(e);s&&mt.isHTMLForm(e)&&(e=new FormData(e));if(mt.isFormData(e))return r?JSON.stringify(Mt(e)):e;if(mt.isArrayBuffer(e)||mt.isBuffer(e)||mt.isStream(e)||mt.isFile(e)||mt.isBlob(e)||mt.isReadableStream(e))return e;if(mt.isArrayBufferView(e))return e.buffer;if(mt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return jt(e,new Ot.classes.URLSearchParams,{visitor:function(e,t,n,r){return Ot.isNode&&mt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=mt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return jt(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(mt.isString(e))try{return(t||JSON.parse)(e),mt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||zt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(mt.isResponse(e)||mt.isReadableStream(e))return e;if(e&&mt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(s){if(n){if("SyntaxError"===s.name)throw pt.from(s,pt.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],e=>{zt.headers[e]={}});const Ft=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ut=Symbol("internals");function $t(e){return e&&String(e).trim().toLowerCase()}function Ht(e){return!1===e||null==e?e:mt.isArray(e)?e.map(Ht):String(e)}function Bt(e,t,n,r,s){return mt.isFunction(r)?r.call(this,t,n):(s&&(t=n),mt.isString(t)?mt.isString(r)?-1!==t.indexOf(r):mt.isRegExp(r)?r.test(t):void 0:void 0)}let qt=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=$t(t);if(!s)throw new Error("header name must be a non-empty string");const a=mt.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Ht(e))}const a=(e,t)=>mt.forEach(e,(e,n)=>s(e,n,t));if(mt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(mt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Ft[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(mt.isObject(e)&&mt.isIterable(e)){let n,r,s={};for(const t of e){if(!mt.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?mt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=$t(e)){const n=mt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(mt.isFunction(t))return t.call(this,e,n);if(mt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$t(e)){const n=mt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Bt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=$t(e)){const s=mt.findKey(n,e);!s||t&&!Bt(0,n[s],s,t)||(delete n[s],r=!0)}}return mt.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Bt(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return mt.forEach(this,(r,s)=>{const a=mt.findKey(n,s);if(a)return t[a]=Ht(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();o!==s&&delete t[s],t[o]=Ht(r),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return mt.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&mt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Ut]=this[Ut]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=$t(e);t[r]||(!function(e,t){const n=mt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return mt.isArray(e)?e.forEach(r):r(e),this}};function Wt(e,t){const n=this||zt,r=t||n,s=qt.from(r.headers);let a=r.data;return mt.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Vt(e){return!(!e||!e.__CANCEL__)}function Kt(e,t,n){pt.call(this,null==e?"canceled":e,pt.ERR_CANCELED,t,n),this.name="CanceledError"}function Gt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new pt("Request failed with status code "+n.status,[pt.ERR_BAD_REQUEST,pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),mt.reduceDescriptors(qt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),mt.freezeMethods(qt),mt.inherits(Kt,pt,{__CANCEL__:!0});const Xt=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=r[o];s||(s=l),n[a]=i,r[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,s=0,a=1e3/t;const o=(t,a=Date.now())=>{s=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),i=t-s;i>=a?o(e,t):(n=e,r||(r=setTimeout(()=>{r=null,o(n)},a-i)))},()=>n&&o(n)]}(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,i=a-r,l=s(i);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Qt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Yt=e=>(...t)=>mt.asap(()=>e(...t)),Jt=Ot.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ot.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,Zt=Ot.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const o=[e+"="+encodeURIComponent(t)];mt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),mt.isString(r)&&o.push("path="+r),mt.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function en(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const tn=e=>e instanceof qt?{...e}:e;function nn(e,t){t=t||{};const n={};function r(e,t,n,r){return mt.isPlainObject(e)&&mt.isPlainObject(t)?mt.merge.call({caseless:r},e,t):mt.isPlainObject(t)?mt.merge({},t):mt.isArray(t)?t.slice():t}function s(e,t,n,s){return mt.isUndefined(t)?mt.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!mt.isUndefined(t))return r(void 0,t)}function o(e,t){return mt.isUndefined(t)?mt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,n)=>s(tn(e),tn(t),0,!0)};return mt.forEach(Object.keys({...e,...t}),function(r){const a=l[r]||s,o=a(e[r],t[r],r);mt.isUndefined(o)&&a!==i||(n[r]=o)}),n}const rn=e=>{const t=nn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:i}=t;if(t.headers=o=qt.from(o),t.url=Ct(en(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),mt.isFormData(n))if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(mt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&o.set(e,n)})}if(Ot.hasStandardBrowserEnv&&(r&&mt.isFunction(r)&&(r=r(t)),r||!1!==r&&Jt(t.url))){const e=s&&a&&Zt.read(a);e&&o.set(s,e)}return t},sn="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=rn(e);let s=r.data;const a=qt.from(r.headers).normalize();let o,i,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=qt.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Gt(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new pt("Request aborted",pt.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const r=new pt(t&&t.message?t.message:"Network Error",pt.ERR_NETWORK,e,p);r.event=t||null,n(r),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Tt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new pt(t,s.clarifyTimeoutError?pt.ETIMEDOUT:pt.ECONNABORTED,e,p)),p=null},void 0===s&&a.setContentType(null),"setRequestHeader"in p&&mt.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),mt.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),d&&"json"!==d&&(p.responseType=r.responseType),f&&([l,u]=Xt(f,!0),p.addEventListener("progress",l)),h&&p.upload&&([i,c]=Xt(h),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{p&&(n(!t||t.type?new Kt(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===Ot.protocols.indexOf(x)?n(new pt("Unsupported protocol "+x+":",pt.ERR_BAD_REQUEST,e)):p.send(s||null)})},an=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof pt?t:new Kt(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new pt(`timeout ${t} of ms exceeded`,pt.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:i}=r;return i.unsubscribe=()=>mt.asap(o),i}},on=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},ln=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},cn=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of ln(e))yield*on(n,t)}(e,t);let a,o=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return i(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},{isFunction:un}=mt,dn=(({Request:e,Response:t})=>({Request:e,Response:t}))(mt.global),{ReadableStream:hn,TextEncoder:fn}=mt.global,mn=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},pn=e=>{e=mt.merge.call({skipUndefined:!0},dn,e);const{fetch:t,Request:n,Response:r}=e,s=t?un(t):"function"==typeof fetch,a=un(n),o=un(r);if(!s)return!1;const i=s&&un(hn),l=s&&("function"==typeof fn?(e=>t=>e.encode(t))(new fn):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=a&&i&&mn(()=>{let e=!1;const t=new n(Ot.origin,{body:new hn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=o&&i&&mn(()=>mt.isReadableStream(new r("").body)),d={stream:u&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new pt(`Response type '${e}' is not supported`,pt.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=mt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(mt.isBlob(e))return e.size;if(mt.isSpecCompliantForm(e)){const t=new n(Ot.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return mt.isArrayBufferView(e)||mt.isArrayBuffer(e)?e.byteLength:(mt.isURLSearchParams(e)&&(e+=""),mt.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:o,data:i,signal:l,cancelToken:f,timeout:m,onDownloadProgress:p,onUploadProgress:g,responseType:x,headers:b,withCredentials:v="same-origin",fetchOptions:y}=rn(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let j=an([l,f&&f.toAbortSignal()],m),N=null;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(g&&c&&"get"!==o&&"head"!==o&&0!==(S=await h(b,i))){let e,t=new n(s,{method:"POST",body:i,duplex:"half"});if(mt.isFormData(i)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=Qt(S,Xt(Yt(g)));i=cn(t.body,65536,e,n)}}mt.isString(v)||(v=v?"include":"omit");const t=a&&"credentials"in n.prototype,l={...y,signal:j,method:o.toUpperCase(),headers:b.normalize().toJSON(),body:i,duplex:"half",credentials:t?v:void 0};N=a&&new n(s,l);let f=await(a?w(N,y):w(s,l));const m=u&&("stream"===x||"response"===x);if(u&&(p||m&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=f[t]});const t=mt.toFiniteNumber(f.headers.get("content-length")),[n,s]=p&&Qt(t,Xt(Yt(p),!0))||[];f=new r(cn(f.body,65536,n,()=>{s&&s(),k&&k()}),e)}x=x||"text";let _=await d[mt.findKey(d,x)||"text"](f,e);return!m&&k&&k(),await new Promise((t,n)=>{Gt(t,n,{data:_,headers:qt.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:N})})}catch(_){if(k&&k(),_&&"TypeError"===_.name&&/Load failed|fetch/i.test(_.message))throw Object.assign(new pt("Network Error",pt.ERR_NETWORK,e,N),{cause:_.cause||_});throw pt.from(_,_&&_.code,e,N)}}},gn=new Map,xn=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let o,i,l=a.length,c=gn;for(;l--;)o=a[l],i=c.get(o),void 0===i&&c.set(o,i=l?new Map:pn(t)),c=i;return i};xn();const bn={http:null,xhr:sn,fetch:{get:xn}};mt.forEach(bn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const vn=e=>`- ${e}`,yn=e=>mt.isFunction(e)||null===e||!1===e,wn=(e,t)=>{e=mt.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let o=0;o<n;o++){let n;if(r=e[o],s=r,!yn(r)&&(s=bn[(n=String(r)).toLowerCase()],void 0===s))throw new pt(`Unknown adapter '${n}'`);if(s&&(mt.isFunction(s)||(s=s.get(t))))break;a[n||"#"+o]=s}if(!s){const e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new pt("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(vn).join("\n"):" "+vn(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return s};function jn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kt(null,e)}function Nn(e){jn(e),e.headers=qt.from(e.headers),e.data=Wt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return wn(e.adapter||zt.adapter,e)(e).then(function(t){return jn(e),t.data=Wt.call(e,e.transformResponse,t),t.headers=qt.from(t.headers),t},function(t){return Vt(t)||(jn(e),t&&t.response&&(t.response.data=Wt.call(e,e.transformResponse,t.response),t.response.headers=qt.from(t.response.headers))),Promise.reject(t)})}const kn="1.12.2",Sn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Sn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _n={};Sn.transitional=function(e,t,n){function r(e,t){return"[Axios v"+kn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new pt(r(s," has been removed"+(t?" in "+t:"")),pt.ERR_DEPRECATED);return t&&!_n[s]&&(_n[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},Sn.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Cn={assertOptions:function(e,t,n){if("object"!=typeof e)throw new pt("options must be an object",pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new pt("option "+a+" must be "+n,pt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new pt("Unknown option "+a,pt.ERR_BAD_OPTION)}},validators:Sn},En=Cn.validators;let Tn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Et,response:new Et}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=nn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Cn.assertOptions(n,{silentJSONParsing:En.transitional(En.boolean),forcedJSONParsing:En.transitional(En.boolean),clarifyTimeoutError:En.transitional(En.boolean)},!1),null!=r&&(mt.isFunction(r)?t.paramsSerializer={serialize:r}:Cn.assertOptions(r,{encode:En.function,serialize:En.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Cn.assertOptions(t,{baseUrl:En.spelling("baseURL"),withXsrfToken:En.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&mt.merge(s.common,s[t.method]);s&&mt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=qt.concat(a,s);const o=[];let i=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!i){const e=[Nn.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Nn.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Ct(en((e=nn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};mt.forEach(["delete","get","head","options"],function(e){Tn.prototype[e]=function(t,n){return this.request(nn(n||{},{method:e,url:t,data:(n||{}).data}))}}),mt.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(nn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Tn.prototype[e]=t(),Tn.prototype[e+"Form"]=t(!0)});const In={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(In).forEach(([e,t])=>{In[t]=e});const An=function e(t){const n=new Tn(t),r=_e(Tn.prototype.request,n);return mt.extend(r,Tn.prototype,n,{allOwnKeys:!0}),mt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(nn(t,n))},r}(zt);An.Axios=Tn,An.CanceledError=Kt,An.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new Kt(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},An.isCancel=Vt,An.VERSION=kn,An.toFormData=jt,An.AxiosError=pt,An.Cancel=An.CanceledError,An.all=function(e){return Promise.all(e)},An.spread=function(e){return function(t){return e.apply(null,t)}},An.isAxiosError=function(e){return mt.isObject(e)&&!0===e.isAxiosError},An.mergeConfig=nn,An.AxiosHeaders=qt,An.formToJSON=e=>Mt(mt.isHTMLForm(e)?new FormData(e):e),An.getAdapter=wn,An.HttpStatusCode=In,An.default=An;const{Axios:Pn,AxiosError:Rn,CanceledError:Ln,isCancel:Dn,CancelToken:On,VERSION:Mn,all:zn,Cancel:Fn,isAxiosError:Un,spread:$n,toFormData:Hn,AxiosHeaders:Bn,HttpStatusCode:qn,formToJSON:Wn,getAdapter:Vn,mergeConfig:Kn}=An,Gn=An.create({baseURL:"https://lanserve-api-cgfghcd9bshbazbd.malaysiawest-01.azurewebsites.net",headers:{"Content-Type":"application/json"}});Gn.interceptors.request.use(e=>{const t=localStorage.getItem("token")||sessionStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`,console.log(" Sending token:",t.slice(0,15)+"...")),e}),Gn.interceptors.response.use(e=>e,e=>{const t=e?.response?.status;return 401===t&&console.warn(" 401 Unauthorized"),Promise.reject(e)});const Xn=Se((e,t)=>({balance:0,loading:!1,error:null,txns:[],txLoading:!1,txError:null,fetchBalance:async t=>{if(t){e({loading:!0,error:null});try{const n=await Gn.get(`/api/wallets/${t}`),r=n.data?.balance??0;e({balance:r,loading:!1})}catch(n){e({error:n?.message||"Fetch balance failed",loading:!1})}}},fetchTransactions:async(t,n=20,r="desc")=>{if(t){e({txLoading:!0,txError:null});try{const s=await Gn.get("/api/wallets/history",{params:{userId:t,take:n,sort:r}}),a=Array.isArray(s.data)?s.data:s.data?.items||[];e({txns:a,txLoading:!1})}catch(s){e({txError:s?.message||"Fetch transactions failed",txLoading:!1})}}},fetchTopups:async(t,n=20,r="desc")=>{if(t){e({txLoading:!0,txError:null});try{const s=await Gn.get("/api/wallets/topups",{params:{userId:t,take:n,sort:r}}),a=Array.isArray(s.data)?s.data:s.data?.items||[];e({txns:a,txLoading:!1})}catch(s){e({txError:s?.message||"Fetch topup history failed",txLoading:!1})}}}}));class Qn extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class Yn extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class Jn extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class Zn extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class er extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class tr extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class nr extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class rr extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class sr{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class ar{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}var or,ir;(ir=or||(or={}))[ir.Trace=0]="Trace",ir[ir.Debug=1]="Debug",ir[ir.Information=2]="Information",ir[ir.Warning=3]="Warning",ir[ir.Error=4]="Error",ir[ir.Critical=5]="Critical",ir[ir.None=6]="None";class lr{constructor(){}log(e,t){}}lr.instance=new lr;class cr{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class ur{static get isBrowser(){return!ur.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!ur.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!ur.isNode&&"object"==typeof window&&void 0===window.document}static get isNode(){return"undefined"!=typeof process&&process.release&&"node"===process.release.name}}function dr(e,t){let n="";return hr(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function(e){const t=new Uint8Array(e);let n="";return t.forEach(e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `}),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function hr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function fr(e,t,n,r,s,a){const o={},[i,l]=gr();o[i]=l,e.log(or.Trace,`(${t} transport) sending data. ${dr(s,a.logMessageContent)}.`);const c=hr(s)?"arraybuffer":"text",u=await n.post(r,{content:s,headers:{...o,...a.headers},responseType:c,timeout:a.timeout,withCredentials:a.withCredentials});e.log(or.Trace,`(${t} transport) request complete. Response status: ${u.statusCode}.`)}class mr{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class pr{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${or[e]}: ${t}`;switch(e){case or.Critical:case or.Error:this.out.error(n);break;case or.Warning:this.out.warn(n);break;case or.Information:this.out.info(n);break;default:this.out.log(n)}}}}function gr(){let e="X-SignalR-User-Agent";return ur.isNode&&(e="User-Agent"),[e,xr("9.0.6",br(),yr(),vr())]}function xr(e,t,n,r){let s="Microsoft SignalR/";const a=e.split(".");return s+=`${a[0]}.${a[1]}`,s+=` (${e}; `,s+=t&&""!==t?`${t}; `:"Unknown OS; ",s+=`${n}`,s+=r?`; ${r}`:"; Unknown Runtime Version",s+=")",s}function br(){if(!ur.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function vr(){if(ur.isNode)return process.versions.node}function yr(){return ur.isNode?"NodeJS":"Browser"}function wr(e){return e.stack?e.stack:e.message?e.message:`${e}`}class jr extends ar{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch||ur.isNode){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._jar=new(e("tough-cookie").CookieJar),"undefined"==typeof fetch?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Jn;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new Jn});let r,s=null;if(e.timeout){const r=e.timeout;s=setTimeout(()=>{t.abort(),this._logger.log(or.Warning,"Timeout from HTTP request."),n=new Yn},r)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},hr(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{r=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(i){if(n)throw n;throw this._logger.log(or.Warning,`Error from HTTP request. ${i}.`),i}finally{s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null)}if(!r.ok){const e=await Nr(r,"text");throw new Qn(e||r.statusText,r.status)}const a=Nr(r,e.responseType),o=await a;return new sr(r.status,r.statusText,o)}getCookieString(e){let t="";return ur.isNode&&this._jar&&this._jar.getCookies(e,(e,n)=>t=n.join("; ")),t}}function Nr(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class kr extends ar{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Jn):e.method?e.url?new Promise((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=void 0===e.withCredentials||e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&(hr(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const s=e.headers;s&&Object.keys(s).forEach(e=>{r.setRequestHeader(e,s[e])}),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new Jn)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new sr(r.status,r.statusText,r.response||r.responseText)):n(new Qn(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(or.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new Qn(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(or.Warning,"Timeout from HTTP request."),n(new Yn)},r.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Sr extends ar{constructor(e){if(super(),"undefined"!=typeof fetch||ur.isNode)this._httpClient=new jr(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new kr(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Jn):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class _r{static write(e){return`${e}${_r.RecordSeparator}`}static parse(e){if(e[e.length-1]!==_r.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(_r.RecordSeparator);return t.pop(),t}}_r.RecordSeparatorCode=30,_r.RecordSeparator=String.fromCharCode(_r.RecordSeparatorCode);class Cr{writeHandshakeRequest(e){return _r.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(hr(e)){const r=new Uint8Array(e),s=r.indexOf(_r.RecordSeparatorCode);if(-1===s)throw new Error("Message is incomplete.");const a=s+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(r.slice(0,a))),n=r.byteLength>a?r.slice(a).buffer:null}else{const r=e,s=r.indexOf(_r.RecordSeparator);if(-1===s)throw new Error("Message is incomplete.");const a=s+1;t=r.substring(0,a),n=r.length>a?r.substring(a):null}const r=_r.parse(t),s=JSON.parse(r[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[n,s]}}var Er,Tr;(Tr=Er||(Er={}))[Tr.Invocation=1]="Invocation",Tr[Tr.StreamItem=2]="StreamItem",Tr[Tr.Completion=3]="Completion",Tr[Tr.StreamInvocation=4]="StreamInvocation",Tr[Tr.CancelInvocation=5]="CancelInvocation",Tr[Tr.Ping=6]="Ping",Tr[Tr.Close=7]="Close",Tr[Tr.Ack=8]="Ack",Tr[Tr.Sequence=9]="Sequence";class Ir{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new mr(this,e)}}class Ar{constructor(e,t,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=n}async _send(e){const t=this._protocol.writeMessage(e);let n=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let e=()=>{},r=()=>{};hr(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((t,n)=>{e=t,r=n})),this._messages.push(new Pr(t,this._totalMessageCount,e,r))}try{this._reconnectInProgress||await this._connection.send(t)}catch{this._disconnected()}await n}_ack(e){let t=-1;for(let n=0;n<this._messages.length;n++){const r=this._messages[n];if(r._id<=e.sequenceId)t=n,hr(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;r._resolver()}}-1!==t&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type===Er.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){e.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=0!==this._messages.length?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Er.Sequence,sequenceId:e}));const t=this._messages;for(const n of t)await this._connection.send(n._message);this._reconnectInProgress=!1}_dispose(e){null!=e||(e=new Error("Unable to reconnect to server."));for(const t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case Er.Invocation:case Er.StreamItem:case Er.Completion:case Er.StreamInvocation:case Er.CancelInvocation:return!0;case Er.Close:case Er.Sequence:case Er.Ping:case Er.Ack:return!1}}_ackTimer(){void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Er.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Pr{constructor(e,t,n,r){this._message=e,this._id=t,this._resolver=n,this._rejector=r}}var Rr,Lr;(Lr=Rr||(Rr={})).Disconnected="Disconnected",Lr.Connecting="Connecting",Lr.Connected="Connected",Lr.Disconnecting="Disconnecting",Lr.Reconnecting="Reconnecting";class Dr{static create(e,t,n,r,s,a,o){return new Dr(e,t,n,r,s,a,o)}constructor(e,t,n,r,s,a,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(or.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},cr.isRequired(e,"connection"),cr.isRequired(t,"logger"),cr.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=null!=s?s:3e4,this.keepAliveIntervalInMilliseconds=null!=a?a:15e3,this._statefulReconnectBufferSize=null!=o?o:1e5,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new Cr,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Rr.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Er.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Rr.Disconnected&&this._connectionState!==Rr.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Rr.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Rr.Connecting,this._logger.log(or.Debug,"Starting HubConnection.");try{await this._startInternal(),ur.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Rr.Connected,this._connectionStarted=!0,this._logger.log(or.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Rr.Disconnected,this._logger.log(or.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t});await this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);const n={protocol:this._protocol.name,version:t};if(this._logger.log(or.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(or.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Ar(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(t){throw this._logger.log(or.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(t),t}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(t){}}_stopInternal(e){if(this._connectionState===Rr.Disconnected)return this._logger.log(or.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Rr.Disconnecting)return this._logger.log(or.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const t=this._connectionState;return this._connectionState=Rr.Disconnecting,this._logger.log(or.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(or.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Rr.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Jn("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._createStreamInvocation(e,t,r);let a;const o=new Ir;return o.cancelCallback=()=>{const e=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],a.then(()=>this._sendWithProtocol(e))},this._callbacks[s.invocationId]=(e,t)=>{t?o.error(t):e&&(e.type===Er.Completion?e.error?o.error(new Error(e.error)):o.complete():o.next(e.item))},a=this._sendWithProtocol(s).catch(e=>{o.error(e),delete this._callbacks[s.invocationId]}),this._launchStreams(n,a),o}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,s),s}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._createInvocation(e,t,!1,r);return new Promise((e,t)=>{this._callbacks[s.invocationId]=(n,r)=>{r?t(r):n&&(n.type===Er.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const r=this._sendWithProtocol(s).catch(e=>{t(e),delete this._callbacks[s.invocationId]});this._launchStreams(n,r)})}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const e of n)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(e))switch(e.type){case Er.Invocation:this._invokeClientMethod(e).catch(e=>{this._logger.log(or.Error,`Invoke client method threw error: ${wr(e)}`)});break;case Er.StreamItem:case Er.Completion:{const n=this._callbacks[e.invocationId];if(n){e.type===Er.Completion&&delete this._callbacks[e.invocationId];try{n(e)}catch(t){this._logger.log(or.Error,`Stream callback threw error: ${wr(t)}`)}}break}case Er.Ping:break;case Er.Close:{this._logger.log(or.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}case Er.Ack:this._messageBuffer&&this._messageBuffer._ack(e);break;case Er.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(e);break;default:this._logger.log(or.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(r){const e="Error parsing handshake response: "+r;this._logger.log(or.Error,e);const t=new Error(e);throw this._handshakeRejecter(t),t}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(or.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(or.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Rr.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(or.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(or.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const r=n.slice(),s=!!e.invocationId;let a,o,i;for(const c of r)try{const n=a;a=await c.apply(this,e.arguments),s&&a&&n&&(this._logger.log(or.Error,`Multiple results provided for '${t}'. Sending error to server.`),i=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),o=void 0}catch(l){o=l,this._logger.log(or.Error,`A callback for the method '${t}' threw error '${l}'.`)}i?await this._sendWithProtocol(i):s?(o?i=this._createCompletionMessage(e.invocationId,`${o}`,null):void 0!==a?i=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(or.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),i=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(i)):a&&this._logger.log(or.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(or.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Jn("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Rr.Disconnecting?this._completeClose(e):this._connectionState===Rr.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Rr.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Rr.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(null!=e?e:new Error("Connection closed.")),this._messageBuffer=void 0),ur.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[e]))}catch(t){this._logger.log(or.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),s=this._getNextRetryDelay(n++,0,r);if(null===s)return this._logger.log(or.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=Rr.Reconnecting,e?this._logger.log(or.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(or.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach(t=>t.apply(this,[e]))}catch(a){this._logger.log(or.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(this._connectionState!==Rr.Reconnecting)return void this._logger.log(or.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==s;){if(this._logger.log(or.Information,`Reconnect attempt number ${n} will start in ${s} ms.`),await new Promise(e=>{this._reconnectDelayHandle=setTimeout(e,s)}),this._reconnectDelayHandle=void 0,this._connectionState!==Rr.Reconnecting)return void this._logger.log(or.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=Rr.Connected,this._logger.log(or.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach(e=>e.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(or.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(or.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==Rr.Reconnecting)return this._logger.log(or.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===Rr.Disconnecting&&this._completeClose());r=a instanceof Error?a:new Error(a.toString()),s=this._getNextRetryDelay(n++,Date.now()-t,r)}}this._logger.log(or.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(r){return this._logger.log(or.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach(n=>{const r=t[n];try{r(null,e)}catch(s){this._logger.log(or.Error,`Stream 'error' callback called with '${e}' threw error: ${wr(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{target:e,arguments:t,streamIds:r,type:Er.Invocation}:{target:e,arguments:t,type:Er.Invocation};{const n=this._invocationId;return this._invocationId++,0!==r.length?{target:e,arguments:t,invocationId:n.toString(),streamIds:r,type:Er.Invocation}:{target:e,arguments:t,invocationId:n.toString(),type:Er.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:e=>{let r;r=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,r)))},next:e=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,e)))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const s=e[r];if(this._isObservable(s)){const a=this._invocationId;this._invocationId++,t[a]=s,n.push(a.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{target:e,arguments:t,invocationId:r.toString(),streamIds:n,type:Er.StreamInvocation}:{target:e,arguments:t,invocationId:r.toString(),type:Er.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:Er.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:Er.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:Er.Completion}:{invocationId:e,result:n,type:Er.Completion}}_createCloseMessage(){return{type:Er.Close}}}const Or=[0,2e3,1e4,3e4,null];class Mr{constructor(e){this._retryDelays=void 0!==e?[...e,null]:Or}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class zr{}zr.Authorization="Authorization",zr.Cookie="Cookie";class Fr extends ar{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[zr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[zr.Authorization]&&delete e.headers[zr.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Ur,$r,Hr,Br;($r=Ur||(Ur={}))[$r.None=0]="None",$r[$r.WebSockets=1]="WebSockets",$r[$r.ServerSentEvents=2]="ServerSentEvents",$r[$r.LongPolling=4]="LongPolling",(Br=Hr||(Hr={}))[Br.Text=1]="Text",Br[Br.Binary=2]="Binary";let qr=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Wr{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new qr,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,t){if(cr.isRequired(e,"url"),cr.isRequired(t,"transferFormat"),cr.isIn(t,Hr,"transferFormat"),this._url=e,this._logger.log(or.Trace,"(LongPolling transport) Connecting."),t===Hr.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=gr(),s={[n]:r,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:s,timeout:1e5,withCredentials:this._options.withCredentials};t===Hr.Binary&&(a.responseType="arraybuffer");const o=`${e}&_=${Date.now()}`;this._logger.log(or.Trace,`(LongPolling transport) polling: ${o}.`);const i=await this._httpClient.get(o,a);200!==i.statusCode?(this._logger.log(or.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new Qn(i.statusText||"",i.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(or.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,t);204===r.statusCode?(this._logger.log(or.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(or.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new Qn(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(or.Trace,`(LongPolling transport) data received. ${dr(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(or.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof Yn?this._logger.log(or.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(or.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(or.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?fr(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(or.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(or.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=gr();t[n]=r;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let a;try{await this._httpClient.delete(this._url,s)}catch(e){a=e}a?a instanceof Qn&&(404===a.statusCode?this._logger.log(or.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(or.Trace,`(LongPolling transport) Error sending a DELETE request: ${a}`)):this._logger.log(or.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(or.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(or.Trace,e),this.onclose(this._closeError)}}}class Vr{constructor(e,t,n,r){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return cr.isRequired(e,"url"),cr.isRequired(t,"transferFormat"),cr.isIn(t,Hr,"transferFormat"),this._logger.log(or.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,r)=>{let s,a=!1;if(t===Hr.Text){if(ur.isBrowser||ur.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[r,a]=gr();n[r]=a,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{s.onmessage=e=>{if(this.onreceive)try{this._logger.log(or.Trace,`(SSE transport) data received. ${dr(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(t){return void this._close(t)}},s.onerror=e=>{a?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(or.Information,`SSE connected to ${this._url}`),this._eventSource=s,a=!0,n()}}catch(o){return void r(o)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})}async send(e){return this._eventSource?fr(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class Kr{constructor(e,t,n,r,s,a){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=s,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,t){let n;return cr.isRequired(e,"url"),cr.isRequired(t,"transferFormat"),cr.isIn(t,Hr,"transferFormat"),this._logger.log(or.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise((r,s)=>{let a;e=e.replace(/^http/,"ws");const o=this._httpClient.getCookieString(e);let i=!1;if(ur.isNode||ur.isReactNative){const t={},[r,s]=gr();t[r]=s,n&&(t[zr.Authorization]=`Bearer ${n}`),o&&(t[zr.Cookie]=o),a=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);a||(a=new this._webSocketConstructor(e)),t===Hr.Binary&&(a.binaryType="arraybuffer"),a.onopen=t=>{this._logger.log(or.Information,`WebSocket connected to ${e}.`),this._webSocket=a,i=!0,r()},a.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(or.Information,`(WebSockets transport) ${t}.`)},a.onmessage=e=>{if(this._logger.log(or.Trace,`(WebSockets transport) data received. ${dr(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(t){return void this._close(t)}},a.onclose=e=>{if(i)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(t))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(or.Trace,`(WebSockets transport) sending data. ${dr(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(or.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class Gr{constructor(e,t={}){var n;if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,cr.isRequired(e,"url"),this._logger=void 0===(n=t.logger)?new pr(or.Information):null===n?lr.instance:void 0!==n.log?n:new pr(n),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let r=null,s=null;if(ur.isNode&&"undefined"!=typeof require){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;r=e("ws"),s=e("eventsource")}ur.isNode||"undefined"==typeof WebSocket||t.WebSocket?ur.isNode&&!t.WebSocket&&r&&(t.WebSocket=r):t.WebSocket=WebSocket,ur.isNode||"undefined"==typeof EventSource||t.EventSource?ur.isNode&&!t.EventSource&&void 0!==s&&(t.EventSource=s):t.EventSource=EventSource,this._httpClient=new Fr(t.httpClient||new Sr(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||Hr.Binary,cr.isIn(e,Hr,"transferFormat"),this._logger.log(or.Debug,`Starting connection with transfer format '${Hr[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(or.Error,e),await this._stopPromise,Promise.reject(new Jn(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(or.Error,e),Promise.reject(new Jn(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Xr(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(or.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(or.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise(e=>{this._stopPromiseResolver=e}),await this._stopInternal(e),void(await this._stopPromise))}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(t){}if(this.transport){try{await this.transport.stop()}catch(t){this._logger.log(or.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(or.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==Ur.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(Ur.WebSockets),await this._startTransport(t,e)}else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new Jn("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<100);if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof Wr&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(or.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(or.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}}async _getNegotiationResponse(e){const t={},[n,r]=gr();t[n]=r;const s=this._resolveNegotiateUrl(e);this._logger.log(or.Debug,`Sending negotiation request: ${s}.`);try{const e=await this._httpClient.post(s,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n.useStatefulReconnect&&!0!==this._options._useStatefulReconnect?Promise.reject(new nr("Client didn't negotiate Stateful Reconnect but the server did.")):n}catch(a){let e="Failed to complete negotiation with the server: "+a;return a instanceof Qn&&404===a.statusCode&&(e+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(or.Error,e),Promise.reject(new nr(e))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,r){let s=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(or.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(s,r),void(this.connectionId=n.connectionId);const a=[],o=n.availableTransports||[];let i=n;for(const c of o){const n=this._resolveTransportOrError(c,t,r,!0===(null==i?void 0:i.useStatefulReconnect));if(n instanceof Error)a.push(`${c.transport} failed:`),a.push(n);else if(this._isITransport(n)){if(this.transport=n,!i){try{i=await this._getNegotiationResponse(e)}catch(l){return Promise.reject(l)}s=this._createConnectUrl(e,i.connectionToken)}try{return await this._startTransport(s,r),void(this.connectionId=i.connectionId)}catch(l){if(this._logger.log(or.Error,`Failed to start the transport '${c.transport}': ${l}`),i=void 0,a.push(new tr(`${c.transport} failed: ${l}`,Ur[c.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(or.Debug,e),Promise.reject(new Jn(e))}}}}return a.length>0?Promise.reject(new rr(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Ur.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Kr(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Ur.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Vr(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Ur.LongPolling:return new Wr(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let r=!1;if(this.features.reconnect){try{this.features.disconnected(),await this.transport.connect(e,t),await this.features.resend()}catch{r=!0}r&&this._stopConnection(n)}else this._stopConnection(n)}:this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n,r){const s=Ur[e.transport];if(null==s)return this._logger.log(or.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function(e,t){return!e||0!==(t&e)}(t,s))return this._logger.log(or.Debug,`Skipping transport '${Ur[s]}' because it was disabled by the client.`),new er(`'${Ur[s]}' is disabled by the client.`,s);if(!(e.transferFormats.map(e=>Hr[e]).indexOf(n)>=0))return this._logger.log(or.Debug,`Skipping transport '${Ur[s]}' because it does not support the requested transfer format '${Hr[n]}'.`),new Error(`'${Ur[s]}' does not support ${Hr[n]}.`);if(s===Ur.WebSockets&&!this._options.WebSocket||s===Ur.ServerSentEvents&&!this._options.EventSource)return this._logger.log(or.Debug,`Skipping transport '${Ur[s]}' because it is not supported in your environment.'`),new Zn(`'${Ur[s]}' is not supported in your environment.`,s);this._logger.log(or.Debug,`Selecting transport '${Ur[s]}'.`);try{return this.features.reconnect=s===Ur.WebSockets?r:void 0,this._constructTransport(s)}catch(a){return a}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(or.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(or.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(or.Error,`Connection disconnected with error '${e}'.`):this._logger.log(or.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(or.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(or.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(or.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!ur.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(or.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";const n=new URLSearchParams(t.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?"true"===n.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&n.append("useStatefulReconnect","true"),t.search=n.toString(),t.toString()}}class Xr{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Qr,this._transportResult=new Qr,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Qr),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Qr;const t=this._transportResult;this._transportResult=void 0;const n="string"==typeof this._buffer[0]?this._buffer.join(""):Xr._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(e){t.reject(e)}}}static _concatBuffers(e){const t=e.map(e=>e.byteLength).reduce((e,t)=>e+t),n=new Uint8Array(t);let r=0;for(const s of e)n.set(new Uint8Array(s),r),r+=s.byteLength;return n.buffer}}class Qr{constructor(){this.promise=new Promise((e,t)=>[this._resolver,this._rejecter]=[e,t])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class Yr{constructor(){this.name="json",this.version=2,this.transferFormat=Hr.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=lr.instance);const n=_r.parse(e),r=[];for(const s of n){const e=JSON.parse(s);if("number"!=typeof e.type)throw new Error("Invalid payload.");switch(e.type){case Er.Invocation:this._isInvocationMessage(e);break;case Er.StreamItem:this._isStreamItemMessage(e);break;case Er.Completion:this._isCompletionMessage(e);break;case Er.Ping:case Er.Close:break;case Er.Ack:this._isAckMessage(e);break;case Er.Sequence:this._isSequenceMessage(e);break;default:t.log(or.Information,"Unknown message type '"+e.type+"' ignored.");continue}r.push(e)}return r}writeMessage(e){return _r.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const Jr={trace:or.Trace,debug:or.Debug,info:or.Information,information:or.Information,warn:or.Warning,warning:or.Warning,error:or.Error,critical:or.Critical,none:or.None};class Zr{configureLogging(e){if(cr.isRequired(e,"logging"),void 0!==e.log)this.logger=e;else if("string"==typeof e){const t=function(e){const t=Jr[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new pr(t)}else this.logger=new pr(e);return this}withUrl(e,t){return cr.isRequired(e,"url"),cr.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return cr.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new Mr(e):this.reconnectPolicy=e:this.reconnectPolicy=new Mr,this}withServerTimeout(e){return cr.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return cr.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=null==e?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new Gr(this.url,e);return Dr.create(t,this.logger||lr.instance,this.protocol||new Yr,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}const es=Se((e,t)=>({items:[],connection:null,connected:!1,addNotification:t=>(console.log(" Adding notification:",t),e(e=>{if(!t||!t.id)return console.warn(" Invalid notification (missing id):",t),e;if(e.items.some(e=>e.id===t.id))return console.log(" Notification already exists:",t.id),e;const n=[t,...e.items];return console.log(` Notification added. Total: ${n.length}`),{items:n}})),markRead:t=>e(e=>({items:e.items.map(e=>e.id===t?{...e,isRead:!0}:e)})),fetchFromServer:async()=>{try{const t=await Gn.get("/api/notifications/my"),n=(t.data||[]).map(e=>{try{e.payload&&"string"==typeof e.payload&&(e.payloadObj=JSON.parse(e.payload))}catch(t){console.warn(" Parse payload error:",t)}return e});console.log(` Loaded ${n.length} notifications from DB`),e({items:n})}catch(t){console.error(" Failed to load notifications:",t)}},initConnection:async()=>{try{const n=localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("accessToken");if(!n)return void console.warn(" No token found, cannot connect SignalR");const r=t().connection;if(r)try{await r.stop()}catch{}console.log(" Connecting to SignalR NotificationHub...");const s=(new Zr).withUrl("http://localhost:5070/hubs/notification",{accessTokenFactory:()=>n}).withAutomaticReconnect().configureLogging(or.Information).build();s.on("ReceiveNotification",e=>{console.log(" [SignalR] Notification received:",e);try{e?.payload&&"string"==typeof e.payload&&(e.payloadObj=JSON.parse(e.payload))}catch(n){console.warn(" Cannot parse payload:",n)}t().addNotification(e);console.log(" Notification added to store:",e.type,e.id)}),await s.start(),console.log(" Connected to SignalR hub"),e({connection:s,connected:!0})}catch(n){console.error(" Error connecting SignalR:",n),e({connected:!1})}},reset:async()=>{try{const e=t().connection;e&&(await e.stop(),console.log(" SignalR connection stopped"))}catch(n){console.warn(" Error stopping connection:",n)}e({items:[],connection:null,connected:!1}),console.log(" Notification store reset done")}}));function ts(){const{items:e,markRead:r,fetchFromServer:s}=es(),a=t(),[o,i]=n.useState(!1);n.useEffect(()=>{s()},[s]),n.useEffect(()=>{console.log(" NotificationBell: items changed",e.length)},[e]);const l=[...e].sort((e,t)=>{if(e.isRead!==t.isRead)return e.isRead?1:-1;const n=new Date(e.createdAt||0).getTime();return new Date(t.createdAt||0).getTime()-n}),c=e.filter(e=>!e.isRead).length;n.useEffect(()=>{console.log(" NotificationBell Debug:",{totalItems:e.length,unreadCount:c,sortedCount:l.length,items:e.map(e=>({id:e.id,type:e.type,isRead:e.isRead,title:e.title}))})},[e,c,l.length]);return ue.jsxs("div",{className:"relative",children:[ue.jsxs("button",{className:"p-2 rounded-full hover:bg-gray-100 relative",onClick:()=>{console.log(" Bell clicked. Items:",e.length,"Unread:",c),i(!o),o||s()},children:["",c>0&&ue.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full min-w-[20px] flex items-center justify-center font-bold",children:c>99?"99+":c})]}),o&&ue.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white border rounded-2xl shadow-xl p-0 max-h-96 overflow-hidden z-50",children:[ue.jsxs("div",{className:"flex justify-between items-center p-3 border-b bg-gray-50",children:[ue.jsxs("div",{className:"text-sm font-semibold",children:["Thng bo ",c>0&&ue.jsxs("span",{className:"text-red-500",children:["(",c," mi)"]})]}),ue.jsx("button",{onClick:e=>{e.stopPropagation(),s()},className:"text-xs text-blue-600 hover:text-blue-800 px-2 py-1 rounded hover:bg-blue-50",children:""})]}),ue.jsx("div",{className:"overflow-y-auto max-h-80",children:0===l.length?ue.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Khng c thng bo"}):l.map(e=>{let t=e.title||e.type;return"ProposalAccepted"===e.type?t=" xut  c chp nhn":"NewMessage"===e.type?t=e.title||"Bn c tin nhn mi":"NewProposal"===e.type?t=e.title||" xut mi":"ProposalSent"===e.type?t=e.title||" gi  xut":"NewProject"===e.type?t=e.title||"D n mi":"ContractCompleted"===e.type&&(t=e.title||"D n  hon thnh"),ue.jsxs("div",{onClick:()=>(async e=>{if(!e.isRead&&e.id)try{await Gn.post(`/api/notifications/${e.id}/read`),r(e.id)}catch(t){console.error("Failed to mark notification as read:",t)}if("NewProject"===e.type){const t=e.payloadObj?.projectId;a(t?`/projects/${t}`:"/projects")}else if("ContractCompleted"===e.type){const t=e.payloadObj?.ProjectId,n=e.payloadObj?.ContractId;a(t?`/account/messages?projectId=${t}&contractId=${n}`:"/account/messages")}else{const t=e.payloadObj?.conversationKey,n=e.payloadObj?.projectId;a(t?`/account/messages?key=${t}&projectId=${n}`:"/account/messages")}i(!1)})(e),className:"cursor-pointer p-3 hover:bg-gray-50 rounded-xl border-b last:border-none "+(e.isRead?"":"bg-blue-50 border-l-4 border-l-blue-500"),children:[ue.jsx("div",{className:"text-sm font-semibold text-gray-800",children:t}),e.message&&ue.jsx("div",{className:"text-xs text-gray-600 break-words mt-1",children:e.message}),ue.jsx("div",{className:"text-[10px] text-gray-400 mt-2",children:new Date(e.createdAt).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},e.id)})})]})]})}function ns(){const e=t(),[a,o]=n.useState(!1),[i,l]=n.useState(!1),c=localStorage.getItem("token")||sessionStorage.getItem("token");let u=null;if(c)try{const e=we(c);u=e.sub||e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||e.userId||null}catch(v){console.error("Decode token error:",v)}const{balance:d,fetchBalance:h,loading:f}=Xn();n.useEffect(()=>{u&&h(u)},[u,h]);const m=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"null"),p="admin"===m?.role?.toLowerCase(),g=({isActive:e})=>"px-3 py-2 rounded-lg hover:bg-slate-100 text-sm flex items-center gap-2 transition-colors "+(e?"text-brand-700 font-medium":"text-slate-700"),x="p-2.5 rounded-lg hover:bg-slate-100 text-slate-700 transition-colors relative",b=()=>e("/wallet");return ue.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-slate-200",children:[ue.jsxs("div",{className:"container-ld flex h-14 items-center justify-between gap-2",children:[ue.jsxs(r,{to:"/",className:"font-bold text-lg flex-shrink-0",children:[ue.jsx("span",{className:"text-brand-700",children:"Lan"}),"Serve"]}),ue.jsxs("nav",{className:"hidden lg:flex gap-1 flex-1 justify-center max-w-2xl",children:[ue.jsx(s,{to:"/",className:g,children:"Trang ch"}),ue.jsx(s,{to:"/projects",className:g,children:"D n"}),ue.jsx(s,{to:"/post-project",className:g,children:"ng d n"}),ue.jsx(s,{to:"/users",className:g,children:"Ngi dng"}),ue.jsx(s,{to:"/how-it-works",className:g,children:"Cch hot ng"})]}),ue.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:c?ue.jsxs(ue.Fragment,{children:[(()=>{const e=f?"...":` ${Number(d||0).toLocaleString("vi-VN")}`;return ue.jsxs("button",{onClick:b,className:"px-3 py-1.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 flex items-center gap-2 text-sm font-medium hover:bg-emerald-100 transition-colors",title:"Xem v",children:[ue.jsx(H,{className:"w-4 h-4"}),ue.jsx("span",{className:"hidden sm:inline",children:e}),ue.jsx("span",{className:"sm:hidden",children:Number(d||0)>=1e6?`${(Number(d||0)/1e6).toFixed(1)}M`:e})]})})(),ue.jsx(s,{to:"/account/messages",className:x,title:"Tin nhn",children:ue.jsx(D,{className:"w-5 h-5"})}),ue.jsx(ts,{}),p&&ue.jsx(s,{to:"/admin",className:x,title:"Qun tr",children:ue.jsx(O,{className:"w-5 h-5"})}),ue.jsxs("div",{className:"relative",children:[ue.jsx("button",{onClick:()=>o(!a),className:x,title:"Ti khon",children:ue.jsx(M,{className:"w-5 h-5"})}),a&&ue.jsxs(ue.Fragment,{children:[ue.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),ue.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20",children:[ue.jsxs(s,{to:"/account/profile"+(u?`?id=${u}`:""),className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>o(!1),children:[ue.jsx(M,{className:"w-4 h-4"}),"H s"]}),ue.jsxs(s,{to:"/account/settings",className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>o(!1),children:[ue.jsx(z,{className:"w-4 h-4"}),"Ci t"]}),ue.jsx("hr",{className:"my-1 border-slate-200"}),ue.jsxs("button",{onClick:()=>{o(!1),(async()=>{try{const e=es.getState();await e.reset(),localStorage.removeItem("token"),localStorage.removeItem("user"),sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),console.log(" Logged out & cleared notifications"),window.location.href="/login"}catch(e){console.error("Logout error:",e)}})()},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[ue.jsx(F,{className:"w-4 h-4"}),"ng xut"]})]})]})]}),ue.jsx("button",{onClick:()=>l(!i),className:"lg:hidden p-2.5 rounded-lg hover:bg-slate-100 text-slate-700","aria-label":"Menu",children:i?ue.jsx(U,{className:"w-5 h-5"}):ue.jsx($,{className:"w-5 h-5"})})]}):ue.jsxs(ue.Fragment,{children:[ue.jsx(s,{to:"/login",className:g,children:"ng nhp"}),ue.jsx(be,{variant:"primary",as:r,to:"/register",className:"text-sm px-3 py-1.5",children:"ng k"})]})})]}),i&&c&&ue.jsx("div",{className:"lg:hidden border-t border-slate-200 bg-white",children:ue.jsxs("nav",{className:"container-ld py-2 flex flex-col gap-1",children:[ue.jsx(s,{to:"/",className:g,onClick:()=>l(!1),children:"Trang ch"}),ue.jsx(s,{to:"/projects",className:g,onClick:()=>l(!1),children:"D n"}),ue.jsx(s,{to:"/post-project",className:g,onClick:()=>l(!1),children:"ng d n"}),ue.jsx(s,{to:"/users",className:g,onClick:()=>l(!1),children:"Ngi dng"}),ue.jsx(s,{to:"/how-it-works",className:g,onClick:()=>l(!1),children:"Cch hot ng"})]})})]})}function rs(){return ue.jsx("footer",{className:"mt-16 bg-slate-900 text-slate-200",children:ue.jsxs("div",{className:"container-ld grid md:grid-cols-4 gap-8 py-12",children:[ue.jsxs("div",{children:[ue.jsx("div",{className:"text-lg font-semibold",children:"LanServe"}),ue.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Nn tng kt ni freelancer & khch hng. Xy dng s nghip t do v tm kim d n ph hp."}),ue.jsxs("div",{className:"mt-4 flex gap-3 text-xl",children:[ue.jsx("span",{children:""}),ue.jsx("span",{children:""}),ue.jsx("span",{children:""})]})]}),ue.jsxs("div",{children:[ue.jsx("div",{className:"font-semibold",children:"Lin kt nhanh"}),ue.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[ue.jsx("li",{children:"Trang ch"}),ue.jsx("li",{children:"Tm Freelancer"}),ue.jsx("li",{children:"ng d n"}),ue.jsx("li",{children:"Cch hot ng"}),ue.jsx("li",{children:"V chng ti"})]})]}),ue.jsxs("div",{children:[ue.jsx("div",{className:"font-semibold",children:"H tr"}),ue.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[ue.jsx("li",{children:"Trung tm tr gip"}),ue.jsx("li",{children:"Lin h"}),ue.jsx("li",{children:"iu khon"}),ue.jsx("li",{children:"Bo mt"}),ue.jsx("li",{children:"FAQ"})]})]}),ue.jsx("div",{className:"md:text-right text-sm text-slate-400 flex items-end",children:" 2024 LanServe."})]})})}function ss(){const[e,t]=n.useState([]),[r,s]=n.useState(0);return n.useEffect(()=>{Gn.get("/api/banners/active").then(e=>{const n=e.data||[];t(n)}).catch(e=>console.error("Load banners failed",e))},[]),n.useEffect(()=>{if(e.length<=1)return;const t=setInterval(()=>{s(t=>(t+1)%e.length)},5e3);return()=>clearInterval(t)},[e.length]),0===e.length?null:ue.jsxs("section",{className:"relative w-full h-64 md:h-96 overflow-hidden rounded-2xl mb-8",children:[ue.jsx("div",{className:"flex transition-transform duration-500 ease-in-out h-full",style:{transform:`translateX(-${100*r}%)`},children:e.map((e,t)=>ue.jsx("div",{className:"min-w-full h-full flex-shrink-0",children:e.linkUrl?ue.jsx("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:ue.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}):ue.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})},e.id||e._id||t))}),e.length>1&&ue.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:e.map((e,t)=>ue.jsx("button",{onClick:()=>s(t),className:"h-2 rounded-full transition-all "+(t===r?"bg-white w-8":"bg-white/50 hover:bg-white/75 w-2"),"aria-label":`Go to banner ${t+1}`},t))}),e.length>1&&ue.jsxs(ue.Fragment,{children:[ue.jsx("button",{onClick:()=>s(t=>(t-1+e.length)%e.length),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Previous banner",children:ue.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),ue.jsx("button",{onClick:()=>s(t=>(t+1)%e.length),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Next banner",children:ue.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ue.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}function as(){const[e,s]=n.useState([]),[a,o]=n.useState([]),[i,l]=n.useState([]),[c,u]=n.useState(!1);return t(),n.useEffect(()=>{Gn.get("/api/categories").then(e=>s(e.data??[])).catch(e=>console.error("Load categories failed",e)),Gn.get("/api/users").then(e=>o(e.data??[])).catch(e=>console.error("Load freelancers failed",e));if(localStorage.getItem("token")||sessionStorage.getItem("token"))try{u(!0),Gn.get("/api/projects/recommended?limit=6").then(e=>{const t=e.data||[];l(t.map(e=>({...e.project,similarity:e.similarity})))}).catch(e=>{console.error("Load recommended projects failed",e)})}catch(e){console.error("Token decode error:",e)}},[]),ue.jsxs("div",{children:[ue.jsx("section",{className:"container-ld py-8",children:ue.jsx(ss,{})}),ue.jsx("section",{className:"bg-gradient-to-r from-blue-50 to-orange-50 border-b",children:ue.jsx("div",{className:"container-ld py-16",children:ue.jsxs("div",{className:"text-center",children:[ue.jsxs("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:["Kt ni ",ue.jsx("span",{className:"text-brand-700",children:"Freelancer"})," & ",ue.jsx("span",{className:"text-accent",children:"Khch hng"})]}),ue.jsx("p",{className:"mt-4 text-slate-600 max-w-2xl mx-auto",children:"Tm kim freelancer nng lc hoc d n ph hp. Xy dng s nghip t do vi LanServe."}),ue.jsxs("div",{className:"mt-6 flex gap-3 justify-center",children:[ue.jsx(be,{children:"Tm Freelancer"}),ue.jsx(be,{variant:"outline",as:r,to:"/post-project",children:"ng D n"})]})]})})}),ue.jsxs("section",{className:"container-ld py-12",children:[ue.jsx("h2",{className:"text-2xl font-semibold",children:"Danh mc dch v"}),ue.jsx("div",{className:"mt-6 grid md:grid-cols-3 lg:grid-cols-4 gap-5",children:e.map((e,t)=>ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"text-xl",children:""}),ue.jsx("div",{className:"mt-3 font-medium",children:e.name})]},e.id||e._id||`cat-${t}`))})]}),c&&i.length>0&&ue.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-y",children:ue.jsxs("div",{className:"container-ld py-12",children:[ue.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ue.jsx("h2",{className:"text-2xl font-semibold",children:"D n ph hp vi bn"}),ue.jsx(r,{to:"/account/projects",className:"text-brand-700 hover:underline text-sm",children:"Xem tt c "})]}),ue.jsx("div",{className:"mt-6 grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:i.map(e=>ue.jsxs("div",{className:"card p-5 hover:shadow-lg transition-shadow",children:[ue.jsxs("div",{className:"flex items-start justify-between mb-3",children:[ue.jsx("h3",{className:"font-semibold text-lg flex-1",children:e.title}),void 0!==e.similarity&&ue.jsxs("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[e.similarity,"% ph hp"]})]}),ue.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-3",children:e.description}),ue.jsxs("div",{className:"flex items-center justify-between",children:[ue.jsxs("div",{className:"text-brand-700 font-semibold",children:[e.budgetAmount?.toLocaleString("vi-VN")??""," "]}),ue.jsx(be,{variant:"outline",size:"sm",as:r,to:`/account/projects?view=${e.id}`,children:"Xem chi tit"})]})]},e.id))})]})}),ue.jsx("section",{className:"bg-white border-y",children:ue.jsxs("div",{className:"container-ld py-12",children:[ue.jsx("h2",{className:"text-2xl font-semibold",children:"Freelancer ni bt"}),ue.jsx("div",{className:"mt-6 grid md:grid-cols-3 gap-5",children:a.slice(0,3).map((e,t)=>ue.jsxs("div",{className:"card p-5",children:[ue.jsxs("div",{className:"flex items-center gap-3",children:[ue.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-200"}),ue.jsxs("div",{children:[ue.jsx("div",{className:"font-medium",children:e.fullName}),ue.jsx("div",{className:"text-sm text-slate-500",children:e.email})]})]}),ue.jsx(be,{className:"mt-4 w-full",variant:"outline",children:"Xem h s"})]},e.id||`user-${t}`))})]})}),ue.jsx("section",{className:"bg-gradient-to-r from-blue-500 to-orange-500 text-white",children:ue.jsxs("div",{className:"container-ld py-14 text-center",children:[ue.jsx("h2",{className:"text-3xl font-semibold",children:"Sn sng bt u d n ca bn?"}),ue.jsxs("div",{className:"mt-6 flex gap-3 justify-center",children:[ue.jsx(be,{className:"bg-white text-slate-900",children:"ng k min ph"}),ue.jsx(be,{variant:"outline",className:"border-white text-black",children:"Tm hiu thm"})]})]})})]})}function os(){return ue.jsxs("div",{children:[ue.jsx("section",{className:"bg-gradient-to-r from-blue-50 to-orange-50 border-b",children:ue.jsxs("div",{className:"container-ld py-16 text-center",children:[ue.jsxs("h1",{className:"text-4xl font-bold",children:["Cch hot ng ca ",ue.jsx("span",{className:"text-brand-700",children:"LanServe"})]}),ue.jsx("p",{className:"mt-3 text-slate-600",children:"Quy trnh n gin 3 bc  hon thnh d n hiu qu."}),ue.jsx(be,{className:"mt-6",children:"Bt u d n ngay"})]})}),ue.jsx("section",{className:"container-ld py-12 grid md:grid-cols-3 gap-5",children:[{t:"ng d n",d:["To brief r rng","Gi  ngn sch","Chn k nng lin quan"]},{t:"Chn freelancer",d:["Xem h s & review","Trao i trc khi cht","K iu khon"]},{t:"Nhn sn phm",d:["Theo di tin ","Review & phn hi","Thanh ton an ton"]}].map(e=>ue.jsxs("div",{className:"card p-6",children:[ue.jsx("div",{className:"text-3xl",children:""}),ue.jsx("div",{className:"mt-3 font-semibold",children:e.t}),ue.jsx("ul",{className:"mt-2 text-sm text-slate-600 list-disc list-inside space-y-1",children:e.d.map(e=>ue.jsx("li",{children:e},e))})]},e.t))})]})}function is(e){return ue.jsx("input",{...e,className:["input",e.className].join(" ")})}function ls(e){return ue.jsx("textarea",{...e,className:["textarea",e.className].join(" ")})}function cs({children:e,...t}){return ue.jsx("select",{...t,className:["select",t.className].join(" "),children:e})}function us({onUploadSuccess:e,multiple:t=!1,folder:r="lanserve",maxSize:s=10485760,accept:a="image/*"}){const[o,i]=n.useState(!1),[l,c]=n.useState(null),[u,d]=n.useState(null),h=async n=>{i(!0),d(null);try{const s=new FormData;t?Array.from(n).forEach(e=>{s.append("files",e)}):s.append("file",n[0]),s.append("folder",r);const a=t?"/api/images/upload-multiple":"/api/images/upload",o=await Gn.post(a,s,{headers:{"Content-Type":"multipart/form-data"}});if(t){const t=o.data.urls||[];Array.isArray(t)&&t.length>0&&e?.(t)}else e?.(o.data.url),c(null)}catch(s){d(s.response?.data?.message||"Upload failed"),console.error("Upload error:",s)}finally{i(!1)}};return ue.jsxs("div",{className:"space-y-2",children:[ue.jsxs("div",{className:"flex items-center gap-4",children:[ue.jsxs("label",{className:"cursor-pointer inline-block",children:[ue.jsx("input",{type:"file",accept:a,multiple:t,onChange:e=>{const n=e.target.files;if(!n||0===n.length)return;const r=n[0];if(r.size>s)d(`File size exceeds ${s/1024/1024}MB limit`);else if(r.type.startsWith("image/")){if(d(null),!t){const e=new FileReader;e.onloadend=()=>{c(e.result)},e.readAsDataURL(r)}h(n)}else d("Please select an image file")},className:"hidden",disabled:o,id:`file-input-${Math.random()}`}),ue.jsx(be,{type:"button",variant:"outline",disabled:o,onClick:e=>{e.preventDefault(),e.stopPropagation();const t=e.target.closest("label")?.querySelector('input[type="file"]');t&&!o&&t.click()},children:o?"Uploading...":t?"Choose Images":"Choose Image"})]}),l&&!t&&ue.jsx("img",{src:l,alt:"Preview",className:"w-20 h-20 object-cover rounded"})]}),u&&ue.jsx("p",{className:"text-sm text-red-600",children:u})]})}const ds=An.create({baseURL:"https://lanserve-api-cgfghcd9bshbazbd.malaysiawest-01.azurewebsites.net",headers:{"Content-Type":"application/json"}});function hs(){const e=t(),[r,s]=n.useState(""),[a,o]=n.useState(""),[i,l]=n.useState(""),[c,u]=n.useState("Fixed"),[d,h]=n.useState(5e6),[f,m]=n.useState(""),[p,g]=n.useState([]),[x,b]=n.useState([]),[v,y]=n.useState([]),[w,j]=n.useState([]),[N,k]=n.useState(""),[S,_]=n.useState(!1),[C,E]=n.useState("");n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=we(e),n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||t.uid||"";k((n??"").toString().trim().replace(/^ObjectId\(["']?(.+?)["']?\)$/i,"$1"))}catch(t){console.error("Decode token error:",t)}},[]),n.useEffect(()=>{(async()=>{try{const[e,t]=await Promise.all([ds.get("/api/categories"),ds.get("/api/skills")]);y(e.data??[]),j(t.data??[])}catch(e){console.error("Load categories/skills failed",e)}})()},[]);return ue.jsxs("div",{className:"container-ld py-10",children:[ue.jsx("h1",{className:"text-3xl font-semibold text-center",children:"ng d n mi"}),C&&ue.jsx("div",{className:"mt-6 text-sm text-red-700 bg-red-50 border border-red-200 p-3 rounded",children:C}),ue.jsxs("div",{className:"mt-8 space-y-6",children:[ue.jsxs("div",{className:"card",children:[ue.jsx("div",{className:"card-header p-5 font-semibold",children:"Thng tin d n"}),ue.jsxs("div",{className:"card-body grid md:grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Tiu  d n *"}),ue.jsx(is,{value:r,onChange:e=>s(e.target.value),placeholder:"VD: Thit k logo cho cng ty cng ngh"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Danh mc *"}),ue.jsxs(cs,{value:i,onChange:e=>l(e.target.value),children:[ue.jsx("option",{value:"",children:"--Chn danh mc--"}),v.map(e=>ue.jsx("option",{value:e.id,children:e.name},e.id))]})]}),ue.jsxs("div",{className:"md:col-span-2",children:[ue.jsx("label",{className:"text-sm",children:"M t d n *"}),ue.jsx(ls,{value:a,onChange:e=>o(e.target.value),placeholder:"M t chi tit yu cu, mc tiu v k vng..."})]})]})]}),ue.jsxs("div",{className:"card",children:[ue.jsx("div",{className:"card-header p-5 font-semibold",children:"Ngn sch"}),ue.jsxs("div",{className:"card-body grid md:grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Loi ngn sch *"}),ue.jsxs("div",{className:"mt-2 flex gap-6 text-sm",children:[ue.jsxs("label",{className:"flex items-center gap-2",children:[ue.jsx("input",{type:"radio",name:"budgetType",value:"Fixed",checked:"Fixed"===c,onChange:e=>u(e.target.value)}),"Gi c nh"]}),ue.jsxs("label",{className:"flex items-center gap-2",children:[ue.jsx("input",{type:"radio",name:"budgetType",value:"Hourly",checked:"Hourly"===c,onChange:e=>u(e.target.value)}),"Theo gi"]})]})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Tng ngn sch (VND) *"}),ue.jsx(is,{type:"number",value:d,onChange:e=>h(Number(e.target.value)),min:0})]})]})]}),ue.jsxs("div",{className:"card",children:[ue.jsx("div",{className:"card-header p-5 font-semibold",children:"Thi gian"}),ue.jsx("div",{className:"card-body grid md:grid-cols-2 gap-4",children:ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Thi gian hon thnh *"}),ue.jsx(is,{type:"date",value:f,onChange:e=>m(e.target.value)})]})})]}),ue.jsxs("div",{className:"card",children:[ue.jsx("div",{className:"card-header p-5 font-semibold",children:"K nng cn thit"}),ue.jsx("div",{className:"card-body grid md:grid-cols-3 gap-3 text-sm",children:w.map(e=>ue.jsxs("label",{className:"flex items-center gap-2",children:[ue.jsx("input",{type:"checkbox",checked:p.includes(e.id),onChange:()=>{return t=e.id,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),e.name]},e.id))})]}),ue.jsxs("div",{className:"card",children:[ue.jsx("div",{className:"card-header p-5 font-semibold",children:"Hnh nh d n"}),ue.jsxs("div",{className:"card-body",children:[ue.jsx(us,{multiple:!0,folder:"projects",onUploadSuccess:e=>{Array.isArray(e)&&b(t=>[...t,...e])}}),x.length>0&&ue.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:x.map((e,t)=>ue.jsxs("div",{className:"relative group",children:[ue.jsx("img",{src:e,alt:`Project ${t+1}`,className:"w-full h-32 object-cover rounded"}),ue.jsx("button",{onClick:()=>b(x.filter((e,n)=>n!==t)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},t))})]})]}),ue.jsxs("div",{className:"flex justify-end gap-3",children:[ue.jsx(be,{variant:"outline",onClick:()=>e("/projects"),disabled:S,children:"Hy b"}),ue.jsx(be,{onClick:async()=>{const t=N?r.trim()?a.trim()?i?!d||Number(d)<=0?"Ngn sch khng hp l.":f?"":"Vui lng chn thi hn hon thnh.":"Vui lng chn danh mc.":"Vui lng nhp m t d n.":"Vui lng nhp tiu  d n.":"Bn cha ng nhp.";if(t)E(t);else{E("");try{_(!0);const t=f?new Date(`${f}T00:00:00`).toISOString():null,n={ownerId:N,title:r,description:a,categoryId:i||null,skillIds:p,budgetType:c,budgetAmount:d?Number(d):0,deadline:t,status:"Open",images:x},s=Number(n.budgetAmount||0);if("Fixed"===n.budgetType&&s>0){const e=await async function(e){if(!e)return 0;try{const t=await ds.get(`/api/wallets/${e}`);return Number(t.data?.balance||0)}catch{return 0}}(N);if(e<s)return void alert(`S d v khng   chi tr cho d n ny.\nCn: ${s.toLocaleString("vi-VN")} VND\nHin c: ${e.toLocaleString("vi-VN")} VND\n\nVui lng np thm tin trc khi ng d n.`)}await ds.post("/api/projects",n),alert("ng d n thnh cng!"),e("/projects")}catch(n){console.error("Create project failed",n?.response?.data||n),alert(n?.response?.data?.detail||n?.response?.data?.message||"C li khi ng d n")}finally{_(!1)}}},disabled:S,children:S?"ang ng...":"ng d n"})]})]})]})}function fs({icon:e,label:t,value:n}){return ue.jsxs("div",{className:"card p-4 flex items-center gap-3",children:[ue.jsx("div",{className:"h-10 w-10 grid place-items-center rounded-xl bg-slate-100 text-xl",children:e}),ue.jsxs("div",{children:[ue.jsx("div",{className:"text-xs text-slate-500",children:t}),ue.jsx("div",{className:"text-lg font-semibold",children:n})]})]})}function ms({size:e="md",className:t=""}){return ue.jsx("div",{className:`flex items-center justify-center ${t}`,children:ue.jsx("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-4 border-slate-200 border-t-brand-700 rounded-full animate-spin`})})}function ps(){const[e,t]=n.useState([]),[r,s]=n.useState([]),[a,o]=n.useState([]),[i,l]=n.useState([]),[c,u]=n.useState(null),[d,h]=n.useState(null),[f,m]=n.useState(!1),[g,x]=n.useState({}),[b,v]=n.useState(""),[y,w]=n.useState("ALL"),[j,N]=n.useState(!0),[k,S]=n.useState(""),[_,C]=n.useState(""),[E,T]=n.useState("newest"),[I,A]=n.useState([]),[P,R]=n.useState(!1),[L,D]=n.useState(null),[O,M]=n.useState(null),[z,F]=n.useState(""),[U,$]=n.useState(10),[H,B]=n.useState(!1),q=n.useRef(null);n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=we(e),n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||null,r=t.name||t.username||t.unique_name||t.preferred_username||t.email||null;u(n),F(r)}catch(t){console.error("Decode token error:",t)}},[]);const W=n.useMemo(()=>{if("related"===E){let e=[...I];return e=e.filter(e=>{if("ALL"!==y){if((e.status||e.Status||"")!==y)return!1}if(k&&e.categoryId!==k)return!1;if(_.trim()){const t=K(_),n=K(e.title||""),r=K(e.description||"");if(!n.includes(t)&&!r.includes(t))return!1}return!0}),e.sort((e,t)=>(t.similarity||0)-(e.similarity||0))}const t=e=>{const t=new Date(e.createdAt||e.updatedAt||0).getTime();return Number.isFinite(t)?t:0};return e.filter(e=>{if("ALL"!==y){if((e.status||e.Status||"")!==y)return!1}if(k&&e.categoryId!==k)return!1;if(_.trim()){const t=K(_),n=K(e.title||""),r=K(e.description||"");if(!n.includes(t)&&!r.includes(t))return!1}return!0}).sort((e,n)=>"newest"===E?t(n)-t(e):t(e)-t(n))},[e,I,y,k,_,E]);n.useEffect(()=>{$(10)},[y,k,_,E]);const V=n.useMemo(()=>W.slice(0,U),[W,U]);function K(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}n.useEffect(()=>{const e=()=>{if(H)return;if(U>=W.length)return;const e=q.current||window,t=e===window?window.scrollY:e.scrollTop,n=e===window?document.documentElement.scrollHeight:e.scrollHeight;t+(e===window?window.innerHeight:e.clientHeight)>=n-200&&(B(!0),setTimeout(()=>{$(e=>Math.min(e+10,W.length)),B(!1)},300))},t=q.current||window;return t.addEventListener("scroll",e),window.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e),window.removeEventListener("scroll",e)}},[H,U,W.length]),n.useEffect(()=>{ds.get("api/categories").then(e=>o(e.data||[])).catch(e=>console.error(e)),ds.get("api/skills").then(e=>l(e.data||[])).catch(e=>console.error("Skills error:",e))},[]),n.useEffect(()=>{ds.get("api/projects").then(e=>s(e.data||[])).catch(e=>console.error("Load all projects for stats error:",e))},[]),n.useEffect(()=>{N(!0),ds.get("api/projects").then(e=>t(e.data||[])).catch(e=>console.error("Load projects error:",e)).finally(()=>N(!1))},[]),n.useEffect(()=>{"related"===E&&c?(R(!0),ds.get("api/projects/recommended?limit=100").then(e=>{const t=e.data||[];A(t.map(e=>({...e.project,similarity:e.similarity})))}).catch(e=>{console.error("Load recommended projects error:",e),A([])}).finally(()=>R(!1))):A([])},[E,c]);const G=n.useCallback(e=>a.find(t=>t.id===e)?.name||"Khc",[a]),X=n.useMemo(()=>{const e=new Map;for(const t of i)e.set(t.id,t.name);return e},[i]),Q=n.useCallback((e=[])=>e.map(e=>X.get(e)).filter(Boolean),[X]),Y=e=>{if(e.ownerId!==c)return;x({}),v("");let t=Array.isArray(e.skillIds)?e.skillIds:[];if(!t.length&&Array.isArray(e.skillNames)&&i.length){const n=new Map(i.map(e=>[e.name.toLowerCase(),e.id]));t=e.skillNames.map(e=>n.get((e||"").toLowerCase())).filter(Boolean)}h({id:e.id,ownerId:e.ownerId,title:e.title||"",description:e.description||"",budgetAmount:e.budgetAmount??0,status:e.status||"Open",categoryId:e.categoryId||"",skillIds:t,createdAt:e.createdAt||null,updatedAt:e.updatedAt||null})},J=n.useCallback(()=>h(null),[]),Z=()=>D(null),ee=r.filter(e=>"Open"===e.status).length,te=r.filter(e=>"InProgress"===e.status).length,ne=r.filter(e=>"Completed"===e.status).length,re=(r.reduce((e,t)=>e+(t.budgetAmount||0),0).toLocaleString("vi-VN")||"0")+" ";return ue.jsxs("div",{className:"container-ld py-8 space-y-6",children:[ue.jsxs("div",{className:"flex items-center justify-between",children:[ue.jsx("h1",{className:"text-2xl font-semibold",children:"D n cn tuyn Freelancer"}),ue.jsx(be,{onClick:()=>{c?(x({}),v(""),h({id:null,ownerId:c,title:"",description:"",budgetAmount:0,status:"Open",categoryId:"",skillIds:[],createdAt:null,updatedAt:null})):alert("Bn cha ng nhp!")},children:"+ D n mi"})]}),ue.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[ue.jsx("input",{type:"text",className:"input w-full md:w-1/2",placeholder:"Tm d n theo tiu  hoc m t...",value:_,onChange:e=>C(e.target.value)}),ue.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[ue.jsxs("select",{className:"select w-full md:w-auto",value:k,onChange:e=>S(e.target.value),children:[ue.jsx("option",{value:"",children:" Tt c danh mc "}),a.map(e=>ue.jsx("option",{value:e.id,children:e.name},e.id))]}),ue.jsxs("select",{className:"select w-full md:w-auto",value:E,onChange:e=>T(e.target.value),children:[ue.jsx("option",{value:"newest",children:"Mi nht"}),ue.jsx("option",{value:"oldest",children:"C nht"}),ue.jsx("option",{value:"related",children:"Lin quan"})]})]})]}),ue.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[ue.jsx("div",{role:"button",onClick:()=>w("ALL"),className:"transition rounded-xl "+("ALL"===y?"ring-2 ring-brand-500":""),children:ue.jsx(fs,{icon:"",label:"Tng d n",value:r.length})}),ue.jsx("div",{role:"button",onClick:()=>w("Open"),className:"transition rounded-xl "+("Open"===y?"ring-2 ring-brand-500":""),children:ue.jsx(fs,{icon:"",label:"ang m",value:ee})}),ue.jsx("div",{role:"button",onClick:()=>w("InProgress"),className:"transition rounded-xl "+("InProgress"===y?"ring-2 ring-brand-500":""),children:ue.jsx(fs,{icon:"",label:"ang thc hin",value:te})}),ue.jsx("div",{role:"button",onClick:()=>w("Completed"),className:"transition rounded-xl "+("Completed"===y?"ring-2 ring-brand-500":""),children:ue.jsx(fs,{icon:"",label:"Hon thnh",value:ne})}),ue.jsx(fs,{icon:"",label:"Tng ngn sch",value:re})]}),ue.jsx("div",{ref:q,children:j?ue.jsxs("div",{className:"card p-6 flex items-center justify-center gap-3",children:[ue.jsx(ms,{}),ue.jsx("span",{children:"ang ti d n"})]}):0===W.length?ue.jsx("div",{className:"card p-6",children:"Khng c d n ph hp."}):ue.jsxs(ue.Fragment,{children:[V.map(e=>{const t=e.ownerId===c,n=Array.isArray(e.skillIds)&&e.skillIds.length?Q(e.skillIds):e.skillNames||[];return ue.jsx("div",{className:"card",children:ue.jsxs("div",{className:"card-body",children:[ue.jsxs("div",{className:"flex items-start justify-between",children:[ue.jsxs("div",{className:"flex-1",children:[ue.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[ue.jsx("div",{className:"text-lg font-semibold flex-1",children:e.title}),"related"===E&&void 0!==e.similarity&&ue.jsx("div",{className:"flex-shrink-0",children:ue.jsxs("div",{className:"px-3 py-1.5 bg-green-100 text-green-700 rounded-full text-sm font-semibold whitespace-nowrap",children:[e.similarity,"% ph hp"]})})]}),ue.jsx("div",{className:"mt-1 text-sm text-slate-500",children:e.description}),ue.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[ue.jsx("span",{className:"badge",children:G(e.categoryId)}),n.slice(0,6).map(e=>ue.jsx("span",{className:"badge badge-outline",children:e},e))]})]}),ue.jsxs("div",{className:"text-right min-w-[140px] ml-4",children:[ue.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Ngn sch"}),ue.jsxs("div",{className:"text-brand-700 font-semibold",children:[e.budgetAmount?.toLocaleString("vi-VN")??""," "]})]})]}),ue.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[ue.jsxs("div",{className:"flex items-center gap-2",children:[ue.jsx("span",{children:"Trng thi:"}),ue.jsx("span",{className:"font-semibold "+("Open"===e.status?"text-green-600":"InProgress"===e.status?"text-blue-600":"Completed"===e.status?"text-gray-600":"text-red-600"),children:e.status})]}),ue.jsxs("div",{className:"text-xs text-slate-500",children:["ng lc:"," ",e.createdAt?new Date(e.createdAt).toLocaleString("vi-VN"):""]})]}),ue.jsxs("div",{className:"mt-4 flex gap-2",children:[ue.jsx(be,{variant:"outline",onClick:()=>(e=>{const t=Array.isArray(e.skillIds)&&e.skillIds.length>0?Q(e.skillIds):e.skillNames||[];D({...e,resolvedSkills:t,categoryName:G(e.categoryId),isOwner:e.ownerId===c})})(e),children:"Xem"}),t?ue.jsx(be,{variant:"outline",onClick:()=>Y(e),children:"Chnh sa"}):"Open"===e.status&&ue.jsx(be,{variant:"outline",onClick:()=>M(e),children:"Nhn job"})]})]})},e.id)}),H&&ue.jsx("div",{className:"flex items-center justify-center py-4",children:ue.jsx(ms,{size:"md"})}),!j&&U>=W.length&&W.length>0&&ue.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",W.length," d n"]})]})}),O&&ue.jsxs(ue.Fragment,{children:[ue.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>M(null)}),ue.jsx("div",{className:"fixed left-1/2 top-1/2 z-50 w-[min(96vw,480px)] -translate-x-1/2 -translate-y-1/2",children:ue.jsxs("div",{className:"rounded-2xl bg-white shadow-2xl border border-slate-200",children:[ue.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[ue.jsx("div",{className:"font-semibold",children:"ng tuyn d n"}),ue.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>M(null),children:""})]}),ue.jsxs("div",{className:"p-5 space-y-4",children:[ue.jsxs("p",{children:["Bn ang ng tuyn vo d n ",ue.jsx("b",{children:O.title})]}),ue.jsxs("div",{className:"space-y-2",children:[ue.jsx("label",{className:"text-sm font-medium",children:"Cover Letter"}),ue.jsx("textarea",{className:"textarea textarea-bordered w-full",rows:3,value:O.coverLetter||"",onChange:e=>M({...O,coverLetter:e.target.value}),placeholder:"Vit vi dng gii thiu v bn..."})]}),ue.jsxs("div",{className:"space-y-2",children:[ue.jsx("label",{className:"text-sm font-medium",children:"Bid Amount"}),ue.jsx("input",{type:"number",className:"input input-bordered w-full",value:O.bidAmount||"",onChange:e=>M({...O,bidAmount:e.target.value}),placeholder:`Theo budget ca d n: ${O.budgetAmount||"0"}$`})]})]}),ue.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[ue.jsx(be,{variant:"outline",onClick:()=>M(null),children:"Hy"}),ue.jsx(be,{onClick:async()=>{try{const e=(O.coverLetter||"").trim()||"Ti quan tm n d n ny v mun ng tuyn.",t=""===O.bidAmount||null==O.bidAmount?O.budgetAmount??null:Number(O.bidAmount),n=Number.isFinite(t)&&t>0?t:O.budgetAmount??null,r={projectId:O.id||O._id,freelancerId:c,coverLetter:e,bidAmount:n,status:"Pending",createdAt:(new Date).toISOString()};console.log("Proposal payload:",r);const{data:s}=await ds.post("api/proposals",r),a=s?.id||s?.Id,o={projectId:O.id||O._id,proposalId:a,clientId:O.ownerId,freelancerId:c,projectTitle:O.title,clientName:O.ownerName||"",freelancerName:z||"",coverLetter:e,bidAmount:n};console.log("Message(proposal) payload:",o),await ds.post("api/messages/proposal",o)}catch(e){console.error("Proposal error:",e?.response||e),alert(e?.response?.data?.detail||"Khng th gi proposal. Th li sau.")}finally{M(null)}},children:"Gi proposal"})]})]})})]}),d&&ue.jsxs(ue.Fragment,{children:[ue.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:J}),ue.jsx("div",{className:"fixed left-1/2 top-1/2 z-50 w-[min(96vw,760px)] -translate-x-1/2 -translate-y-1/2",children:ue.jsxs("div",{className:"rounded-2xl bg-white shadow-2xl border border-slate-200",children:[ue.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[ue.jsx("div",{className:"font-semibold",children:d.id?"Chnh sa d n":"To d n mi"}),ue.jsx("button",{className:"btn btn-sm btn-ghost",onClick:J,children:""})]}),ue.jsxs("div",{className:"p-5 space-y-4",children:[b&&ue.jsx("div",{className:"text-sm text-red-600 border border-red-200 bg-red-50 p-2 rounded",children:b}),ue.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm font-medium",children:"Tiu "}),ue.jsx("input",{className:"input mt-1 w-full "+(g.title?"border-red-500":""),value:d.title,onChange:e=>h(t=>({...t,title:e.target.value})),placeholder:"Nhp tiu  d n"}),g.title&&ue.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.title})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm font-medium",children:"Danh mc"}),ue.jsxs("select",{className:"select mt-1 w-full "+(g.categoryId?"border-red-500":""),value:d.categoryId,onChange:e=>h(t=>({...t,categoryId:e.target.value})),children:[ue.jsx("option",{value:"",children:" Chn danh mc "}),a.map(e=>ue.jsx("option",{value:e.id,children:e.name},e.id))]}),g.categoryId&&ue.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.categoryId})]})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm font-medium",children:"M t"}),ue.jsx("textarea",{rows:4,className:"textarea mt-1 w-full "+(g.description?"border-red-500":""),value:d.description,onChange:e=>h(t=>({...t,description:e.target.value})),placeholder:"M t chi tit yu cu..."}),g.description&&ue.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.description})]}),ue.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm font-medium",children:"Ngn sch ()"}),ue.jsx("input",{type:"number",className:"input mt-1 w-full "+(g.budgetAmount?"border-red-500":""),value:d.budgetAmount,onChange:e=>h(t=>({...t,budgetAmount:e.target.value})),placeholder:"0",min:0}),g.budgetAmount&&ue.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.budgetAmount})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm font-medium",children:"Trng thi"}),ue.jsxs("select",{className:"select mt-1 w-full",value:d.status,onChange:e=>h(t=>({...t,status:e.target.value})),children:[ue.jsx("option",{value:"Open",children:"Open"}),ue.jsx("option",{value:"InProgress",children:"InProgress"}),ue.jsx("option",{value:"Completed",children:"Completed"}),ue.jsx("option",{value:"Closed",children:"Closed"})]})]}),ue.jsxs("div",{className:"md:col-span-1",children:[ue.jsx("label",{className:"text-sm font-medium",children:"K nng"}),ue.jsx(gs,{skills:i,value:d.skillIds,onChange:e=>h(t=>({...t,skillIds:e}))})]})]})]}),ue.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[ue.jsx(be,{variant:"outline",onClick:J,disabled:f,children:"Hy"}),ue.jsx(be,{onClick:async()=>{if(d&&(()=>{const e={};return d.title?.trim()||(e.title="Vui lng nhp tiu "),d.description?.trim()||(e.description="Vui lng nhp m t"),(Number.isNaN(Number(d.budgetAmount))||Number(d.budgetAmount)<0)&&(e.budgetAmount="Ngn sch khng hp l"),d.categoryId||(e.categoryId="Vui lng chn danh mc"),x(e),0===Object.keys(e).length})())try{let n;if(m(!0),v(""),d.id){const r={id:d.id,ownerId:d.ownerId,title:d.title,description:d.description,budgetAmount:Number(d.budgetAmount),status:d.status,categoryId:d.categoryId,updatedAt:(new Date).toISOString()},a=await ds.put(`api/projects/${d.id}`,r);n=a.data??r;try{await ds.post("api/projectskills/sync",{projectId:d.id,skillIds:d.skillIds||[]}),n.skillIds=d.skillIds||[],n.skillNames=Q(n.skillIds)}catch(e){console.warn("Sync project skills (update) warning:",e?.response||e)}t(e=>e.map(e=>e.id===d.id?{...e,...n}:e)),s(e=>e.map(e=>e.id===d.id?{...e,...n}:e))}else{const r={ownerId:d.ownerId,title:d.title,description:d.description,budgetAmount:Number(d.budgetAmount),status:d.status,categoryId:d.categoryId},a=await ds.post("api/projects",r);if(n=a.data??r,Array.isArray(d.skillIds))try{await ds.post("api/projectskills/sync",{projectId:d.id||n.id,skillIds:d.skillIds||[]}),n.skillIds=d.skillIds||[],n.skillNames=Q(n.skillIds)}catch(e){console.warn("Sync project skills warning:",e?.response||e)}t(e=>[{...n},...e]),s(e=>[{...n},...e])}J()}catch(n){const e=n?.response?.data?.detail||n?.response?.data?.message||n?.response?.data||n?.message||"Lu tht bi";console.error("Save project error:",n?.response||n),v("string"==typeof e?e:"Khng lu c thay i.")}finally{m(!1)}},disabled:f,children:f?"ang lu...":d.id?"Lu thay i":"To d n"})]})]})})]}),L&&ue.jsxs(ue.Fragment,{children:[ue.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:Z}),ue.jsx("div",{className:"fixed left-1/2 top-1/2 z-50 w-[min(96vw,760px)] -translate-x-1/2 -translate-y-1/2",children:ue.jsxs("div",{className:"rounded-2xl bg-white shadow-2xl border border-slate-200",children:[ue.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[ue.jsx("div",{className:"font-semibold",children:"Chi tit d n"}),ue.jsx("button",{className:"btn btn-sm btn-ghost",onClick:Z,children:""})]}),ue.jsxs("div",{className:"p-5 space-y-4 max-h-[70vh] overflow-y-auto",children:[L.images&&L.images.length>0&&ue.jsxs("div",{className:"mb-4",children:[ue.jsx("div",{className:"text-sm font-semibold mb-2",children:"Hnh nh d n"}),ue.jsx("div",{className:"grid grid-cols-2 gap-2",children:L.images.map((e,t)=>ue.jsx("img",{src:e,alt:`Project image ${t+1}`,className:"w-full h-32 object-cover rounded cursor-pointer hover:opacity-90",onClick:()=>window.open(e,"_blank")},t))})]}),ue.jsxs("div",{className:"flex items-start justify-between gap-4",children:[ue.jsxs("div",{children:[ue.jsx("div",{className:"text-xl font-semibold",children:L.title}),ue.jsx("div",{className:"mt-2 text-sm text-slate-600",children:L.description}),ue.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[ue.jsx("span",{className:"badge",children:L.categoryName}),(L.resolvedSkills||[]).map(e=>ue.jsx("span",{className:"badge badge-outline",children:e},e))]})]}),ue.jsxs("div",{className:"text-right min-w-[160px]",children:[ue.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Ngn sch"}),ue.jsxs("div",{className:"text-brand-700 font-semibold",children:[L.budgetAmount?.toLocaleString("vi-VN")??""," "]}),ue.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:["Trng thi:"," ",ue.jsx("span",{className:"badge badge-outline",children:L.status})]}),ue.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["ng lc:"," ",L.createdAt?new Date(L.createdAt).toLocaleString("vi-VN"):""]})]})]})]}),ue.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[L.isOwner?ue.jsx(be,{variant:"outline",onClick:()=>{Z(),Y(L)},children:"Chnh sa"}):"Open"===L.status&&ue.jsx(be,{variant:"outline",onClick:()=>M({projectId:p.id,title:p.title,clientId:p.ownerId}),children:"Nhn job"}),ue.jsx(be,{onClick:Z,children:"ng"})]})]})})]})]})}function gs({skills:e,value:t=[],onChange:r}){const[s,a]=n.useState(""),o=new Set(t),i=n.useMemo(()=>{const t=(s||"").trim().toLowerCase();return t?e.filter(e=>(e.name||"").toLowerCase().includes(t)):e},[s,e]);return ue.jsxs("div",{className:"mt-1 w-full",children:[ue.jsx("input",{className:"input w-full mb-2",placeholder:"Tm k nng",value:s,onChange:e=>a(e.target.value)}),ue.jsx("div",{className:"border rounded-lg h-[160px] overflow-auto p-2 space-y-1 bg-slate-50",children:0===i.length?ue.jsx("div",{className:"text-xs text-slate-500 px-1",children:"Khng c k nng ph hp"}):i.map(e=>ue.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-white cursor-pointer",children:[ue.jsx("input",{type:"checkbox",className:"checkbox",checked:o.has(e.id),onChange:()=>(e=>{const t=new Set(o);t.has(e)?t.delete(e):t.add(e),r(Array.from(t))})(e.id)}),ue.jsx("span",{className:"text-sm",children:e.name})]},e.id))}),t?.length>0&&ue.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.filter(e=>t.includes(e.id)).map(e=>ue.jsx("span",{className:"badge badge-outline",children:e.name},e.id))})]})}function xs(){const[e,t]=n.useState(null),[r,l]=n.useState({avg:"-",count:0}),[c,u]=n.useState(!1),[d,h]=n.useState(!1),f=a().search||"",m=o();if(n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(!e)return;const n=we(e)["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"],r=m.userId||n;r&&(ds.get(`api/userprofiles/by-user/${r}`).then(e=>{t(t=>({...t||{},...e.data})),h(r===n)}).catch(e=>console.error("Profile error:",e)),r===n?ds.get("api/users/me").then(e=>{const n=e.data?.fullName??e.data?.name??"",r=e.data?.avatarUrl??"";t(e=>({...e||{},fullName:n,avatarUrl:r}))}).catch(e=>console.error("User error:",e)):ds.get(`api/users/${r}`).then(e=>{const n=e.data?.fullName??e.data?.name??"",r=e.data?.avatarUrl??"";t(e=>({...e||{},fullName:n,avatarUrl:r}))}).catch(e=>console.error("User (viewed) error:",e)),ds.get(`api/reviews/by-user/${r}`).then(e=>{const t=e.data||[];if(t.length>0){const e=t.reduce((e,t)=>e+(Number(t.rating)||0),0)/t.length;l({avg:e.toFixed(1),count:t.length})}else l({avg:"-",count:0})}).catch(e=>console.error("Review error:",e)))},[m.userId]),!e)return ue.jsx("p",{className:"p-4",children:"ang ti..."});return ue.jsxs("div",{className:"container-ld py-8",children:[ue.jsxs("div",{className:"card overflow-hidden",children:[ue.jsx("div",{className:"h-28 bg-gradient-to-r from-blue-600 to-orange-500"}),ue.jsxs("div",{className:"p-5 flex items-center justify-between",children:[ue.jsxs("div",{className:"flex items-center gap-4",children:[e.avatarUrl?ue.jsx("img",{src:e.avatarUrl,alt:"Avatar",className:"w-16 h-16 rounded-full object-cover border-2 border-white"}):ue.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-300 flex items-center justify-center text-2xl",children:""}),ue.jsxs("div",{children:[ue.jsxs("div",{className:"text-xl font-semibold",children:[e.fullName&&e.fullName.trim()?e.fullName:"Ngi dng n",ue.jsx("span",{className:"badge badge-success ml-2",children:" xc thc"})]}),ue.jsxs("div",{className:"text-sm text-slate-600",children:[e.title??"Cha c chc danh"," "," ",e.location??"Cha r","  Tham gia"," ",e.createdAt?new Date(e.createdAt).toLocaleDateString("vi-VN"):"-"," ","  ",r.avg,"/5"," ",r.count>0?`(${r.count} nh gi)`:""]})]})]}),d&&ue.jsx("button",{className:"btn btn-outline",onClick:()=>u(e=>!e),children:c?"Hy chnh sa":"Chnh sa h s"})]}),d&&ue.jsx("div",{className:"px-5 border-t border-slate-100",children:ue.jsx("nav",{className:"flex gap-2 overflow-x-auto",children:[{to:"profile",label:"H s c nhn"},{to:"my-projects",label:"D n ca ti"},{to:"messages",label:"Tin nhn"},{to:"settings",label:"Ci t"}].map(e=>ue.jsx(s,{to:{pathname:e.to,search:f},className:({isActive:e})=>"tab "+(e?"tab-active":""),children:e.label},e.to))})})]}),ue.jsx("div",{className:"mt-6",children:ue.jsx(i,{context:{isEditingProfile:c,setIsEditingProfile:u}})})]})}function bs(){const[e,t]=n.useState(null),[r,s]=n.useState([]),[a,i]=n.useState([]),[c,u]=n.useState(""),[d,h]=n.useState(!1),[f,m]=n.useState(null),[p,g]=n.useState(""),x=l?.()||{},{isEditingProfile:b,setIsEditingProfile:v}=x,{userId:y}=o();if(n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");let n=null;if(e){const t=we(e);n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId}const r=y||n;r&&(Gn.get(`/api/users/${r}`).then(e=>{m(e.data),g(e.data?.avatarUrl||"")}).catch(e=>console.error("Get user error:",e)),Gn.get(`/api/userprofiles/by-user/${r}`).then(async e=>{if(e.data&&e.data.hidden)return t({hidden:!0,message:e.data.message}),void h(!1);if(t(e.data),h(!y&&e.data.userId===n),e.data.skillIds?.length>0){const t=await Gn.post("/api/skills/resolve",e.data.skillIds);s(t.data)}}).catch(e=>{console.error("Get profile error:",e.response?.data||e.message)}))},[y]),n.useEffect(()=>{b&&d&&Gn.get("/api/skills").then(e=>i(e.data)).catch(e=>console.error("Load skills error:",e))},[b,d]),!e)return ue.jsx("p",{className:"p-4",children:"ang ti h s..."});if(e.hidden)return ue.jsx("div",{className:"card p-6 text-center text-sm text-gray-600",children:e.message||"Ngi dng  n h s cng khai"});const w=e=>{const{name:n,value:r}=e.target;t(e=>({...e,[n]:r}))},j=(n,r,s)=>{const a=[...e[n]||[]];a[s]=r,t(e=>({...e,[n]:a}))},N=e=>{t(t=>({...t,[e]:[...t[e]||[],""]}))},k=(n,r)=>{const s=[...e[n]||[]];s.splice(r,1),t(e=>({...e,[n]:s}))},S=d&&b;return ue.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[ue.jsxs("div",{className:"space-y-6",children:[ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold",children:"Thng tin c nhn"}),ue.jsx("div",{className:"mt-3 text-sm grid gap-2",children:S?ue.jsxs(ue.Fragment,{children:[ue.jsx("input",{type:"text",name:"title",value:e.title||"",onChange:w,className:"input",placeholder:"Chc danh"}),ue.jsx("input",{type:"text",name:"location",value:e.location||"",onChange:w,className:"input",placeholder:"Ni "}),ue.jsx("input",{type:"number",name:"hourlyRate",value:e.hourlyRate||"",onChange:w,className:"input",placeholder:"Rate theo gi"})]}):ue.jsxs(ue.Fragment,{children:[ue.jsxs("div",{children:["Chc danh: ",ue.jsx("b",{children:e.title})]}),ue.jsxs("div",{children:["Ni : ",e.location??"Cha cp nht"]}),ue.jsxs("div",{children:["Rate: ",e.hourlyRate??"-"," VND/h"]}),void 0!==e.averageRating&&e.averageRating>0&&ue.jsxs("div",{className:"flex items-center gap-2",children:[ue.jsx("span",{children:"nh gi:"}),ue.jsxs("div",{className:"flex items-center gap-1",children:[ue.jsxs("span",{className:"text-yellow-400 text-lg",children:["".repeat(Math.round(e.averageRating)),"".repeat(5-Math.round(e.averageRating))]}),ue.jsx("span",{className:"font-semibold",children:e.averageRating.toFixed(1)}),ue.jsxs("span",{className:"text-gray-500 text-xs",children:["(",e.averageRating.toFixed(1),"/5.0)"]})]})]})]})})]}),ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold mb-3",children:"Ngn ng"}),S?ue.jsxs("div",{className:"flex flex-col gap-2",children:[e.languages?.map((e,t)=>ue.jsxs("div",{className:"flex items-center gap-2",children:[ue.jsx("input",{type:"text",value:e,onChange:e=>j("languages",e.target.value,t),className:"input flex-1",placeholder:"Ngn ng"}),ue.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>k("languages",t),children:""})]},t)),ue.jsx("button",{className:"btn btn-xs btn-outline",onClick:()=>N("languages"),children:"+ Thm ngn ng"})]}):ue.jsx("div",{className:"flex gap-2 flex-wrap",children:e.languages?.map((e,t)=>ue.jsx("span",{className:"badge",children:e},t))})]}),ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold mb-3",children:"Chng ch"}),S?ue.jsxs("div",{className:"flex flex-col gap-2",children:[e.certifications?.map((e,t)=>ue.jsxs("div",{className:"flex items-center gap-2",children:[ue.jsx("input",{type:"text",value:e,onChange:e=>j("certifications",e.target.value,t),className:"input flex-1",placeholder:"Chng ch"}),ue.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>k("certifications",t),children:""})]},t)),ue.jsx("button",{className:"btn btn-xs btn-outline",onClick:()=>N("certifications"),children:"+ Thm chng ch"})]}):ue.jsx("ul",{className:"text-sm space-y-2",children:e.certifications?.map((e,t)=>ue.jsx("li",{children:e},t))})]})]}),ue.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold mb-3",children:"Gii thiu"}),S?ue.jsx("textarea",{name:"bio",value:e.bio||"",onChange:w,className:"textarea w-full",placeholder:"Gii thiu"}):ue.jsx("p",{className:"text-sm text-slate-700",children:e.bio})]}),ue.jsxs("div",{className:"card p-5",children:[ue.jsxs("div",{className:"flex items-center justify-between",children:[ue.jsx("div",{className:"font-semibold",children:"K nng chuyn mn"}),S&&ue.jsxs("div",{className:"flex gap-2",children:[ue.jsxs("select",{className:"select",value:c,onChange:e=>u(e.target.value),children:[ue.jsx("option",{value:"",children:"-- Chn k nng --"}),a.map(e=>ue.jsx("option",{value:e.id,children:e.name},e.id))]}),ue.jsx("button",{className:"btn btn-outline",onClick:async()=>{if(c&&!e.skillIds.includes(c))try{const n={...e,skillIds:[...e.skillIds||[],c]};await Gn.put(`/api/userprofiles/${e.id}`,n);const r=await Gn.post("/api/skills/resolve",n.skillIds);s(r.data),t(n),u("")}catch(n){console.error("Add skill error:",n),alert("Thm k nng tht bi!")}},children:"+ Thm"})]})]}),ue.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.map(n=>ue.jsxs("span",{className:"badge flex items-center gap-1",children:[n.name,S&&ue.jsx("button",{className:"ml-1 text-red-500",onClick:()=>(async n=>{try{const r={...e,skillIds:e.skillIds.filter(e=>e!==n)};await Gn.put(`/api/userprofiles/${e.id}`,r);const a=await Gn.post("/api/skills/resolve",r.skillIds);s(a.data),t(r)}catch(r){console.error("Remove skill error:",r),alert("Xa k nng tht bi!")}})(n.id),children:""})]},n.id))})]})]}),S&&ue.jsx("div",{className:"lg:col-span-3 text-right",children:ue.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{await Gn.put(`/api/userprofiles/${e.id}`,e),p&&f&&await Gn.put(`/api/users/${f.id}`,{...f,avatarUrl:p}),alert("Cp nht thnh cng!"),v(!1),window.location.reload()}catch(t){console.error("Update error:",t),alert("Cp nht tht bi!")}},children:"Lu thay i"})})]})}ds.interceptors.request.use(e=>{const t=localStorage.getItem("token")||sessionStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),ds.interceptors.response.use(e=>e,e=>(console.error("API error:",e?.response||e.message),Promise.reject(e)));const vs=Array(12).fill(0),ys=({visible:t,className:n})=>e.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},e.createElement("div",{className:"sonner-spinner"},vs.map((t,n)=>e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ws=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),js=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ns=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ks=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ss=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let _s=1;const Cs=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:_s++,a=this.toasts.find(e=>e.id===s),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:n}),{...t,...e,id:s,dismissible:o,title:n}):t):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(t,n)=>{if(!n)return;let r;void 0!==n.loading&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:"function"!=typeof n.description?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a,o=void 0!==r;const i=s.then(async t=>{a=["resolve",t];if(e.isValidElement(t))o=!1,this.create({id:r,type:"default",message:t});else if(Es(t)&&!t.ok){o=!1;const s="function"==typeof n.error?await n.error(`HTTP error! status: ${t.status}`):n.error,a="function"==typeof n.description?await n.description(`HTTP error! status: ${t.status}`):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(t instanceof Error){o=!1;const s="function"==typeof n.error?await n.error(t):n.error,a="function"==typeof n.description?await n.description(t):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(void 0!==n.success){o=!1;const s="function"==typeof n.success?await n.success(t):n.success,a="function"==typeof n.description?await n.description(t):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"success",description:a,...i})}}).catch(async t=>{if(a=["reject",t],void 0!==n.error){o=!1;const s="function"==typeof n.error?await n.error(t):n.error,a="function"==typeof n.description?await n.description(t):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),null==n.finally||n.finally.call(n)}),l=()=>new Promise((e,t)=>i.then(()=>"reject"===a[0]?t(a[1]):e(a[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||_s++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Es=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Ts=(e,t)=>{const n=(null==t?void 0:t.id)||_s++;return Cs.addToast({title:e,...t,id:n}),n},Is=Object.assign(Ts,{success:Cs.success,info:Cs.info,warning:Cs.warning,error:Cs.error,custom:Cs.custom,message:Cs.message,promise:Cs.promise,dismiss:Cs.dismiss,loading:Cs.loading},{getHistory:()=>Cs.toasts,getToasts:()=>Cs.getActiveToasts()});function As(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ps=3,Rs=14;function Ls(...e){return e.filter(Boolean).join(" ")}const Ds=t=>{var n,r,s,a,o,i,l,c,u;const{invert:d,toast:h,unstyled:f,interacting:m,setHeights:p,visibleToasts:g,heights:x,index:b,toasts:v,expanded:y,removeToast:w,defaultRichColors:j,closeButton:N,style:k,cancelButtonStyle:S,actionButtonStyle:_,className:C="",descriptionClassName:E="",duration:T,position:I,gap:A,expandByDefault:P,classNames:R,icons:L,closeButtonAriaLabel:D="Close toast"}=t,[O,M]=e.useState(null),[z,F]=e.useState(null),[U,$]=e.useState(!1),[H,B]=e.useState(!1),[q,W]=e.useState(!1),[V,K]=e.useState(!1),[G,X]=e.useState(!1),[Q,Y]=e.useState(0),[J,Z]=e.useState(0),ee=e.useRef(h.duration||T||4e3),te=e.useRef(null),ne=e.useRef(null),re=0===b,se=b+1<=g,ae=h.type,oe=!1!==h.dismissible,ie=h.className||"",le=h.descriptionClassName||"",ce=e.useMemo(()=>x.findIndex(e=>e.toastId===h.id)||0,[x,h.id]),ue=e.useMemo(()=>{var e;return null!=(e=h.closeButton)?e:N},[h.closeButton,N]),de=e.useMemo(()=>h.duration||T||4e3,[h.duration,T]),he=e.useRef(0),fe=e.useRef(0),me=e.useRef(0),pe=e.useRef(null),[ge,xe]=I.split("-"),be=e.useMemo(()=>x.reduce((e,t,n)=>n>=ce?e:e+t.height,0),[x,ce]),ve=(()=>{const[t,n]=e.useState(document.hidden);return e.useEffect(()=>{const e=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),t})(),ye=h.invert||d,we="loading"===ae;fe.current=e.useMemo(()=>ce*A+be,[ce,be]),e.useEffect(()=>{ee.current=de},[de]),e.useEffect(()=>{$(!0)},[]),e.useEffect(()=>{const e=ne.current;if(e){const t=e.getBoundingClientRect().height;return Z(t),p(e=>[{toastId:h.id,height:t,position:h.position},...e]),()=>p(e=>e.filter(e=>e.toastId!==h.id))}},[p,h.id]),e.useLayoutEffect(()=>{if(!U)return;const e=ne.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,Z(n),p(e=>e.find(e=>e.toastId===h.id)?e.map(e=>e.toastId===h.id?{...e,height:n}:e):[{toastId:h.id,height:n,position:h.position},...e])},[U,h.title,h.description,p,h.id,h.jsx,h.action,h.cancel]);const je=e.useCallback(()=>{B(!0),Y(fe.current),p(e=>e.filter(e=>e.toastId!==h.id)),setTimeout(()=>{w(h)},200)},[h,w,p,fe]);e.useEffect(()=>{if(h.promise&&"loading"===ae||h.duration===1/0||"loading"===h.type)return;let e;return y||m||ve?(()=>{if(me.current<he.current){const e=(new Date).getTime()-he.current;ee.current=ee.current-e}me.current=(new Date).getTime()})():ee.current!==1/0&&(he.current=(new Date).getTime(),e=setTimeout(()=>{null==h.onAutoClose||h.onAutoClose.call(h,h),je()},ee.current)),()=>clearTimeout(e)},[y,m,h,ae,ve,je]),e.useEffect(()=>{h.delete&&(je(),null==h.onDismiss||h.onDismiss.call(h,h))},[je,h.delete]);const Ne=h.icon||(null==L?void 0:L[ae])||(e=>{switch(e){case"success":return ws;case"info":return Ns;case"warning":return js;case"error":return ks;default:return null}})(ae);var ke,Se,_e,Ce;return e.createElement("li",{tabIndex:0,ref:ne,className:Ls(C,ie,null==R?void 0:R.toast,null==h||null==(n=h.classNames)?void 0:n.toast,null==R?void 0:R.default,null==R?void 0:R[ae],null==h||null==(r=h.classNames)?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":null!=(ke=h.richColors)?ke:j,"data-styled":!Boolean(h.jsx||h.unstyled||f),"data-mounted":U,"data-promise":Boolean(h.promise),"data-swiped":G,"data-removed":H,"data-visible":se,"data-y-position":ge,"data-x-position":xe,"data-index":b,"data-front":re,"data-swiping":q,"data-dismissible":oe,"data-type":ae,"data-invert":ye,"data-swipe-out":V,"data-swipe-direction":z,"data-expanded":Boolean(y||P&&U),"data-testid":h.testId,style:{"--index":b,"--toasts-before":b,"--z-index":v.length-b,"--offset":`${H?Q:fe.current}px`,"--initial-height":P?"auto":`${J}px`,...k,...h.style},onDragEnd:()=>{W(!1),M(null),pe.current=null},onPointerDown:e=>{2!==e.button&&!we&&oe&&(te.current=new Date,Y(fe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(W(!0),pe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(V||!oe)return;pe.current=null;const r=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=(new Date).getTime()-(null==(n=te.current)?void 0:n.getTime()),o="x"===O?r:s,i=Math.abs(o)/a;if(Math.abs(o)>=45||i>.11)return Y(fe.current),null==h.onDismiss||h.onDismiss.call(h,h),F("x"===O?r>0?"right":"left":s>0?"down":"up"),je(),void K(!0);var l,c;null==(l=ne.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=ne.current)||c.style.setProperty("--swipe-amount-y","0px"),X(!1),W(!1),M(null)},onPointerMove:e=>{var n,r,s;if(!pe.current||!oe)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const a=e.clientY-pe.current.y,o=e.clientX-pe.current.x;var i;const l=null!=(i=t.swipeDirections)?i:function(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(I);!O&&(Math.abs(o)>1||Math.abs(a)>1)&&M(Math.abs(o)>Math.abs(a)?"x":"y");let c={x:0,y:0};const u=e=>1/(1.5+Math.abs(e)/20);if("y"===O){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&a<0||l.includes("bottom")&&a>0)c.y=a;else{const e=a*u(a);c.y=Math.abs(e)<Math.abs(a)?e:a}}else if("x"===O&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&o<0||l.includes("right")&&o>0)c.x=o;else{const e=o*u(o);c.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&X(!0),null==(r=ne.current)||r.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(s=ne.current)||s.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ue&&!h.jsx&&"loading"!==ae?e.createElement("button",{"aria-label":D,"data-disabled":we,"data-close-button":!0,onClick:we||!oe?()=>{}:()=>{je(),null==h.onDismiss||h.onDismiss.call(h,h)},className:Ls(null==R?void 0:R.closeButton,null==h||null==(s=h.classNames)?void 0:s.closeButton)},null!=(Se=null==L?void 0:L.close)?Se:Ss):null,(ae||h.icon||h.promise)&&null!==h.icon&&(null!==(null==L?void 0:L[ae])||h.icon)?e.createElement("div",{"data-icon":"",className:Ls(null==R?void 0:R.icon,null==h||null==(a=h.classNames)?void 0:a.icon)},h.promise||"loading"===h.type&&!h.icon?h.icon||((null==L?void 0:L.loading)?e.createElement("div",{className:Ls(null==R?void 0:R.loader,null==h||null==(Ce=h.classNames)?void 0:Ce.loader,"sonner-loader"),"data-visible":"loading"===ae},L.loading):e.createElement(ys,{className:Ls(null==R?void 0:R.loader,null==h||null==(_e=h.classNames)?void 0:_e.loader),visible:"loading"===ae})):null,"loading"!==h.type?Ne:null):null,e.createElement("div",{"data-content":"",className:Ls(null==R?void 0:R.content,null==h||null==(o=h.classNames)?void 0:o.content)},e.createElement("div",{"data-title":"",className:Ls(null==R?void 0:R.title,null==h||null==(i=h.classNames)?void 0:i.title)},h.jsx?h.jsx:"function"==typeof h.title?h.title():h.title),h.description?e.createElement("div",{"data-description":"",className:Ls(E,le,null==R?void 0:R.description,null==h||null==(l=h.classNames)?void 0:l.description)},"function"==typeof h.description?h.description():h.description):null),e.isValidElement(h.cancel)?h.cancel:h.cancel&&As(h.cancel)?e.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||S,onClick:e=>{As(h.cancel)&&oe&&(null==h.cancel.onClick||h.cancel.onClick.call(h.cancel,e),je())},className:Ls(null==R?void 0:R.cancelButton,null==h||null==(c=h.classNames)?void 0:c.cancelButton)},h.cancel.label):null,e.isValidElement(h.action)?h.action:h.action&&As(h.action)?e.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||_,onClick:e=>{As(h.action)&&(null==h.action.onClick||h.action.onClick.call(h.action,e),e.defaultPrevented||je())},className:Ls(null==R?void 0:R.actionButton,null==h||null==(u=h.classNames)?void 0:u.actionButton)},h.action.label):null)};function Os(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Ms(e,t){const n={};return[e,t].forEach((e,t)=>{const r=1===t,s=r?"--mobile-offset":"--offset",a=r?"16px":"24px";function o(e){["top","right","bottom","left"].forEach(t=>{n[`${s}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${s}-${t}`]=a:n[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):o(a)}),n}const zs=e.forwardRef(function(t,n){const{id:r,invert:s,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:l,className:u,offset:d,mobileOffset:h,theme:f="light",richColors:m,duration:p,style:g,visibleToasts:x=Ps,toastOptions:b,dir:v=Os(),gap:y=Rs,icons:w,containerAriaLabel:j="Notifications"}=t,[N,k]=e.useState([]),S=e.useMemo(()=>r?N.filter(e=>e.toasterId===r):N.filter(e=>!e.toasterId),[N,r]),_=e.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[C,E]=e.useState([]),[T,I]=e.useState(!1),[A,P]=e.useState(!1),[R,L]=e.useState("system"!==f?f:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=e.useRef(null),O=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=e.useRef(null),z=e.useRef(!1),F=e.useCallback(e=>{k(t=>{var n;return(null==(n=t.find(t=>t.id===e.id))?void 0:n.delete)||Cs.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return e.useEffect(()=>Cs.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{c.flushSync(()=>{k(t=>{const n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[N]),e.useEffect(()=>{if("system"!==f)return void L(f);if("system"===f&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{L(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{L(e?"dark":"light")}catch(t){console.error(t)}})}},[f]),e.useEffect(()=>{N.length<=1&&I(!1)},[N]),e.useEffect(()=>{const e=e=>{var t;var n;o.every(t=>e[t]||e.code===t)&&(I(!0),null==(n=D.current)||n.focus());"Escape"!==e.code||document.activeElement!==D.current&&!(null==(t=D.current)?void 0:t.contains(document.activeElement))||I(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),e.useEffect(()=>{if(D.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,z.current=!1)}},[D.current]),e.createElement("section",{ref:n,"aria-label":`${j} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((n,r)=>{var a;const[o,c]=n.split("-");return S.length?e.createElement("ol",{key:n,dir:"auto"===v?Os():v,tabIndex:-1,ref:D,className:u,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":o,"data-x-position":c,style:{"--front-toast-height":`${(null==(a=C[0])?void 0:a.height)||0}px`,"--width":"356px","--gap":`${y}px`,...g,...Ms(d,h)},onBlur:e=>{z.current&&!e.currentTarget.contains(e.relatedTarget)&&(z.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||z.current||(z.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{A||I(!1)},onDragEnd:()=>I(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},S.filter(e=>!e.position&&0===r||e.position===n).map((r,a)=>{var o,c;return e.createElement(Ds,{key:r.id,icons:w,index:a,toast:r,defaultRichColors:m,duration:null!=(o=null==b?void 0:b.duration)?o:p,className:null==b?void 0:b.className,descriptionClassName:null==b?void 0:b.descriptionClassName,invert:s,visibleToasts:x,closeButton:null!=(c=null==b?void 0:b.closeButton)?c:l,interacting:A,position:n,style:null==b?void 0:b.style,unstyled:null==b?void 0:b.unstyled,classNames:null==b?void 0:b.classNames,cancelButtonStyle:null==b?void 0:b.cancelButtonStyle,actionButtonStyle:null==b?void 0:b.actionButtonStyle,closeButtonAriaLabel:null==b?void 0:b.closeButtonAriaLabel,removeToast:F,toasts:S.filter(e=>e.position==r.position),heights:C.filter(e=>e.position==r.position),setHeights:E,expandByDefault:i,gap:y,expanded:T,swipeDirections:t.swipeDirections})})):null}))});function Fs(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=n.getItem(e))?t:null;return s instanceof Promise?s.then(r):r(s)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const Us=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Us(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>Us(e)(n)}}},$s=Se(((e,t)=>(n,r,s)=>{let a={storage:Fs(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const i=new Set,l=new Set;let c=a.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)},r,s);const u=()=>{const e=a.partialize({...r()});return c.setItem(a.name,{state:e,version:a.version})},d=s.setState;s.setState=(e,t)=>(d(e,t),u());const h=e((...e)=>(n(...e),u()),r,s);let f;s.getInitialState=()=>h;const m=()=>{var e,t;if(!c)return;o=!1,i.forEach(e=>{var t;return e(null!=(t=r())?t:h)});const s=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:h))||void 0;return Us(c.getItem.bind(c))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){const t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[s,o]=e;if(f=a.merge(o,null!=(t=r())?t:h),n(f,!0),s)return u()}).then(()=>{null==s||s(f,void 0),f=r(),o=!0,l.forEach(e=>e(f))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||m(),f||h})((e,t)=>({notifications:{emailNotifications:!0,newProjectNotifications:!0,messageNotifications:!0},privacy:{publicProfile:!0,showOnlineStatus:!1},updateNotificationSettings:(n,r)=>{const s={...t().notifications,[n]:r};e({notifications:s})},updatePrivacySettings:(n,r)=>{const s={...t().privacy,[n]:r};e({privacy:s})}}),{name:"lanserve-settings",partialize:e=>({notifications:e.notifications,privacy:e.privacy})}));function Hs(){const{notifications:e,privacy:t,updateNotificationSettings:r,updatePrivacySettings:s}=$s(),[a,o]=n.useState(null),[i,l]=n.useState("");n.useEffect(()=>{(localStorage.getItem("token")||sessionStorage.getItem("token"))&&ds.get("/api/users/me").then(e=>{o(e.data),l(e.data?.avatarUrl||"")}).catch(e=>console.error("Get user error:",e))},[]);n.useEffect(()=>{(async()=>{try{const e=(await ds.get("/api/Users/me/settings")).data;e?.notificationSettings&&(void 0!==e.notificationSettings.emailNotifications&&r("emailNotifications",e.notificationSettings.emailNotifications),void 0!==e.notificationSettings.messageNotifications&&r("messageNotifications",e.notificationSettings.messageNotifications),void 0!==e.notificationSettings.newProjectNotifications&&r("newProjectNotifications",e.notificationSettings.newProjectNotifications)),e?.privacySettings&&(void 0!==e.privacySettings.publicProfile&&s("publicProfile",e.privacySettings.publicProfile),void 0!==e.privacySettings.showOnlineStatus&&s("showOnlineStatus",e.privacySettings.showOnlineStatus))}catch(e){console.error("Failed to load settings:",e)}})()},[r,s]);const[c,u]=n.useState(!1),[d,h]=n.useState(""),[f,m]=n.useState(""),[p,g]=n.useState("");return ue.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[ue.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold mb-3",children:"nh i din"}),ue.jsxs("div",{className:"flex items-center gap-4",children:[i?ue.jsx("img",{src:i,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover"}):ue.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-200 flex items-center justify-center text-2xl",children:""}),ue.jsx("div",{children:ue.jsx(us,{folder:"avatars",onUploadSuccess:async e=>{try{await ds.put("/api/users/me",{avatarUrl:e}),l(e),o({...a,avatarUrl:e}),Is.success("Cp nht avatar thnh cng!")}catch(t){console.error("Update avatar error:",t),Is.error("Cp nht avatar tht bi!")}}})})]})]}),ue.jsxs("div",{className:"card p-5 space-y-6",children:[ue.jsxs("div",{children:[ue.jsx("div",{className:"font-semibold",children:"Thng bo"}),ue.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[ue.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[ue.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:async t=>{const n=t.target.checked;r("emailNotifications",n);try{await ds.put("/api/Users/me/notification-settings",{emailNotifications:n,messageNotifications:e.messageNotifications,newProjectNotifications:e.newProjectNotifications})}catch(s){console.error("Failed to save settings:",s),Is.error("Khng th lu ci t")}},className:"cursor-pointer"}),"Nhn thng bo qua email"]}),ue.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[ue.jsx("input",{type:"checkbox",checked:e.newProjectNotifications,onChange:async t=>{const n=t.target.checked;r("newProjectNotifications",n);try{await ds.put("/api/Users/me/notification-settings",{emailNotifications:e.emailNotifications,messageNotifications:e.messageNotifications,newProjectNotifications:n})}catch(s){console.error("Failed to save settings:",s),Is.error("Khng th lu ci t")}},className:"cursor-pointer"}),"Thng bo d n mi"]}),ue.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[ue.jsx("input",{type:"checkbox",checked:e.messageNotifications,onChange:async t=>{const n=t.target.checked;r("messageNotifications",n);try{await ds.put("/api/Users/me/notification-settings",{emailNotifications:e.emailNotifications,messageNotifications:n,newProjectNotifications:e.newProjectNotifications})}catch(s){console.error("Failed to save settings:",s),Is.error("Khng th lu ci t")}},className:"cursor-pointer"}),"Thng bo tin nhn"]})]})]}),ue.jsxs("div",{children:[ue.jsx("div",{className:"font-semibold",children:"Quyn ring t"}),ue.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[ue.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[ue.jsx("input",{type:"checkbox",checked:t.publicProfile,onChange:async e=>{const n=e.target.checked;s("publicProfile",n);try{await ds.put("/api/Users/me/privacy-settings",{publicProfile:n,showOnlineStatus:t.showOnlineStatus})}catch(r){console.error("Failed to save privacy settings:",r),Is.error("Khng th lu ci t quyn ring t")}},className:"cursor-pointer"}),"Hin th h s cng khai"]}),ue.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[ue.jsx("input",{type:"checkbox",checked:t.showOnlineStatus,onChange:async e=>{const n=e.target.checked;s("showOnlineStatus",n);try{await ds.put("/api/Users/me/privacy-settings",{publicProfile:t.publicProfile,showOnlineStatus:n})}catch(r){console.error("Failed to save privacy settings:",r),Is.error("Khng th lu ci t quyn ring t")}},className:"cursor-pointer"}),"Hin th trng thi online"]})]})]}),ue.jsxs("div",{children:[ue.jsx("div",{className:"font-semibold",children:"Bo mt"}),ue.jsx(be,{variant:"outline",className:"mt-2",onClick:()=>u(!0),children:"i mt khu"})]})]})]}),ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold",children:"Trng thi ti khon"}),ue.jsxs("ul",{className:"mt-3 text-sm space-y-2",children:[ue.jsx("li",{children:" Ti khon  xc thc"}),ue.jsx("li",{children:" Email  xc nhn"}),ue.jsx("li",{children:" S in thoi  xc nhn"})]})]}),c&&ue.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:ue.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md p-6",children:[ue.jsx("h2",{className:"text-xl font-semibold mb-4",children:"i mt khu"}),ue.jsxs("div",{className:"space-y-3",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Mt khu c"}),ue.jsx(is,{type:"password",value:d,onChange:e=>h(e.target.value)})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Mt khu mi"}),ue.jsx(is,{type:"password",value:f,onChange:e=>m(e.target.value)})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Xc nhn mt khu mi"}),ue.jsx(is,{type:"password",value:p,onChange:e=>g(e.target.value)})]})]}),ue.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[ue.jsx(be,{variant:"outline",onClick:()=>u(!1),children:"Hy"}),ue.jsx(be,{onClick:async()=>{if(f===p)try{await ds.post("/api/Users/change-password",{oldPassword:d,newPassword:f}),Is.success("i mt khu thnh cng!"),u(!1),h(""),m(""),g("")}catch(e){Is.error(e.response?.data?.message||"i mt khu tht bi")}else Is.error("Mt khu mi khng khp")},children:"Lu"})]})]})})]})}
/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:Bs,setPrototypeOf:qs,isFrozen:Ws,getPrototypeOf:Vs,getOwnPropertyDescriptor:Ks}=Object;let{freeze:Gs,seal:Xs,create:Qs}=Object,{apply:Ys,construct:Js}="undefined"!=typeof Reflect&&Reflect;Gs||(Gs=function(e){return e}),Xs||(Xs=function(e){return e}),Ys||(Ys=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return e.apply(t,r)}),Js||(Js=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const Zs=ma(Array.prototype.forEach),ea=ma(Array.prototype.lastIndexOf),ta=ma(Array.prototype.pop),na=ma(Array.prototype.push),ra=ma(Array.prototype.splice),sa=ma(String.prototype.toLowerCase),aa=ma(String.prototype.toString),oa=ma(String.prototype.match),ia=ma(String.prototype.replace),la=ma(String.prototype.indexOf),ca=ma(String.prototype.trim),ua=ma(Object.prototype.hasOwnProperty),da=ma(RegExp.prototype.test),ha=(fa=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Js(fa,t)});var fa;function ma(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Ys(e,t,r)}}function pa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sa;qs&&qs(e,null);let r=t.length;for(;r--;){let s=t[r];if("string"==typeof s){const e=n(s);e!==s&&(Ws(t)||(t[r]=e),s=e)}e[s]=!0}return e}function ga(e){for(let t=0;t<e.length;t++){ua(e,t)||(e[t]=null)}return e}function xa(e){const t=Qs(null);for(const[n,r]of Bs(e)){ua(e,n)&&(Array.isArray(r)?t[n]=ga(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=xa(r):t[n]=r)}return t}function ba(e,t){for(;null!==e;){const n=Ks(e,t);if(n){if(n.get)return ma(n.get);if("function"==typeof n.value)return ma(n.value)}e=Vs(e)}return function(){return null}}const va=Gs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ya=Gs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wa=Gs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ja=Gs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Na=Gs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ka=Gs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Sa=Gs(["#text"]),_a=Gs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ca=Gs(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ea=Gs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ta=Gs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ia=Xs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Aa=Xs(/<%[\w\W]*|[\w\W]*%>/gm),Pa=Xs(/\$\{[\w\W]*/gm),Ra=Xs(/^data-[\-\w.\u00B7-\uFFFF]+$/),La=Xs(/^aria-[\-\w]+$/),Da=Xs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Oa=Xs(/^(?:\w+script|data):/i),Ma=Xs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),za=Xs(/^html$/i),Fa=Xs(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ua=Object.freeze({__proto__:null,ARIA_ATTR:La,ATTR_WHITESPACE:Ma,CUSTOM_ELEMENT:Fa,DATA_ATTR:Ra,DOCTYPE_NAME:za,ERB_EXPR:Aa,IS_ALLOWED_URI:Da,IS_SCRIPT_OR_DATA:Oa,MUSTACHE_EXPR:Ia,TMPLIT_EXPR:Pa});const $a=1,Ha=3,Ba=7,qa=8,Wa=9;var Va=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.2.7",n.removed=[],!t||!t.document||t.document.nodeType!==Wa||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const s=r,a=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:m}=t,p=c.prototype,g=ba(p,"cloneNode"),x=ba(p,"remove"),b=ba(p,"nextSibling"),v=ba(p,"childNodes"),y=ba(p,"parentNode");if("function"==typeof i){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,j="";const{implementation:N,createNodeIterator:k,createDocumentFragment:S,getElementsByTagName:_}=r,{importNode:C}=s;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Bs&&"function"==typeof y&&N&&void 0!==N.createHTMLDocument;const{MUSTACHE_EXPR:T,ERB_EXPR:I,TMPLIT_EXPR:A,DATA_ATTR:P,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:O}=Ua;let{IS_ALLOWED_URI:M}=Ua,z=null;const F=pa({},[...va,...ya,...wa,...Na,...Sa]);let U=null;const $=pa({},[..._a,...Ca,...Ea,...Ta]);let H=Object.seal(Qs(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,q=null,W=!0,V=!0,K=!1,G=!0,X=!1,Q=!0,Y=!1,J=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,se=!1,ae=!0,oe=!1,ie={},le=null;const ce=pa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=pa({},["audio","video","img","source","image","track"]);let he=null;const fe=pa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let xe=ge,be=!1,ve=null;const ye=pa({},[me,pe,ge],aa);let we=pa({},["mi","mo","mn","ms","mtext"]),je=pa({},["annotation-xml"]);const Ne=pa({},["title","style","font","a","script"]);let ke=null;const Se=["application/xhtml+xml","text/html"];let _e=null,Ce=null;const Ee=r.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=xa(e),ke=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,_e="application/xhtml+xml"===ke?aa:sa,z=ua(e,"ALLOWED_TAGS")?pa({},e.ALLOWED_TAGS,_e):F,U=ua(e,"ALLOWED_ATTR")?pa({},e.ALLOWED_ATTR,_e):$,ve=ua(e,"ALLOWED_NAMESPACES")?pa({},e.ALLOWED_NAMESPACES,aa):ye,he=ua(e,"ADD_URI_SAFE_ATTR")?pa(xa(fe),e.ADD_URI_SAFE_ATTR,_e):fe,ue=ua(e,"ADD_DATA_URI_TAGS")?pa(xa(de),e.ADD_DATA_URI_TAGS,_e):de,le=ua(e,"FORBID_CONTENTS")?pa({},e.FORBID_CONTENTS,_e):ce,B=ua(e,"FORBID_TAGS")?pa({},e.FORBID_TAGS,_e):xa({}),q=ua(e,"FORBID_ATTR")?pa({},e.FORBID_ATTR,_e):xa({}),ie=!!ua(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,V=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,X=e.SAFE_FOR_TEMPLATES||!1,Q=!1!==e.SAFE_FOR_XML,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,se=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,M=e.ALLOWED_URI_REGEXP||Da,xe=e.NAMESPACE||ge,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,je=e.HTML_INTEGRATION_POINTS||je,H=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(V=!1),te&&(ee=!0),ie&&(z=pa({},Sa),U=[],!0===ie.html&&(pa(z,va),pa(U,_a)),!0===ie.svg&&(pa(z,ya),pa(U,Ca),pa(U,Ta)),!0===ie.svgFilters&&(pa(z,wa),pa(U,Ca),pa(U,Ta)),!0===ie.mathMl&&(pa(z,Na),pa(U,Ea),pa(U,Ta))),e.ADD_TAGS&&(z===F&&(z=xa(z)),pa(z,e.ADD_TAGS,_e)),e.ADD_ATTR&&(U===$&&(U=xa(U)),pa(U,e.ADD_ATTR,_e)),e.ADD_URI_SAFE_ATTR&&pa(he,e.ADD_URI_SAFE_ATTR,_e),e.FORBID_CONTENTS&&(le===ce&&(le=xa(le)),pa(le,e.FORBID_CONTENTS,_e)),ae&&(z["#text"]=!0),Y&&pa(z,["html","head","body"]),z.table&&(pa(z,["tbody"]),delete B.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw ha('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw ha('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,j=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+s+" could not be created."),null}}(m,a)),null!==w&&"string"==typeof j&&(j=w.createHTML(""));Gs&&Gs(e),Ce=e}},Ae=pa({},[...ya,...wa,...ja]),Pe=pa({},[...Na,...ka]),Re=function(e){na(n.removed,{element:e});try{y(e).removeChild(e)}catch(t){x(e)}},Le=function(e,t){try{na(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){na(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Re(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},De=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=oa(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ke&&xe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=w?w.createHTML(e):e;if(xe===ge)try{t=(new f).parseFromString(s,ke)}catch(o){}if(!t||!t.documentElement){t=N.createDocument(xe,"template",null);try{t.documentElement.innerHTML=be?j:s}catch(o){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),xe===ge?_.call(t,Y?"html":"body")[0]:Y?t.documentElement:a},Oe=function(e){return k.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Me=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},ze=function(e){return"function"==typeof l&&e instanceof l};function Fe(e,t,r){Zs(e,e=>{e.call(n,t,r,Ce)})}const Ue=function(e){let t=null;if(Fe(E.beforeSanitizeElements,e,null),Me(e))return Re(e),!0;const r=_e(e.nodeName);if(Fe(E.uponSanitizeElement,e,{tagName:r,allowedTags:z}),Q&&e.hasChildNodes()&&!ze(e.firstElementChild)&&da(/<[/\w!]/g,e.innerHTML)&&da(/<[/\w!]/g,e.textContent))return Re(e),!0;if(e.nodeType===Ba)return Re(e),!0;if(Q&&e.nodeType===qa&&da(/<[/\w]/g,e.data))return Re(e),!0;if(!z[r]||B[r]){if(!B[r]&&He(r)){if(H.tagNameCheck instanceof RegExp&&da(H.tagNameCheck,r))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(r))return!1}if(ae&&!le[r]){const t=y(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const s=g(n[r],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,b(e))}}}return Re(e),!0}return e instanceof c&&!function(e){let t=y(e);t&&t.tagName||(t={namespaceURI:xe,tagName:"template"});const n=sa(e.tagName),r=sa(t.tagName);return!!ve[e.namespaceURI]&&(e.namespaceURI===pe?t.namespaceURI===ge?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||we[r]):Boolean(Ae[n]):e.namespaceURI===me?t.namespaceURI===ge?"math"===n:t.namespaceURI===pe?"math"===n&&je[r]:Boolean(Pe[n]):e.namespaceURI===ge?!(t.namespaceURI===pe&&!je[r])&&!(t.namespaceURI===me&&!we[r])&&!Pe[n]&&(Ne[n]||!Ae[n]):!("application/xhtml+xml"!==ke||!ve[e.namespaceURI]))}(e)?(Re(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!da(/<\/no(script|embed|frames)/i,e.innerHTML)?(X&&e.nodeType===Ha&&(t=e.textContent,Zs([T,I,A],e=>{t=ia(t,e," ")}),e.textContent!==t&&(na(n.removed,{element:e.cloneNode()}),e.textContent=t)),Fe(E.afterSanitizeElements,e,null),!1):(Re(e),!0)},$e=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Ee))return!1;if(V&&!q[t]&&da(P,t));else if(W&&da(R,t));else if(!U[t]||q[t]){if(!(He(e)&&(H.tagNameCheck instanceof RegExp&&da(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&da(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t,e))||"is"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&da(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(he[t]);else if(da(M,ia(n,D,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==la(n,"data:")||!ue[e]){if(K&&!da(L,ia(n,D,"")));else if(n)return!1}else;return!0},He=function(e){return"annotation-xml"!==e&&oa(e,O)},Be=function(e){Fe(E.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Me(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0};let s=t.length;for(;s--;){const o=t[s],{name:i,namespaceURI:l,value:c}=o,u=_e(i),d=c;let h="value"===i?d:ca(d);if(r.attrName=u,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,Fe(E.uponSanitizeAttribute,e,r),h=r.attrValue,!se||"id"!==u&&"name"!==u||(Le(i,e),h="user-content-"+h),Q&&da(/((--!?|])>)|<\/(style|title|textarea)/i,h)){Le(i,e);continue}if("attributename"===u&&oa(h,"href")){Le(i,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Le(i,e);continue}if(!G&&da(/\/>/i,h)){Le(i,e);continue}X&&Zs([T,I,A],e=>{h=ia(h,e," ")});const f=_e(e.nodeName);if($e(f,u,h)){if(w&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(l);else switch(m.getAttributeType(f,u)){case"TrustedHTML":h=w.createHTML(h);break;case"TrustedScriptURL":h=w.createScriptURL(h)}if(h!==d)try{l?e.setAttributeNS(l,i,h):e.setAttribute(i,h),Me(e)?Re(e):ta(n.removed)}catch(a){Le(i,e)}}else Le(i,e)}Fe(E.afterSanitizeAttributes,e,null)},qe=function e(t){let n=null;const r=Oe(t);for(Fe(E.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Fe(E.uponSanitizeShadowNode,n,null),Ue(n),Be(n),n.content instanceof o&&e(n.content);Fe(E.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,i=null,c=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ze(e)){if("function"!=typeof e.toString)throw ha("toString is not a function");if("string"!=typeof(e=e.toString()))throw ha("dirty is not a string, aborting")}if(!n.isSupported)return e;if(J||Ie(t),n.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){const t=_e(e.nodeName);if(!z[t]||B[t])throw ha("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=De("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),a.nodeType===$a&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!ee&&!X&&!Y&&-1===e.indexOf("<"))return w&&ne?w.createHTML(e):e;if(r=De(e),!r)return ee?null:ne?j:""}r&&Z&&Re(r.firstChild);const u=Oe(oe?e:r);for(;i=u.nextNode();)Ue(i),Be(i),i.content instanceof o&&qe(i.content);if(oe)return e;if(ee){if(te)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(U.shadowroot||U.shadowrootmode)&&(c=C.call(s,c,!0)),c}let d=Y?r.outerHTML:r.innerHTML;return Y&&z["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&da(za,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),X&&Zs([T,I,A],e=>{d=ia(d,e," ")}),w&&ne?w.createHTML(d):d},n.setConfig=function(){Ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},n.clearConfig=function(){Ce=null,J=!1},n.isValidAttribute=function(e,t,n){Ce||Ie({});const r=_e(e),s=_e(t);return $e(r,s,n)},n.addHook=function(e,t){"function"==typeof t&&na(E[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=ea(E[e],t);return-1===n?void 0:ra(E[e],n,1)[0]}return ta(E[e])},n.removeHooks=function(e){E[e]=[]},n.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function Ka({title:e="Khng c d liu",actionLabel:t,onAction:n}){return ue.jsx("div",{className:"card",children:ue.jsxs("div",{className:"card-body text-center py-16",children:[ue.jsx("div",{className:"text-2xl font-semibold",children:e}),t&&ue.jsx(be,{className:"mt-4",onClick:n,children:t})]})})}function Ga({isOpen:e,onClose:t,contractId:r,projectId:s,revieweeId:a,revieweeName:o,onReviewSubmitted:i}){const[l,c]=n.useState(5),[u,d]=n.useState(""),[h,f]=n.useState(!1),[m,p]=n.useState(!1),[g,x]=n.useState(!0);if(n.useEffect(()=>{e&&s&&(x(!0),Gn.get(`/api/reviews/check/${s}`).then(e=>{p(e.data?.hasReviewed||!1)}).catch(e=>{console.error("Check review error:",e),p(!1)}).finally(()=>{x(!1)}))},[e,s]),!e)return null;return ue.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[ue.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ue.jsxs("h2",{className:"text-xl font-bold",children:["nh gi ",o||"ngi dng"]}),ue.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),g?ue.jsx("div",{className:"text-center py-8",children:ue.jsx("p",{className:"text-gray-500",children:"ang kim tra..."})}):m?ue.jsxs("div",{className:"text-center py-8",children:[ue.jsx("p",{className:"text-gray-600 mb-4",children:"Bn  nh gi project ny ri."}),ue.jsx("p",{className:"text-sm text-gray-500",children:"Mi project ch c th nh gi 1 ln."}),ue.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition",children:"ng"})]}):ue.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),m)alert("Bn  nh gi project ny ri. Mi project ch c th nh gi 1 ln.");else if(r&&s&&a)try{f(!0);const e={projectId:s,reviewerId:"",revieweeId:a,rating:l,comment:u.trim()||null},n=await Gn.post("/api/reviews",e);console.log(" Review submitted:",n.data),alert("nh gi  c gi thnh cng!"),c(5),d(""),p(!0),i&&i(n.data),t()}catch(n){console.error("Review submission error:",n);const e=n?.response?.data?.message||n?.response?.data?.detail||"Khng th gi nh gi. Vui lng th li.";alert(e),e.includes(" nh gi")&&p(!0)}finally{f(!1)}else alert("Thiu thng tin  nh gi.")},className:"space-y-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"nh gi (1-5 sao)"}),ue.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>ue.jsx("button",{type:"button",onClick:()=>c(e),className:`text-3xl transition ${e<=l?"text-yellow-400":"text-gray-300"} hover:text-yellow-400`,children:""},e))}),ue.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[5===l&&"Tuyt vi",4===l&&"Tt",3===l&&"Bnh thng",2===l&&"Khng hi lng",1===l&&"Rt khng hi lng"]})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nhn xt (ty chn)"}),ue.jsx("textarea",{value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Chia s tri nghim ca bn...",maxLength:500}),ue.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.length,"/500 k t"]})]}),ue.jsxs("div",{className:"flex gap-3 pt-4",children:[ue.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",disabled:h,children:"Hy"}),ue.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:opacity-60",disabled:h,children:h?"ang gi...":"Gi nh gi"})]})]})]})})}const Xa=(e="")=>{const[t="null",n="",r=""]=String(e).split(":");return{projectId:t,receiverId:n,senderId:r}};function Qa(e={}){const t=e=>e&&e.$oid||e||null;return{id:t(e._id)||e.id||crypto.randomUUID(),conversationKey:e.conversationKey||"",projectId:t(e.projectId)||e.projectId||null,senderId:t(e.senderId)||e.senderId||null,receiverId:t(e.receiverId)||e.receiverId||null,text:e.text||e.html||"",createdAt:(e=>{if(!e)return null;const t=e.$date&&(e.$date.$numberLong||e.$date)||e,n=Number(t);try{return Number.isFinite(n)?new Date(n).toISOString():new Date(t).toISOString()}catch{return(new Date).toISOString()}})(e.createdAt)||(new Date).toISOString(),isRead:Boolean(e.isRead)}}const Ya=e=>"string"==typeof e&&/^\s*</.test(e);async function Ja(e,t){const n=document.createElement("div");n.innerHTML=e;const r=n.querySelector(".proposal-card");if(!r)return e;const s=r.getAttribute("data-proposal-id");if(!s)return e;const a=await async function(e){if(!e)return null;try{const t=await Gn.get(`api/Proposals/${e}`),n=(t.data?.status||"").trim().toLowerCase();return console.log("[Proposal] status:",n),n}catch(t){return console.warn("[Proposal] fetch failed:",t.message),null}}(s);if("pending"!==a)return e;let o=null;try{const e=await Gn.get(`api/Proposals/${s}`);o=e.data?.senderId||e.data?.freelancerId||e.data?.createdBy||null}catch{console.warn(`[Proposal ${s}] cannot fetch owner`)}const i=o&&o===t,l=document.createElement("div");return l.className="actions flex gap-2 mt-2",l.innerHTML=`\n    ${i?"":'<button data-action="accept" class="btn btn-sm btn-success"> ng </button>'}\n    <button data-action="edit" class="btn btn-sm btn-outline"> Chnh sa</button>\n    <button data-action="cancel" class="btn btn-sm btn-danger"> Hy  xut</button>\n  `,r.appendChild(l),n.innerHTML}function Za(){const[e,t]=n.useState(!1),[r,s]=n.useState(new Map),[a,o]=n.useState([]),[i,l]=n.useState(null),[c,u]=n.useState(null),[d,h]=n.useState([]),[f,m]=n.useState(""),[p,g]=n.useState(!0),[x,b]=n.useState(null),[v,y]=n.useState(!1),[w,j]=n.useState(null),[N,k]=n.useState(null),[S,_]=n.useState(""),[C,E]=n.useState(!1),[T,I]=n.useState(!1),[A,P]=n.useState(null),[R,L]=n.useState(!1),[D,O]=n.useState(null),[M,z]=n.useState(!1),[F,U]=n.useState(!1),[$,H]=n.useState(""),B=n.useRef(null),[q,W]=n.useState(!0),V=n.useRef(null),{items:K}=es(),[G,X]=n.useState(10),[Q,Y]=n.useState(!1),J=n.useRef(null),[Z,ee]=n.useState([]),[te,ne]=n.useState(20),[re,se]=n.useState(!1);const ae=n.useCallback(()=>{if(re)return;if(te>=Z.length)return;const e=B.current;if(!e)return;e.scrollTop<100&&te<Z.length&&(se(!0),setTimeout(()=>{ne(e=>Math.min(e+20,Z.length)),se(!1);const t=e.scrollHeight;setTimeout(()=>{e.scrollTop=e.scrollHeight-t+e.scrollTop},50)},300))},[re,te,Z.length]);n.useEffect(()=>{const e=B.current;e&&q&&e.scrollTo({top:e.scrollHeight,behavior:"auto"})},[d,i,q]),n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(!e)return g(!1);try{const t=we(e),n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||null;b(n)}catch(t){console.error("Decode token error:",t)}finally{g(!1)}},[]),n.useEffect(()=>{if(!x)return;(async()=>{try{const{data:e}=await Gn.get("api/messages/my-conversations"),t=Array.isArray(e)?e:[];o(t);const{data:n}=await Gn.get("api/users"),r=new Map((n||[]).map(e=>[e.id||e._id||e.userId,e]));if(s(r),!i&&t.length>0){const e=t[0],n=r.get(e.partnerId);n&&(l(n),u(e.conversationKey))}}catch(e){console.error("Load conversations error:",e)}})()},[x]);const[oe,ie]=n.useState(new Map);n.useEffect(()=>{(async()=>{const e=new Set;if((a||[]).forEach(t=>{const[n]=String(t.conversationKey).split(":");n&&"null"!==n&&e.add(n)}),0===e.size)return;const t=new Map(oe);for(const n of e)if(!t.has(n))try{const e=(await Gn.get(`api/projects/${n}`)).data||{},r=e.title||e.name||e.projectName||"(Khng tn)",s=e.ownerName||e.createdByName||e.owner?.fullName||"(Cha r)";t.set(n,{title:r,owner:s})}catch{t.set(n,{title:"(Khng tm thy)",owner:""})}ie(t)})()},[a]);const le=n.useCallback(async(e,t=!0)=>{if(e)try{const n=((await Gn.get(`api/messages/thread/${e}`)).data||[]).map(Qa),r=await Promise.all(n.map(async e=>{if(!Ya(e.text))return e;const t=Va.sanitize(e.text,{ALLOW_DATA_ATTR:!0,ADD_ATTR:["data-action","data-proposal-id","data-project-id","data-status","data-proposal-status","data-contract-id"]}),n=await Ja(t,x);return{...e,finalHtml:n}}));if(r.sort((e,t)=>new Date(e.createdAt||0).getTime()-new Date(t.createdAt||0).getTime()),ee(r),r.length>0&&e){const t=r[r.length-1];o(n=>{const r=[...n],s=r.findIndex(t=>t.conversationKey===e);if(s>=0){let e=t.text||"";Ya(e)&&(e=e.replace(/<[^>]*>/g,"").trim(),e.length>50&&(e=e.substring(0,50)+"..."));const n=r[s].lastAt?r[s].lastAt instanceof Date?r[s].lastAt.getTime():new Date(r[s].lastAt).getTime():0;(t.createdAt?new Date(t.createdAt).getTime():0)>=n&&(r[s]={...r[s],lastMessage:e,lastAt:t.createdAt},r.sort((e,t)=>{const n=e=>{if(!e)return 0;if(e instanceof Date)return e.getTime();const t=new Date(e);return isNaN(t.getTime())?0:t.getTime()};return n(t.lastAt)-n(e.lastAt)}))}return r})}ne(t?Math.min(20,r.length):r.length)}catch(n){console.error("Load thread error:",n)}},[x]);n.useEffect(()=>{if(!x)return;const e=localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("accessToken");if(!e)return void console.warn(" No token found, cannot connect SignalR MessageHub");const t=(new Zr).withUrl("https://lanserve-api-cgfghcd9bshbazbd.malaysiawest-01.azurewebsites.net/hubs/message",{accessTokenFactory:()=>e}).withAutomaticReconnect().configureLogging(or.Information).build();return t.on("ReceiveMessage",async e=>{console.log(" [SignalR] New message received:",e);const t=Qa(e);let n=t;if(Ya(t.text))try{const e=Va.sanitize(t.text,{ALLOW_DATA_ATTR:!0,ADD_ATTR:["data-action","data-proposal-id","data-project-id","data-status","data-proposal-status","data-contract-id"]}),r=await Ja(e,x);n={...t,finalHtml:r}}catch(a){console.error("Error processing HTML message:",a)}n.conversationKey===c&&(console.log(" [SignalR] Adding message to active conversation:",n.id),ee(e=>{if(e.some(e=>e.id===n.id))return console.log(" [SignalR] Message already exists, skipping"),e;const t=[...e,n];return t.sort((e,t)=>new Date(e.createdAt||0).getTime()-new Date(t.createdAt||0).getTime()),console.log(" [SignalR] Message added. Total messages:",t.length),ne(e=>{const n=Math.min(e+1,t.length);return console.log(" [SignalR] Updated displayed count:",n),n}),t}),setTimeout(()=>{q&&B.current&&(B.current.scrollTop=B.current.scrollHeight)},100),le(c,!1).then(()=>{console.log(" [SignalR] Thread reloaded after receiving message"),q&&B.current&&setTimeout(()=>{B.current&&(B.current.scrollTop=B.current.scrollHeight)},200)}).catch(e=>console.error("Error reloading thread:",e))),o(e=>{const t=[...e],a=n.conversationKey,o=t.findIndex(e=>e.conversationKey===a);let i=n.text||"";if(Ya(i)&&(i=i.replace(/<[^>]*>/g,"").trim(),i.length>50&&(i=i.substring(0,50)+"...")),o>=0){const e=n.receiverId===x,r=a===c,s=e&&!n.isRead&&!r;t[o]={...t[o],lastMessage:i,lastAt:n.createdAt,unreadCount:s?(t[o].unreadCount||0)+1:t[o].unreadCount||0}}else{const{projectId:e}=Xa(a),o=n.senderId===x?n.receiverId:n.senderId;t.push({conversationKey:a,partnerId:o,lastMessage:i,lastAt:n.createdAt,unreadCount:n.receiverId!==x||n.isRead?0:1}),r.has(o)||Gn.get(`api/users/${o}`).then(e=>{const t=e.data;t&&s(e=>new Map(e).set(o,t))}).catch(()=>{}),e&&"null"!==e&&!oe.has(e)&&Gn.get(`api/projects/${e}`).then(t=>{const n=t.data||{},r=n.title||n.name||n.projectName||"(Khng tn)",s=n.ownerName||n.createdByName||n.owner?.fullName||"(Cha r)";ie(t=>new Map(t).set(e,{title:r,owner:s}))}).catch(()=>{})}return t.sort((e,t)=>{const n=e=>{if(!e)return 0;if(e instanceof Date)return e.getTime();const t=new Date(e);return isNaN(t.getTime())?0:t.getTime()},r=n(e.lastAt);return n(t.lastAt)-r}),console.log(" [SignalR] Conversations sorted. First conversation:",t[0]?.conversationKey,t[0]?.lastAt),t})}),t.start().then(()=>{console.log(" Connected to SignalR MessageHub"),V.current=t}).catch(e=>{console.error(" Error connecting SignalR MessageHub:",e),console.warn(" SignalR MessageHub khng kt ni c. Tin nhn s khng t ng load real-time."),console.warn(" Vui lng restart backend  load MessageHub mi.")}),()=>{t&&t.stop().catch(e=>{console.error("Error stopping SignalR connection:",e)})}},[x,c,q,le]),n.useEffect(()=>{if(!c||!x)return ee([]),void h([]);le(c,!0).then(()=>(async()=>{try{const e=encodeURIComponent(c);await Gn.post(`api/messages/conversation/${e}/read-all`),ee(e=>e.map(e=>e.receiverId!==x||e.isRead?e:{...e,isRead:!0})),o(e=>{const t=[...e],n=t.findIndex(e=>e.conversationKey===c);return n>=0&&(t[n]={...t[n],unreadCount:0}),t})}catch(e){console.error("Error marking messages as read:",e)}})()).catch(e=>console.error("Messages error:",e.message))},[c,x,le]),n.useEffect(()=>{if(!x)return;const e=K.find(e=>"ContractCompleted"===e.type&&!e.isRead&&e.userId===x);if(e&&e.payloadObj){const t=e.payloadObj,n=t.Action;if("review_freelancer"===n||"review_client"===n){const r="review_freelancer"===n?t.FreelancerId:t.ClientId;(async()=>{try{const s=await Gn.get(`/api/reviews/check/${t.ProjectId}`);if(s.data?.hasReviewed)return void z(!0);z(!1),e.id&&Gn.post(`/api/notifications/${e.id}/read`).catch(console.error),O({contractId:t.ContractId,projectId:t.ProjectId,revieweeId:r,revieweeName:"review_freelancer"===n?"freelancer":"ch project"}),L(!0)}catch(s){console.error("Check review error:",s)}})()}}},[K,x]);const ce=n.useMemo(()=>{if(0===Z.length)return[];const e=Math.max(0,Z.length-te);return Z.slice(e)},[Z,te]);n.useEffect(()=>{h(ce)},[ce]),n.useEffect(()=>{const e=B.current;if(!e)return;const t=async t=>{const n=t.target.closest?.("button[data-action]");if(!n||!e.contains(n))return;const r=n.closest(".proposal-card"),s=n.getAttribute("data-action"),a=r?.getAttribute("data-proposal-id"),o=r?.getAttribute("data-project-id");if(s){if("edit"===s){if(!a)return;return j(a),k(o||null),_(""),void y(!0)}if("cancel"!==s)if("accept"!==s){if("view-contract"===s){const e=n.getAttribute("data-contract-id")||r?.getAttribute("data-contract-id");if(!e)return;try{n.disabled=!0;const t=await Gn.get(`api/Contracts/${e}`);P(t.data||{}),I(!0)}catch(i){console.error("View contract error:",i.message),alert("Khng ti c thng tin hp ng.")}finally{n.disabled=!1}return}}else{if(!a)return;try{n.disabled=!0,console.log("Accepting proposal:",a,"for project:",o);const e=await async function(e){const t=await Gn.get(`api/Proposals/${e}`);return Number(t?.data?.bidAmount??t?.data?.BidAmount??0)||0}(a);if(!Number.isFinite(e)||e<=0)return void alert("Gi  xut khng hp l hoc khng tm thy.");if(!x)return void alert("Khng xc nh c ngi dng hin ti.");const t=await async function(e){const t=await Gn.get(`api/wallets/${e}`);return Number(t?.data?.balance??t?.data?.Balance??0)||0}(x);if(t<e){const n=(e-t).toLocaleString();return void alert(`S d v khng   ng   xut.\nThiu: ${n} `)}const r=`Withdraw for accepted proposal #${a}`;try{await Gn.post("/api/wallets/change-balance",{Delta:-Math.abs(e),Note:r}),console.log(`  tr ${e.toLocaleString()} t v (gi trong escrow).`)}catch(i){return console.error("Withdraw failed:",i),void alert("Khng th tr tin t v, vui lng th li sau.")}await Gn.post(`api/Proposals/${a}/accept`,{projectId:o}),await le(c),alert("ng   xut thnh cng!")}catch(i){console.error("Accept proposal error:",i?.message||i),alert(i?.response?.data?.detail||i?.response?.data?.message||"Khng th chp nhn  xut ny.")}finally{n.disabled=!1}}else{if(!a)return;if(!confirm("Bn c chc mun hy  xut ny khng?"))return;try{n.disabled=!0,await Gn.post(`api/Proposals/${a}/cancel`,{projectId:o}),await le(c)}catch(i){console.error("Cancel proposal error:",i.message)}finally{n.disabled=!1}}}};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[B,x,c]);const de=async()=>{if(!f.trim()||!i||!x)return;const e=f.trim();try{const{projectId:t}=Xa(c||""),n={receiverId:i.id||i._id||i.userId,text:e,projectId:t&&"null"!==t?t:null};console.log(" [Messages.jsx] Sending message:",n);const r=await Gn.post("api/messages",n);console.log(" [Messages.jsx] Message sent successfully:",r.data),m("");const s=r.data;s&&c&&o(t=>{const n=[...t],r=n.findIndex(e=>e.conversationKey===c);if(r>=0){let t=e||"";Ya(t)&&(t=t.replace(/<[^>]*>/g,"").trim(),t.length>50&&(t=t.substring(0,50)+"..."));const a=s.createdAt||(new Date).toISOString();n[r]={...n[r],lastMessage:t,lastAt:a},n.sort((e,t)=>{const n=e=>{if(!e)return 0;if(e instanceof Date)return e.getTime();const t=new Date(e);return isNaN(t.getTime())?0:t.getTime()};return n(t.lastAt)-n(e.lastAt)}),console.log(" [sendMessage] Updated conversation:",n[r].conversationKey,"lastMessage:",t)}return n}),await le(c,!1)}catch(t){console.error("Send message error:",t.message)}},he=async()=>{const e=Number(S);if(w)if(!Number.isFinite(e)||e<=0)alert("Gi khng hp l");else try{E(!0);const t=await async function(e,t){const n=`api/Proposals/${e}/edit`;return(await Gn.put(n,t,{headers:{"Content-Type":"application/json"}})).data}(w,e),n=t?.proposal||{},r=n.id||n.Id||w;h(t=>[...t,{id:crypto.randomUUID(),senderId:"system",receiverId:x,text:` cp nht gi  xut #${r}  ${e.toLocaleString()}`,createdAt:(new Date).toISOString(),isRead:!0}]),y(!1),j(null),_(""),await le(c)}catch(t){alert(`Chnh sa tht bi: ${t.message}`)}finally{E(!1)}},fe=n.useMemo(()=>{const e=(a||[]).map(e=>{const t=r.get(e.partnerId)||{},[n]=String(e.conversationKey).split(":"),s=(oe.get(n)||{}).title||"ang ti...",a=t.fullName||t.email||e.partnerId;let o=null;if(e.lastAt)if(e.lastAt instanceof Date)o=e.lastAt;else{const t=new Date(e.lastAt);o=isNaN(t.getTime())?null:t}return{conversationKey:e.conversationKey,partnerId:e.partnerId,projectId:n,projectName:s,partnerName:a,lastMessage:e.lastMessage||"",lastAt:o,unreadCount:e.unreadCount||0,userObj:t}});return e.sort((e,t)=>{const n=e.lastAt?e.lastAt.getTime():0;return(t.lastAt?t.lastAt.getTime():0)-n}),e},[a,r,oe]),me=n.useMemo(()=>fe.slice(0,G),[fe,G]);return n.useEffect(()=>{const e=()=>{if(Q)return;if(G>=fe.length)return;const e=J.current;if(!e)return;const t=e.scrollTop,n=e.scrollHeight;t+e.clientHeight>=n-100&&(Y(!0),setTimeout(()=>{X(e=>Math.min(e+10,fe.length)),Y(!1)},300))},t=J.current;if(t)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)},[Q,G,fe.length]),n.useEffect(()=>{X(10)},[a.length]),p?ue.jsxs("div",{className:"p-4 flex items-center justify-center gap-3",children:[ue.jsx(ms,{}),ue.jsx("span",{children:"ang ti..."})]}):ue.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[ue.jsxs("div",{className:"lg:col-span-1 card p-4 flex flex-col",children:[ue.jsx("div",{className:"font-semibold mb-3",children:"on chat"}),ue.jsxs("div",{ref:J,className:"flex-1 overflow-y-auto",style:{maxHeight:"600px"},children:[me.map(e=>ue.jsxs("div",{onClick:async()=>{if(l(e.userObj),u(e.conversationKey),h([]),ee([]),ne(20),e.unreadCount>0)try{const t=encodeURIComponent(e.conversationKey);await Gn.post(`api/messages/conversation/${t}/read-all`),o(t=>{const n=[...t],r=n.findIndex(t=>t.conversationKey===e.conversationKey);return r>=0&&(n[r]={...n[r],unreadCount:0}),n})}catch(t){console.error("Error marking messages as read:",t)}},className:"cursor-pointer px-3 py-2.5 rounded-lg transition-colors duration-150 flex items-center gap-3 "+(c===e.conversationKey?"bg-blue-100":e.unreadCount>0?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-100"),children:[ue.jsx("div",{className:"shrink-0",children:e.userObj?.avatarUrl?ue.jsx("img",{src:e.userObj.avatarUrl,alt:e.partnerName,className:"w-12 h-12 rounded-full object-cover"}):ue.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold text-lg",children:(e.partnerName||"U")[0].toUpperCase()})}),ue.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",children:[ue.jsxs("div",{className:"flex items-center justify-between gap-2",children:[ue.jsx("div",{className:`truncate ${e.unreadCount>0?"font-semibold":"font-medium"} text-sm`,children:e.projectName}),e.lastAt&&ue.jsx("div",{className:"text-xs text-gray-500 shrink-0",children:(()=>{const t=Date.now()-e.lastAt.getTime(),n=t/36e5;if(n<1){const e=Math.floor(t/6e4);return e<1?"Va xong":`${e} pht`}if(n<24)return e.lastAt.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",hour12:!1});const r=Math.floor(n/24);return 1===r?"Hm qua":r<7?`${r} ngy trc`:e.lastAt.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"})})()})]}),ue.jsxs("div",{className:"flex items-center justify-between gap-2",children:[ue.jsx("div",{className:"truncate text-sm "+(e.unreadCount>0?"text-gray-900 font-medium":"text-gray-600"),children:e.lastMessage||"Khng c tin nhn"}),e.unreadCount>0&&ue.jsx("span",{className:"bg-blue-500 text-white text-xs font-semibold px-2 py-0.5 rounded-full min-w-[20px] text-center shrink-0",children:e.unreadCount>10?"10+":e.unreadCount})]})]})]},e.conversationKey)),Q&&ue.jsx("div",{className:"flex items-center justify-center py-2",children:ue.jsx(ms,{size:"sm"})}),G>=fe.length&&fe.length>0&&ue.jsxs("div",{className:"text-center py-2 text-slate-500 text-xs",children:[" hin th tt c ",fe.length," on chat"]})]})]}),ue.jsx("div",{className:"lg:col-span-2 card p-4 flex flex-col",children:i?ue.jsxs(ue.Fragment,{children:[ue.jsxs("div",{className:"font-semibold mb-3",children:["ang chat vi ",i.fullName||i.email]}),ue.jsx("div",{className:"border rounded-lg bg-slate-50 p-4 h-[400px] flex flex-col",children:ue.jsxs("div",{ref:B,onScroll:()=>{const e=B.current;if(!e)return;const t=e.scrollHeight-e.scrollTop-e.clientHeight<=40;W(t),ae()},className:"flex-1 overflow-y-auto space-y-3",children:[re&&ue.jsxs("div",{className:"flex items-center justify-center py-2",children:[ue.jsx(ms,{size:"sm"}),ue.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"ang ti tin nhn c hn..."})]}),!re&&te>=Z.length&&Z.length>20&&ue.jsx("div",{className:"text-center py-2 text-slate-500 text-xs",children:" hin th tt c tin nhn"}),0===d.length?ue.jsx(Ka,{title:"Cha c tin nhn no"}):d.map(e=>{const t=e.senderId===x,n=Ya(e.text),r=!t&&!e.isRead;return ue.jsx("div",{className:"max-w-[70%] px-4 py-2 rounded-2xl shadow-md border "+(t?"ml-auto border-brand-200 bg-white":r?"mr-auto border-blue-500 bg-blue-100 font-medium":"mr-auto border-slate-200 bg-white"),children:n?ue.jsx("div",{dangerouslySetInnerHTML:{__html:e.finalHtml||e.text}}):e.text},e.id)})]})}),ue.jsxs("div",{className:"mt-3 flex gap-2",children:[ue.jsx("input",{value:f,onChange:e=>m(e.target.value),className:"input flex-1",placeholder:"Nhp tin nhn...",onKeyDown:e=>"Enter"===e.key&&de()}),ue.jsx("button",{className:"btn btn-primary",onClick:de,children:"Gi"})]})]}):ue.jsx(Ka,{title:"Chn mt on chat  bt u"})}),v&&ue.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full max-w-md",children:[ue.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Chnh sa gi  xut"}),ue.jsx("input",{type:"number",min:"1",className:"input w-full mb-3",placeholder:"Nhp gi mi...",value:S,onChange:e=>_(e.target.value),onKeyDown:e=>"Enter"===e.key&&he()}),ue.jsxs("div",{className:"flex justify-end gap-2",children:[ue.jsx("button",{className:"btn btn-outline",onClick:()=>y(!1),children:"Hy"}),ue.jsx("button",{className:"btn btn-primary",onClick:he,disabled:C,children:C?"ang lu...":"Lu thay i"})]})]})}),F&&ue.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-xl w-full max-w-md",children:[ue.jsx("h2",{className:"text-base font-semibold mb-2",children:"Hy  xut?"}),ue.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:'Thao tc ny s xa th  xut hin ti v to mt thng bo " hy" trong on chat.'}),ue.jsxs("div",{className:"flex justify-end gap-2 mt-5",children:[ue.jsx("button",{className:"btn",onClick:()=>U(!1),children:"Khng"}),ue.jsx("button",{className:"btn btn-danger",onClick:async()=>{try{await Gn.post(`api/Proposals/${$}/cancel`,{projectId:null}),U(!1),H(""),await le(c)}catch{alert("Hy  xut tht bi")}},children:"ng "})]})]})}),T&&ue.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white text-black p-6 rounded-2xl shadow-xl w-full max-w-lg",children:[ue.jsx("h2",{className:"text-base font-semibold mb-4",children:"Thng tin hp ng"}),ue.jsxs("div",{className:"space-y-2 text-sm",children:[ue.jsxs("div",{children:[ue.jsx("b",{children:"M hp ng:"})," ",A?.id||A?._id]}),ue.jsxs("div",{children:[ue.jsx("b",{children:"Project:"})," ",A?.projectId]}),ue.jsxs("div",{children:[ue.jsx("b",{children:"Client:"})," ",A?.clientId]}),ue.jsxs("div",{children:[ue.jsx("b",{children:"Freelancer:"})," ",A?.freelancerId]}),ue.jsxs("div",{children:[ue.jsx("b",{children:"S tin:"})," ",Number(A?.agreedAmount||0).toLocaleString()," "]}),ue.jsxs("div",{children:[ue.jsx("b",{children:"Trng thi:"})," ",A?.status]}),ue.jsxs("div",{children:[ue.jsx("b",{children:"Ngy to:"})," ",A?.createdAt?new Date(A.createdAt).toLocaleString("vi-VN"):""]})]}),ue.jsxs("div",{className:"flex justify-end gap-2 mt-5",children:[x&&A?.clientId===x&&"Active"===A?.status&&ue.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-60",disabled:e,onClick:async()=>{if(confirm("Xc nhn hon thnh d n v chuyn tin cho freelancer?"))try{t(!0);const n=Number(A?.agreedAmount||0),r=A?.freelancerId,s=A?.id||A?._id;if(!r||!Number.isFinite(n)||n<=0)return void alert("Thiu thng tin  chuyn tin.");if("Active"!==A?.status)return void alert("Hp ng khng cn  trng thi Active.");const a=await Gn.post(`api/Contracts/${s}/complete`);P(e=>({...e,status:"Completed"})),await le(c,!1),alert(a.data?.message||" xc nhn hon thnh v chuyn tin cho freelancer."),I(!1);try{const e=await Gn.get(`/api/reviews/check/${A?.projectId}`);e.data?.hasReviewed?(z(!0),alert("Bn  nh gi project ny ri.")):(O({contractId:s,projectId:A?.projectId,revieweeId:r,revieweeName:"freelancer"}),L(!0),z(!1))}catch(e){console.error("Check review error:",e),O({contractId:s,projectId:A?.projectId,revieweeId:r,revieweeName:"freelancer"}),L(!0)}}catch(e){console.error("Payout/Complete error:",e),alert(e?.response?.data?.detail||e?.response?.data?.message||e?.message||"Khng th hon tt thanh ton.")}finally{t(!1)}},children:e?"ang chuyn...":" Xc nhn hon thnh"}),ue.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition",onClick:()=>I(!1),children:"ng"})]})]})}),R&&D&&ue.jsx(Ga,{isOpen:R,onClose:()=>{L(!1),O(null)},contractId:D.contractId,projectId:D.projectId,revieweeId:D.revieweeId,revieweeName:D.revieweeName,onReviewSubmitted:()=>{}})]})}function eo(){const[e,t]=n.useState([]),[r,s]=n.useState(!0);n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const n=we(e),r=n.sub||n["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||n.userId;ds.get(`/projects/by-owner/${r}`).then(e=>t(e.data??[])).catch(e=>console.error(e)).finally(()=>s(!1))}catch{s(!1)}else s(!1)},[]);const a=()=>window.location.href="/post-project";return r?ue.jsx("p",{className:"p-4",children:"ang ti..."}):e.length?ue.jsxs("div",{className:"container-ld py-8 space-y-6",children:[ue.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[ue.jsx("h1",{className:"text-2xl font-semibold",children:"D n ca ti"}),ue.jsx("div",{className:"flex gap-2",children:ue.jsx(be,{onClick:a,children:"+ To d n"})})]}),ue.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-5",children:e.map(e=>{const t=e.id||e._id;return ue.jsx("div",{className:"card hover:shadow-lg transition",children:ue.jsxs("div",{className:"card-body",children:[ue.jsxs("div",{className:"flex items-start justify-between gap-4",children:[ue.jsxs("div",{className:"min-w-0",children:[ue.jsx("div",{className:"text-lg font-semibold truncate",children:e.title}),ue.jsx("div",{className:"mt-1 text-sm text-slate-600 line-clamp-2",children:e.description})]}),ue.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs border "+(n=e.status,"Open"===n?"text-green-600 bg-green-50 border-green-200":"InProgress"===n?"text-blue-600 bg-blue-50 border-blue-200":"Completed"===n?"text-gray-600 bg-gray-50 border-gray-200":"text-red-600 bg-red-50 border-red-200"),children:e.status})]}),ue.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[ue.jsxs("div",{className:"text-xs text-slate-500",children:["ng:"," ",e.createdAt?new Date(e.createdAt).toLocaleString("vi-VN"):""]}),ue.jsxs("div",{className:"text-brand-700 font-semibold",children:[e.budgetAmount?.toLocaleString("vi-VN")??""," "]})]}),ue.jsxs("div",{className:"mt-4 flex gap-2",children:[ue.jsx(be,{variant:"outline",onClick:()=>window.location.href=`/projects/${t}`,children:"Xem"}),ue.jsx(be,{variant:"outline",onClick:()=>window.location.href=`/projects/edit/${t}`,children:"Chnh sa"})]})]})},t);var n})})]}):ue.jsx("div",{className:"container-ld py-12",children:ue.jsxs("div",{className:"card text-center p-10",children:[ue.jsx("div",{className:"text-2xl font-semibold",children:"Bn cha c d n no"}),ue.jsx("p",{className:"text-slate-600 mt-2",children:"To d n u tin  bt u tuyn Freelancer."}),ue.jsx(be,{className:"mt-5",onClick:a,children:"+ To d n"})]})})}function to(){return ue.jsxs("div",{className:"container-ld py-8",children:[ue.jsxs("div",{className:"card overflow-hidden",children:[ue.jsx("div",{className:"h-32 bg-[linear-gradient(45deg,#1d4ed8,#f97316)]"}),ue.jsxs("div",{className:"p-5 flex items-center justify-between",children:[ue.jsx("div",{className:"text-xl font-semibold",children:"Nguyn Minh Anh"}),ue.jsx("button",{className:"btn btn-outline",children:"Nhn tin"})]}),ue.jsx("div",{className:"px-5 border-t",children:ue.jsx("nav",{className:"flex gap-2 overflow-x-auto",children:[{to:"intro",label:"Gii thiu"},{to:"services",label:"Dch v"},{to:"portfolio",label:"Portfolio"},{to:"reviews",label:"nh gi"}].map(e=>ue.jsx(s,{to:e.to,className:({isActive:e})=>"tab "+(e?"tab-active":""),children:e.label},e.to))})})]}),ue.jsx("div",{className:"mt-6",children:ue.jsx(i,{})})]})}function no({label:e,value:t}){return ue.jsxs("div",{children:[ue.jsxs("div",{className:"flex justify-between text-sm",children:[ue.jsx("span",{children:e}),ue.jsxs("span",{children:[t,"%"]})]}),ue.jsx("div",{className:"mt-1 h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:ue.jsx("div",{className:"h-full bg-brand-600",style:{width:`${t}%`}})})]})}function ro(){return ue.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[ue.jsxs("aside",{className:"space-y-6",children:[ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold",children:"Mc gi"}),ue.jsx("div",{className:"mt-2 text-2xl text-brand-700 font-semibold",children:"500.000 /gi"}),ue.jsx("div",{className:"text-xs text-slate-500",children:"Gi c th m phn"})]}),ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold mb-3",children:"Ngn ng"}),ue.jsxs("div",{className:"flex gap-2 flex-wrap",children:[ue.jsx("span",{className:"badge",children:"Ting Vit"}),ue.jsx("span",{className:"badge",children:"English"}),ue.jsx("span",{className:"badge",children:""})]})]}),ue.jsxs("div",{className:"card p-5 space-y-3",children:[ue.jsx("div",{className:"font-semibold",children:"K nng"}),ue.jsx(no,{label:"Figma",value:95}),ue.jsx(no,{label:"Sketch",value:90}),ue.jsx(no,{label:"Adobe XD",value:85}),ue.jsx(no,{label:"HTML/CSS",value:75})]})]}),ue.jsx("main",{className:"lg:col-span-2 space-y-4",children:ue.jsxs("div",{className:"card p-5",children:[ue.jsx("div",{className:"font-semibold mb-2",children:"Gii thiu"}),ue.jsx("p",{className:"text-sm text-slate-700",children:"Senior UI/UX Designer vi 6+ nm kinh nghim. u tin tri nghim ngi dng, quy trnh bi bn."})]})})]})}const so=[{id:1,name:"UI/UX Web App",price:15e6,days:"7-10 ngy",edits:"2 ln chnh sa"},{id:2,name:"Mobile App Design",price:12e6,days:"5-7 ngy",edits:"2-3 ln chnh sa"},{id:3,name:"Design System Creation",price:2e7,days:"10-14 ngy",edits:"5 ln chnh sa"}],ao=[{id:1,title:"Fintech Mobile App",views:1250,likes:90},{id:2,title:"E-commerce Dashboard",views:980,likes:67},{id:3,title:"SaaS Landing Page",views:756,likes:42},{id:4,title:"Design System",views:2100,likes:156}],oo=[{id:1,author:"Phm Vn c",role:"PM - Fintech Startup",stars:5,time:"2 tun trc",content:"Rt chuyn nghip, UI thn thin."},{id:2,author:"Nguyn Th Mai",role:"Marketing Lead",stars:5,time:"1 thng trc",content:"Giao ng hn, trao i r rng."},{id:3,author:"Trn Minh Tun",role:"CEO - Dashboard Co",stars:4,time:"2 thng trc",content:"Cht lng cao, cn tinh chnh nh."}];function io({name:e,price:t,days:n,edits:r}){return ue.jsx("div",{className:"card",children:ue.jsxs("div",{className:"card-body space-y-2",children:[ue.jsx("div",{className:"font-semibold",children:e}),ue.jsxs("div",{className:"text-sm text-slate-500",children:[n,"  ",r]}),ue.jsxs("div",{className:"text-right text-brand-700 font-semibold text-lg",children:[t.toLocaleString("vi-VN")," "]}),ue.jsx(be,{className:"w-full",children:"t dch v"})]})})}function lo(){return ue.jsx("div",{className:"grid md:grid-cols-2 gap-5",children:so.map(e=>ue.jsx(io,{...e},e.id))})}function co({title:e,views:t,likes:n}){return ue.jsxs("div",{className:"card overflow-hidden",children:[ue.jsx("div",{className:"h-40 bg-slate-200"}),ue.jsxs("div",{className:"card-body",children:[ue.jsx("div",{className:"font-medium",children:e}),ue.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[" ",t,"   ",n]})]})]})}function uo(){return ue.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:ao.map(e=>ue.jsx(co,{...e},e.id))})}function ho({author:e,role:t,stars:n,time:r,content:s}){return ue.jsx("div",{className:"card",children:ue.jsxs("div",{className:"card-body",children:[ue.jsxs("div",{className:"flex items-center justify-between",children:[ue.jsxs("div",{children:[ue.jsx("div",{className:"font-medium",children:e}),ue.jsxs("div",{className:"text-sm text-slate-500",children:[t,"  ",r]})]}),ue.jsx("div",{children:"".repeat(n)})]}),ue.jsx("p",{className:"mt-3 text-slate-700 text-sm",children:s})]})})}function fo(){return ue.jsx("div",{className:"space-y-4",children:oo.map(e=>ue.jsx(ho,{...e},e.id))})}const mo=n.createContext(null);function po({clientId:t,nonce:r,onScriptLoadSuccess:s,onScriptLoadError:a,children:o}){const i=function(e={}){const{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s}=e,[a,o]=n.useState(!1),i=n.useRef(r);i.current=r;const l=n.useRef(s);return l.current=s,n.useEffect(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;o(!0),null===(e=i.current)||void 0===e||e.call(i)},e.onerror=()=>{var e;o(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),a}({nonce:r,onScriptLoadSuccess:s,onScriptLoadError:a}),l=n.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return e.createElement(mo.Provider,{value:l},o)}function go(e){var t;return null!==(t=null==e?void 0:e.clientId)&&void 0!==t?t:null==e?void 0:e.client_id}const xo={large:40,medium:32,small:20};function bo({onSuccess:t,onError:r,useOneTap:s,promptMomentNotification:a,type:o="standard",theme:i="outline",size:l="large",text:c,shape:u,logo_alignment:d,width:h,locale:f,click_listener:m,containerProps:p,...g}){const x=n.useRef(null),{clientId:b,scriptLoadedSuccessfully:v}=function(){const e=n.useContext(mo);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),y=n.useRef(t);y.current=t;const w=n.useRef(r);w.current=r;const j=n.useRef(a);return j.current=a,n.useEffect(()=>{var e,t,n,r,a,p,N,k,S;if(v)return null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.initialize({client_id:b,callback:e=>{var t;if(!(null==e?void 0:e.credential))return null===(t=w.current)||void 0===t?void 0:t.call(w);const{credential:n,select_by:r}=e;y.current({credential:n,clientId:go(e),select_by:r})},...g}),null===(p=null===(a=null===(r=null===window||void 0===window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===a?void 0:a.id)||void 0===p||p.renderButton(x.current,{type:o,theme:i,size:l,text:c,shape:u,logo_alignment:d,width:h,locale:f,click_listener:m}),s&&(null===(S=null===(k=null===(N=null===window||void 0===window?void 0:window.google)||void 0===N?void 0:N.accounts)||void 0===k?void 0:k.id)||void 0===S||S.prompt(j.current)),()=>{var e,t,n;s&&(null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.cancel())}},[b,v,s,o,i,l,c,u,d,h,f]),e.createElement("div",{...p,ref:x,style:{height:xo[l],...null==p?void 0:p.style}})}function vo(){const e=t(),[s,a]=n.useState({email:"",password:"",rememberMe:!1}),[o,i]=n.useState(""),[l,c]=n.useState(!1),[u,d]=n.useState(!1),[h,f]=n.useState(1),[m,p]=n.useState(""),[g,x]=n.useState(""),[b,v]=n.useState("");return ue.jsxs("div",{className:"container-ld py-12 grid md:grid-cols-2 gap-10",children:[ue.jsxs("div",{className:"hidden md:block",children:[ue.jsx("div",{className:"h-80 rounded-2xl bg-gradient-to-br from-blue-200 to-orange-200"}),ue.jsx("h2",{className:"mt-6 text-2xl font-semibold",children:"Cho mng tr li LanServe"}),ue.jsx("p",{className:"text-slate-600 mt-2",children:"ng nhp  qun l d n, trao i v nhn vic nhanh chng."})]}),ue.jsx("div",{className:"card",children:ue.jsxs("form",{className:"card-body space-y-4",onSubmit:async t=>{if(t.preventDefault(),!s.email||!s.password)return i("Vui lng nhp  thng tin.");i(""),c(!0);try{const t=await Gn.post("/api/auth/login",{email:s.email,password:s.password,rememberMe:s.rememberMe}),n=t.data?.accessToken||t.data?.token;if(!n)throw new Error("Khng nhn c token t server");s.rememberMe?localStorage.setItem("token",n):sessionStorage.setItem("token",n),Gn.defaults.headers.common.Authorization=`Bearer ${n}`;const r=we(n);console.log("=== DECODED JWT ==="),console.log(JSON.stringify(r,null,2));const a=r.sub||r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier".toLowerCase()]||r.userId||null,o=r.email||r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress".toLowerCase()]||s.email,i={id:a,email:o,role:r["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||r.role||r.role?.toString()||"User"};s.rememberMe?localStorage.setItem("user",JSON.stringify(i)):sessionStorage.setItem("user",JSON.stringify(i)),console.log("UserData saved:",i);const l=es.getState();await l.reset(),await l.fetchFromServer(),await l.initConnection(),e("/",{replace:!0})}catch(n){console.error("Login error:",n);i(n?.response?.data?.message||n?.message||"ng nhp tht bi")}finally{c(!1)}},children:[ue.jsx("h1",{className:"text-2xl font-semibold",children:"ng nhp"}),o&&ue.jsx("div",{className:"text-sm text-red-600",children:o}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Email"}),ue.jsx(is,{type:"email",placeholder:"you@example.com",value:s.email,onChange:e=>a({...s,email:e.target.value})})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Mt khu"}),ue.jsx(is,{type:"password",placeholder:"",value:s.password,onChange:e=>a({...s,password:e.target.value})})]}),ue.jsxs("div",{className:"flex items-center justify-between text-sm",children:[ue.jsxs("label",{className:"flex items-center gap-2",children:[ue.jsx("input",{type:"checkbox",checked:s.rememberMe,onChange:e=>a({...s,rememberMe:e.target.checked})}),"Ghi nh ng nhp"]}),ue.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-brand-700 hover:underline",children:"Qun mt khu?"})]}),ue.jsx(be,{type:"submit",className:"w-full",disabled:l,children:l?"ang ng nhp...":"ng nhp"}),ue.jsx("div",{className:"flex justify-center mt-4",children:ue.jsx(bo,{onSuccess:async t=>{try{const n=t.credential,r=await Gn.post("/api/auth/google",{idToken:n}),s=r.data?.accessToken;if(!s)throw new Error("Google login failed: No token");localStorage.setItem("token",s),Gn.defaults.headers.common.Authorization=`Bearer ${s}`;const a=we(s);console.log("Decoded JWT (Google):",a);const o=a.sub||a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||a.userId,i=a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||a.email,l={id:o,email:i,role:a["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||a.role||a.role||"User"};localStorage.setItem("user",JSON.stringify(l));const c=es.getState();await c.reset(),await c.fetchFromServer(),await c.initConnection(),console.log("UserData saved (Google):",l),Is.success("ng nhp bng Google thnh cng!"),e("/",{replace:!0})}catch(n){console.error("Google login error:",n),Is.error(n.response?.data?.message||"ng nhp Google tht bi")}},onError:()=>Is.error("Google Login tht bi")})}),ue.jsxs("div",{className:"text-sm text-center text-slate-600",children:["Cha c ti khon?"," ",ue.jsx(r,{to:"/register",className:"text-brand-700 hover:underline",children:"ng k"})]})]})}),u&&ue.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg w-full max-w-md space-y-4",children:[ue.jsx("h2",{className:"text-xl font-semibold text-center",children:1===h?"Qun mt khu":"t li mt khu"}),1===h?ue.jsxs(ue.Fragment,{children:[ue.jsx("p",{className:"text-sm text-slate-600",children:"Nhp email  nhn m xc nhn t li mt khu."}),ue.jsx(is,{placeholder:"you@example.com",value:m,onChange:e=>p(e.target.value)}),ue.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[ue.jsx(be,{variant:"outline",onClick:()=>d(!1),children:"Hy"}),ue.jsx(be,{onClick:async()=>{if(!m)return Is.error("Vui lng nhp email.");try{await Gn.post("api/auth/forgot-password",{email:m}),Is.success(" gi m xc nhn n email ca bn!"),f(2)}catch(e){Is.error(e.response?.data?.message||"Khng th gi m xc nhn.")}},children:"Gi m"})]})]}):ue.jsxs(ue.Fragment,{children:[ue.jsx(is,{placeholder:"M xc nhn",value:g,onChange:e=>x(e.target.value)}),ue.jsx(is,{type:"password",placeholder:"Mt khu mi",value:b,onChange:e=>v(e.target.value)}),ue.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[ue.jsx(be,{variant:"outline",onClick:()=>d(!1),children:"Hy"}),ue.jsx(be,{onClick:async()=>{if(!g||!b)return Is.error("Vui lng nhp y  thng tin.");try{await Gn.post("/api/auth/reset-password",{email:m,code:g,newPassword:b}),Is.success("t li mt khu thnh cng!"),d(!1),f(1),p(""),x(""),v("")}catch(e){Is.error(e.response?.data?.message||"t li mt khu tht bi.")}},children:"i mt khu"})]})]})]})})]})}function yo(){const e=t(),[s,a]=n.useState({name:"",email:"",password:"",confirm:""}),[o,i]=n.useState("");return ue.jsxs("div",{className:"container-ld py-12 grid md:grid-cols-2 gap-10",children:[ue.jsxs("div",{className:"hidden md:block order-2 md:order-1",children:[ue.jsx("div",{className:"h-80 rounded-2xl bg-gradient-to-br from-orange-200 to-blue-200"}),ue.jsx("h2",{className:"mt-6 text-2xl font-semibold",children:"To ti khon LanServe"}),ue.jsx("p",{className:"text-slate-600 mt-2",children:"Bt u ng d n, nhn job v xy h s uy tn."})]}),ue.jsx("div",{className:"card order-1 md:order-2",children:ue.jsxs("form",{className:"card-body space-y-4",onSubmit:async t=>{if(t.preventDefault(),i(""),!(s.name&&s.email&&s.password&&s.confirm))return i("Vui lng nhp  thng tin.");if(s.password!==s.confirm)return i("Mt khu xc nhn khng khp.");try{const t=await Gn.post("/api/auth/register",{fullName:s.name,email:s.email,password:s.password,role:"User"}),n=t.data?.accessToken||t.data?.token;if(!n)throw new Error("Khng nhn c token t server");localStorage.setItem("token",n),Gn.defaults.headers.common.Authorization=`Bearer ${n}`;const r=we(n);console.log("Decoded JWT (Register):",r);const a=r.sub||r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||r.userId,o=r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||r.email||s.email,i={id:a,email:o,role:r["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||r["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||r.role||r.role||"User"};localStorage.setItem("user",JSON.stringify(i)),console.log("UserData saved (Register):",i),Is.success("ng k thnh cng!"),e("/account/profile")}catch(n){console.error("Register failed:",n),i(n.response?.data?.message||"ng k tht bi.")}},children:[ue.jsx("h1",{className:"text-2xl font-semibold",children:"ng k"}),o&&ue.jsx("div",{className:"text-sm text-red-600",children:o}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"H v tn"}),ue.jsx(is,{placeholder:"Nguyn Vn A",value:s.name,onChange:e=>a({...s,name:e.target.value})})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Email"}),ue.jsx(is,{type:"email",placeholder:"you@example.com",value:s.email,onChange:e=>a({...s,email:e.target.value})})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Mt khu"}),ue.jsx(is,{type:"password",placeholder:"",value:s.password,onChange:e=>a({...s,password:e.target.value})})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"text-sm",children:"Xc nhn mt khu"}),ue.jsx(is,{type:"password",placeholder:"",value:s.confirm,onChange:e=>a({...s,confirm:e.target.value})})]}),ue.jsx(be,{type:"submit",className:"w-full",children:"To ti khon"}),ue.jsx("div",{className:"text-center text-slate-500",children:"Hoc"}),ue.jsx("div",{className:"flex justify-center",children:ue.jsx(bo,{onSuccess:async t=>{try{const n=t.credential,r=await Gn.post("/api/auth/google",{idToken:n}),s=r.data?.accessToken;if(!s)throw new Error("Google login failed: No token");localStorage.setItem("token",s),Gn.defaults.headers.common.Authorization=`Bearer ${s}`;const a=we(s);console.log("Decoded JWT (Google Register):",a);const o=a.sub||a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||a.userId,i=a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||a.email,l={id:o,email:i,role:a["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||a.role||a.role||"User"};localStorage.setItem("user",JSON.stringify(l)),console.log("UserData saved (Google Register):",l),Is.success("ng nhp bng Google thnh cng!"),e("/account/profile")}catch(n){console.error("Google login failed:",n),Is.error(n.response?.data?.message||"ng nhp Google tht bi.")}},onError:()=>Is.error("Login Google tht bi")})}),ue.jsxs("div",{className:"text-sm text-center text-slate-600",children:[" c ti khon?"," ",ue.jsx(r,{to:"/login",className:"text-brand-700 hover:underline",children:"ng nhp"})]})]})})]})}function wo({label:e,value:t}){const n="string"==typeof t?t:(()=>{try{return JSON.stringify(t,null,2)}catch{return String(t)}})();return ue.jsxs("div",{className:"space-y-1",children:[ue.jsx("div",{className:"text-xs font-medium text-gray-600",children:e}),ue.jsx("pre",{className:"text-xs bg-gray-50 rounded p-3 overflow-auto max-h-72",children:n})]})}function jo(){const[e,t]=n.useState("/api/Categories"),[r,s]=n.useState("GET"),[a,o]=n.useState("{\n  \n}"),[i,l]=n.useState(!1),[c,u]=n.useState(null),[d,h]=n.useState(null),[f,m]=n.useState(""),p=n.useMemo(()=>{if("GET"!==r&&"DELETE"!==r)try{const e=a.trim();if(!e)return;return JSON.parse(e)}catch{return"__INVALID_JSON__"}},[a,r]),g=async()=>{if(l(!0),m(""),u(null),h(null),"__INVALID_JSON__"===p)return l(!1),void m("Body JSON khng hp l.");const t=performance.now();try{const n=await Gn.request({url:e,method:r,data:p,transformResponse:[e=>{try{return JSON.parse(e)}catch{return e}}],validateStatus:()=>!0}),s=Math.round(performance.now()-t);u({status:n.status,statusText:n.statusText,durationMs:s,headers:n.headers,url:n.config?.baseURL?`${n.config.baseURL}${n.config.url}`:n.config?.url,method:n.config?.method?.toUpperCase()}),h(n.data)}catch(n){const s=Math.round(performance.now()-t);u({status:null,statusText:"Network Error",durationMs:s,headers:{},url:e,method:r}),m(JSON.stringify(n?.toJSON?.()||{message:n?.message||"Network Error",code:n?.code},null,2))}finally{l(!1)}};return n.useEffect(()=>{g()},[]),ue.jsxs("div",{className:"p-6 space-y-6",children:[ue.jsx("h1",{className:"text-2xl font-semibold",children:"DB Test / API Echo"}),ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-start",children:[ue.jsxs("div",{className:"md:col-span-2 flex items-center gap-2",children:[ue.jsx("select",{value:r,onChange:e=>s(e.target.value),className:"border rounded-lg px-2 py-2 text-sm",children:["GET","POST","PUT","PATCH","DELETE"].map(e=>ue.jsx("option",{value:e,children:e},e))}),ue.jsx("input",{value:e,onChange:e=>t(e.target.value),placeholder:"/api/users",className:"border rounded-lg px-3 py-2 text-sm w-full"}),ue.jsx("button",{onClick:g,disabled:i,className:"px-3 py-2 text-sm rounded-lg shadow border bg-white hover:bg-gray-50 disabled:opacity-60",children:i?"ang gi...":"Gi"}),ue.jsx("button",{onClick:async()=>{const e=["/api/users","/api/userprofiles","/api/categories","/api/skills","/api/projects","/api/projectskills","/api/proposals","/api/contracts","/api/messages","/api/notifications","/api/reviews","/api/payments"];for(const n of e)try{const e=await Gn.get(n,{validateStatus:()=>!0});if(e.status>=200&&e.status<300)return t(n),u({status:e.status,statusText:e.statusText,durationMs:null,headers:e.headers,url:e.config?.baseURL?`${e.config.baseURL}${e.config.url}`:e.config?.url,method:"GET"}),h(e.data),void m("")}catch{}m("Auto-detect: khng tm thy endpoint no tr 200.")},className:"px-3 py-2 text-sm rounded-lg shadow border bg-white hover:bg-gray-50",children:"Auto-detect"})]}),ue.jsx("div",{className:"md:col-span-1",children:("POST"===r||"PUT"===r||"PATCH"===r)&&ue.jsxs("div",{className:"space-y-1",children:[ue.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Body (JSON)"}),ue.jsx("textarea",{value:a,onChange:e=>o(e.target.value),spellCheck:!1,rows:6,className:"w-full border rounded-lg p-2 text-xs font-mono",placeholder:'{"key": "value"}'}),"__INVALID_JSON__"===p&&ue.jsx("div",{className:"text-xs text-red-600",children:"JSON khng hp l"})]})})]}),c&&ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ue.jsxs("div",{className:"space-y-2",children:[ue.jsxs("div",{className:"text-sm",children:[ue.jsx("b",{children:"URL:"})," ",c.url]}),ue.jsxs("div",{className:"text-sm",children:[ue.jsx("b",{children:"Method:"})," ",c.method," |",ue.jsx("b",{children:"Status:"})," ",c.status??""," ",c.statusText&&`(${c.statusText})`," |",null!=c.durationMs&&ue.jsxs(ue.Fragment,{children:[ue.jsx("b",{children:"Time:"})," ",c.durationMs," ms"]})]}),ue.jsx(wo,{label:"Headers",value:c.headers})]}),ue.jsxs("div",{className:"space-y-2",children:[ue.jsx(wo,{label:"Response data",value:d}),f&&ue.jsx(wo,{label:"Error (raw)",value:f})]})]}),!c&&f&&ue.jsx("div",{className:"text-red-600 text-sm whitespace-pre-wrap",children:f})]})}function No(){const[e,r]=n.useState([]),[s,a]=n.useState([]),[o,i]=n.useState([]),[l,c]=n.useState(""),[u,d]=n.useState(""),[h,f]=n.useState(!1),[m,p]=n.useState(10),[g,x]=n.useState(!1),b=n.useRef(null),v=t(),y=localStorage.getItem("token")||sessionStorage.getItem("token");let w=null;if(y){const e=we(y);w=e.sub||e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||e.userId}n.useEffect(()=>{j()},[]);const j=async()=>{try{f(!0);const e=await Gn.get("/api/users");r(e.data);const t=await Gn.get("/api/userprofiles/all").catch(()=>null);t?.data&&a(t.data);const n=await Gn.get("/api/skills");i(n.data)}catch(e){console.error("Fetch data error:",e)}finally{f(!1)}},N=e=>e?.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")||"",k=n.useMemo(()=>e.filter(e=>{const t=N(e.fullName).includes(N(l)),n=s.find(t=>t.userId===e.id);return u?t&&n?.skillIds?.includes(u):t}),[e,s,l,u]);n.useEffect(()=>{p(10)},[l,u]);const S=n.useMemo(()=>k.slice(0,m),[k,m]);return n.useEffect(()=>{const e=()=>{if(g)return;if(m>=k.length)return;const e=window.scrollY||document.documentElement.scrollTop,t=document.documentElement.scrollHeight;e+window.innerHeight>=t-200&&(x(!0),setTimeout(()=>{p(e=>Math.min(e+10,k.length)),x(!1)},300))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[g,m,k.length]),ue.jsxs("div",{className:"container-ld py-10",children:[ue.jsx("h1",{className:"text-2xl font-semibold mb-4",children:" Tm kim ngi dng"}),ue.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[ue.jsx("input",{type:"text",className:"input flex-1",placeholder:"Nhp tn ngi dng...",value:l,onChange:e=>c(e.target.value)}),ue.jsxs("select",{className:"select flex-1",value:u,onChange:e=>d(e.target.value),children:[ue.jsx("option",{value:"",children:"-- Tt c k nng --"}),o.map(e=>ue.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h?ue.jsxs("div",{className:"flex items-center justify-center gap-3 py-8",children:[ue.jsx(ms,{}),ue.jsx("span",{children:"ang ti..."})]}):ue.jsxs("div",{className:"grid gap-4",ref:b,children:[S.map(e=>ue.jsxs("div",{className:"card p-4 flex items-center justify-between border",children:[ue.jsxs("div",{children:[ue.jsx("div",{className:"font-semibold",children:e.fullName}),ue.jsx("div",{className:"text-sm text-slate-500",children:e.email}),ue.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.find(t=>t.userId===e.id)?.skillIds?.map(e=>{const t=o.find(t=>t.id===e);return t&&ue.jsx("span",{className:"badge",children:t.name},e)})})]}),ue.jsx("button",{className:"btn btn-outline",onClick:()=>{e.id===w?v("/account/profile"):v(`/profile/${e.id}`)},children:"Xem h s"})]},e.id)),g&&ue.jsx("div",{className:"flex items-center justify-center py-4",children:ue.jsx(ms,{size:"md"})}),!h&&m>=k.length&&k.length>0&&ue.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",k.length," ngi dng"]})]}),!h&&0===k.length&&ue.jsx("p",{className:"text-slate-500 mt-4",children:"Hy ng nhp  xem danh sch ngi dng."})]})}function ko({open:e,onClose:t,userId:r,onSuccess:s}){const[a,o]=n.useState(1e5),[i,l]=n.useState(""),[c,u]=n.useState(!1);if(!e)return null;return ue.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[ue.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),ue.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!r)return alert("Thiu userId");const t=Number(a);if(!t||t<=0)return alert("S tin khng hp l");try{u(!0);const e=await Gn.post("/api/payments/topup",{userId:r,amount:t,orderInfo:i||`Topup ${t} VND`}),n=e.data?.paymentUrl;if(!n)throw new Error("paymentUrl rng");s?.(t),window.location.href=n}catch(n){console.error(n),alert(n?.response?.data||n.message||"To giao dch tht bi")}finally{u(!1)}},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md p-5",children:[ue.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Np tin vo v"}),ue.jsx("label",{className:"block text-sm mb-1",children:"S tin (VND)"}),ue.jsx("input",{type:"number",min:1e4,step:1e3,className:"w-full border rounded-lg px-3 py-2 mb-3",value:a,onChange:e=>o(e.target.value),placeholder:"Nhp s tin (VND)",required:!0}),ue.jsx("label",{className:"block text-sm mb-1",children:"Ghi ch (tu chn)"}),ue.jsx("input",{type:"text",className:"w-full border rounded-lg px-3 py-2 mb-4",value:i,onChange:e=>l(e.target.value),placeholder:"V d: Np v thng 10"}),ue.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ue.jsx(be,{type:"button",onClick:t,variant:"secondary",children:"Hu"}),ue.jsx(be,{type:"submit",disabled:c,children:c?"ang to...":"Np tin"})]})]})]})}function So({orderId:e,onClose:t}){return ue.jsxs("div",{className:"mb-4 rounded-xl border border-emerald-200 bg-emerald-50 text-emerald-800 px-4 py-3 flex items-start justify-between",children:[ue.jsxs("div",{children:[ue.jsx("div",{className:"font-semibold",children:"Np tin thnh cng"}),e&&ue.jsxs("div",{className:"text-sm",children:["M giao dch: ",ue.jsx("b",{children:e})]})]}),ue.jsx("button",{onClick:t,className:"text-emerald-700 hover:underline",children:"ng"})]})}function _o(){const e=localStorage.getItem("token")||sessionStorage.getItem("token"),t=n.useMemo(()=>{if(!e)return null;try{const t=we(e);return t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||null}catch{return null}},[e]),{balance:r,fetchBalance:s,loading:a,txns:o,fetchTransactions:i,txLoading:l}=Xn(),[c,u]=n.useState(!1),[d,h]=n.useState(null),[f,m]=n.useState(!0);n.useEffect(()=>{t&&(s(t),i(t,50,f?"desc":"asc"))},[t,s,i,f]),n.useEffect(()=>{const e=sessionStorage.getItem("wallet_topup_success");if(e){try{const t=JSON.parse(e);t?.ok&&h({orderId:t.orderId})}catch{}sessionStorage.removeItem("wallet_topup_success")}},[]);const p=n.useMemo(()=>{const e=[...o];return e.sort((e,t)=>{const n=new Date(e.createdAt),r=new Date(t.createdAt);return f?r-n:n-r}),e},[o,f]),g=e=>` ${Number(e||0).toLocaleString("vi-VN")}`,x=e=>{if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleString("vi-VN")};return ue.jsxs("div",{className:"container-ld py-6",children:[d&&ue.jsx(So,{orderId:d.orderId,onClose:()=>h(null)}),ue.jsx("h1",{className:"text-2xl font-bold mb-4",children:"V ca ti"}),ue.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[ue.jsxs("div",{className:"rounded-2xl border p-5 bg-white shadow-sm",children:[ue.jsx("div",{className:"text-slate-500 text-sm",children:"S d kh dng"}),ue.jsx("div",{className:"text-3xl font-semibold mt-1",children:a?"...":g(r)}),ue.jsx("div",{className:"mt-4 flex gap-2",children:ue.jsx(be,{onClick:()=>u(!0),children:"Np tin"})})]}),ue.jsxs("div",{className:"rounded-2xl border p-5 bg-white shadow-sm",children:[ue.jsx("div",{className:"text-slate-600",children:"Gi "}),ue.jsxs("ul",{className:"list-disc pl-5 text-sm text-slate-600 mt-2",children:[ue.jsx("li",{children:"Nhn Np tin  i n cng thanh ton VNPAY."}),ue.jsx("li",{children:"Sau khi thanh ton, h thng t ng cng tin vo v."})]})]})]}),ue.jsxs("div",{className:"mt-6 rounded-2xl border bg-white shadow-sm",children:[ue.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[ue.jsx("h2",{className:"font-semibold",children:"Lch s giao dch"}),ue.jsxs("div",{className:"flex items-center gap-2",children:[ue.jsx("span",{className:"text-sm text-slate-500",children:"Sp xp:"}),ue.jsx(be,{variant:"secondary",onClick:()=>m(e=>!e),title:"o th t ngy",children:f?"Mi  C":"C  Mi"})]})]}),ue.jsx("div",{className:"overflow-x-auto",children:ue.jsxs("table",{className:"min-w-full text-sm",children:[ue.jsx("thead",{className:"bg-slate-50 text-slate-600",children:ue.jsxs("tr",{children:[ue.jsx("th",{className:"text-left px-4 py-2 w-[180px]",children:"Thi gian"}),ue.jsx("th",{className:"text-left px-4 py-2",children:"Loi"}),ue.jsx("th",{className:"text-right px-4 py-2",children:"S tin"}),ue.jsx("th",{className:"text-right px-4 py-2",children:"S d sau"}),ue.jsx("th",{className:"text-left px-4 py-2",children:"Ghi ch"})]})}),ue.jsx("tbody",{children:l?ue.jsx("tr",{children:ue.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-500",children:"ang ti giao dch..."})}):0===p.length?ue.jsx("tr",{children:ue.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-500",children:"Cha c giao dch"})}):p.map(e=>ue.jsxs("tr",{children:[ue.jsx("td",{className:"px-4 py-2",children:x(e.createdAt)}),ue.jsx("td",{className:"px-4 py-2",children:ue.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs "+("TopUp"===e.type?"bg-emerald-50 text-emerald-700 border border-emerald-200":"Withdraw"===e.type?"bg-red-50 text-red-700 border border-red-200":"Deposit"===e.type?"bg-blue-50 text-blue-700 border border-blue-200":"bg-slate-50 text-slate-700 border border-slate-200"),children:e.type||"-"})}),ue.jsxs("td",{className:"px-4 py-2 text-right font-medium "+("TopUp"===e.type||"Deposit"===e.type?"text-emerald-600":"Withdraw"===e.type?"text-red-600":""),children:["TopUp"===e.type||"Deposit"===e.type?"+":"-",g(Math.abs(e.amount||0))]}),ue.jsx("td",{className:"px-4 py-2 text-right",children:g(e.balanceAfter)}),ue.jsx("td",{className:"px-4 py-2",children:e.note||"-"})]},e.id||e._id))})]})})]}),ue.jsx(ko,{open:c,onClose:()=>u(!1),userId:t,onSuccess:()=>{}})]})}function Co(){const e=t(),[r]=u(),s=r.get("orderId"),a=localStorage.getItem("token")||sessionStorage.getItem("token"),o=n.useMemo(()=>{try{if(!a)return null;const e=we(a);return e.sub||e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||e.userId||null}catch{return null}},[a]),{fetchBalance:i}=Xn();return n.useEffect(()=>{(async()=>{try{o&&s&&await Gn.get("/api/wallets/topup-result",{params:{orderId:s,userId:o}}),o&&await i(o),sessionStorage.setItem("wallet_topup_success",JSON.stringify({ok:!0,orderId:s}))}catch(t){console.warn("Confirm topup failed or skipped:",t?.message||t)}finally{setTimeout(()=>e("/wallet"),900)}})()},[o,s,i,e]),ue.jsxs("div",{className:"container-ld py-10 text-center",children:[ue.jsx("h1",{className:"text-2xl font-bold text-emerald-600",children:"Np tin thnh cng"}),ue.jsxs("p",{className:"mt-2 text-slate-600",children:["M giao dch: ",ue.jsx("b",{children:s})]}),ue.jsx("p",{className:"mt-2 text-slate-500",children:"ang chuyn v trang V"})]})}function Eo(){const e=t(),[r]=u(),s=r.get("orderId"),a=r.get("code")||"unknown";return n.useEffect(()=>{const t=setTimeout(()=>e("/wallet"),1500);return()=>clearTimeout(t)},[e]),ue.jsxs("div",{className:"container-ld py-10 text-center",children:[ue.jsx("h1",{className:"text-2xl font-bold text-rose-600",children:"Thanh ton tht bi"}),ue.jsxs("p",{className:"mt-2 text-slate-600",children:["M giao dch: ",ue.jsx("b",{children:s}),"  Code: ",ue.jsx("b",{children:a})]}),ue.jsx("p",{className:"mt-2 text-slate-500",children:"ang quay li V..."})]})}const To=()=>{const[e,t]=n.useState(!0),s=a(),o=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"null");if(!("Admin"===o?.role))return ue.jsx(d,{to:"/",replace:!0});const l=[{name:"Dashboard",icon:B,path:"/admin"},{name:"Ngi dng",icon:q,path:"/admin/users"},{name:"D n",icon:W,path:"/admin/projects"},{name:"n hng",icon:V,path:"/admin/contracts"},{name:"Banners",icon:V,path:"/admin/banners"},{name:"Thng k",icon:K,path:"/admin/statistics"},{name:"Ci t",icon:z,path:"/admin/settings"}];return ue.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[ue.jsxs("aside",{className:`bg-slate-800 text-white transition-all duration-300 ${e?"w-64":"w-0"} flex flex-col fixed left-0 top-0 h-full z-40`,children:[ue.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 flex-shrink-0",children:[ue.jsx("h1",{className:"text-xl font-bold",children:"LanServe Admin"}),ue.jsx("button",{onClick:()=>t(!1),className:"lg:hidden hover:bg-slate-700 p-1 rounded",children:ue.jsx(U,{size:20})})]}),ue.jsx("nav",{className:"flex-1 overflow-y-auto",children:l.map(e=>{const t=e.icon,n=s.pathname===e.path;return ue.jsxs(r,{to:e.path,className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-700 transition-colors "+(n?"bg-slate-700 border-r-4 border-blue-500":""),children:[ue.jsx(t,{size:20}),ue.jsx("span",{children:e.name})]},e.path)})})]}),ue.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 "+(e?"ml-64":"ml-0"),children:[ue.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex items-center justify-between flex-shrink-0",children:[ue.jsx("button",{onClick:()=>t(!0),className:"lg:hidden hover:bg-gray-100 p-2 rounded",children:ue.jsx($,{size:24})}),ue.jsx("div",{className:"flex items-center gap-4",children:ue.jsxs("div",{className:"flex items-center gap-2",children:[ue.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:ue.jsx("span",{className:"text-white text-sm font-semibold",children:"A"})}),ue.jsx("span",{className:"text-sm font-medium",children:"Admin"})]})})]}),ue.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:ue.jsx(i,{})})]})]})},Io=()=>{const[e,t]=n.useState({totalUsers:0,totalProjects:0,totalContracts:0,totalRevenue:0,userChange:0,projectChange:0,contractChange:0,revenueChange:0}),[r,s]=n.useState([]),[a,o]=n.useState([]),[i,l]=n.useState(!0);n.useEffect(()=>{d()},[]);const c=(e,t)=>0===t?e>0?100:0:(e-t)/t*100,u=e=>`${e>=0?"+":""}${e.toFixed(0)}%`,d=async()=>{try{l(!0);const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()-1,1),a=new Date(e.getFullYear(),e.getMonth(),0,23,59,59),i=(await Gn.get("/api/users").catch(e=>(console.error("Failed to fetch users:",e),{data:[]}))).data||[],u=i.length,d=i.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).length,h=i.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).length,f=c(d,h),m=(await Gn.get("/api/projects").catch(e=>(console.error("Failed to fetch projects:",e),{data:[]}))).data||[],p=m.length,g=m.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).length,x=m.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).length,b=c(g,x),v=(await Gn.get("/api/contracts").catch(e=>(console.error("Failed to fetch contracts:",e),{data:[]}))).data||[],y=v.length,w=v.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).length,j=v.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).length,N=c(w,j),k=v.filter(e=>"Completed"===(e.status||e.Status)||"completed"===(e.status||e.Status)),S=k.reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0),_=k.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0),C=k.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0),E=c(_,C);t({totalUsers:u,totalProjects:p,totalContracts:y,totalRevenue:S,userChange:f,projectChange:b,contractChange:N,revenueChange:E});const T=[];for(let t=5;t>=0;t--){const n=new Date(e.getFullYear(),e.getMonth()-t,1),r=new Date(n.getFullYear(),n.getMonth(),1),s=new Date(n.getFullYear(),n.getMonth()+1,0,23,59,59),a=k.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=s}).reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0);T.push({month:`Th ${n.getMonth()+1}`,doanhThu:a,chiPhi:.6*a})}s(T);const I=[],A=["CN","T2","T3","T4","T5","T6","T7"];for(let t=6;t>=0;t--){const n=new Date(e);n.setDate(n.getDate()-t),n.setHours(0,0,0,0);const r=new Date(n);r.setHours(23,59,59,999);const s=m.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=n&&t<=r}).length;I.push({day:A[n.getDay()],projects:s})}o(I)}catch(e){console.error("Error fetching dashboard data:",e)}finally{l(!1)}};if(i)return ue.jsx("div",{className:"flex items-center justify-center h-full",children:ue.jsx(G,{className:"animate-spin text-blue-500",size:48})});const h=[{name:"Tng ngi dng",value:e.totalUsers,icon:q,color:"bg-blue-500",change:u(e.userChange),changeColor:e.userChange>=0?"text-green-600":"text-red-600"},{name:"D n",value:e.totalProjects,icon:W,color:"bg-green-500",change:u(e.projectChange),changeColor:e.projectChange>=0?"text-green-600":"text-red-600"},{name:"Hp ng",value:e.totalContracts,icon:V,color:"bg-purple-500",change:u(e.contractChange),changeColor:e.contractChange>=0?"text-green-600":"text-red-600"},{name:"Doanh thu",value:e.totalRevenue>=1e6?`${(e.totalRevenue/1e6).toFixed(1)}M`:e.totalRevenue>=1e3?`${(e.totalRevenue/1e3).toFixed(1)}K`:e.totalRevenue.toFixed(0),icon:X,color:"bg-orange-500",change:u(e.revenueChange),changeColor:e.revenueChange>=0?"text-green-600":"text-red-600"}];return ue.jsxs("div",{children:[ue.jsxs("div",{className:"mb-6",children:[ue.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),ue.jsx("p",{className:"text-gray-600 mt-1",children:"Tng quan h thng LanServe"})]}),ue.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((e,t)=>{const n=e.icon;return ue.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:ue.jsxs("div",{className:"flex items-center justify-between",children:[ue.jsxs("div",{children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:e.name}),ue.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:e.value}),ue.jsxs("p",{className:`${e.changeColor} text-sm mt-1`,children:[e.change," so vi thng trc"]})]}),ue.jsx("div",{className:`${e.color} p-3 rounded-lg`,children:ue.jsx(n,{className:"text-white",size:24})})]})},t)})}),ue.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Doanh thu & Chi ph"}),ue.jsx(y,{width:"100%",height:300,children:ue.jsxs(w,{data:r,children:[ue.jsx(j,{strokeDasharray:"3 3"}),ue.jsx(N,{dataKey:"month"}),ue.jsx(k,{}),ue.jsx(S,{formatter:e=>new Intl.NumberFormat("vi-VN").format(e)}),ue.jsx(_,{}),ue.jsx(C,{type:"monotone",dataKey:"doanhThu",stroke:"#3b82f6",strokeWidth:2}),ue.jsx(C,{type:"monotone",dataKey:"chiPhi",stroke:"#ef4444",strokeWidth:2})]})})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"D n theo ngy"}),ue.jsx(y,{width:"100%",height:300,children:ue.jsxs(E,{data:a,children:[ue.jsx(j,{strokeDasharray:"3 3"}),ue.jsx(N,{dataKey:"day"}),ue.jsx(k,{}),ue.jsx(S,{}),ue.jsx(_,{}),ue.jsx(T,{dataKey:"projects",fill:"#10b981"})]})})]})]})]})},Ao=()=>{const[e,t]=n.useState([]),[r,s]=n.useState(""),[a,o]=n.useState(""),[i,l]=n.useState(!0),[c,u]=n.useState(10),[d,h]=n.useState(!1),f=n.useRef(null),[m,p]=n.useState(!1),[g,x]=n.useState(null),[b,v]=n.useState({email:"",fullName:"",role:"User",password:""});n.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const e=await Gn.get("/api/users");t(e.data||[])}catch(e){console.error("Error fetching users:",e),Is.error("Khng th ti danh sch ngi dng")}finally{l(!1)}},w=n.useMemo(()=>e.filter(e=>{const t=e.email?.toLowerCase().includes(r.toLowerCase())||e.fullName?.toLowerCase().includes(r.toLowerCase())||e.username?.toLowerCase().includes(r.toLowerCase()),n=!a||e.role===a;return t&&n}),[e,r,a]);n.useEffect(()=>{u(10)},[r,a]);const j=n.useMemo(()=>w.slice(0,c),[w,c]),N=n.useRef(null);n.useEffect(()=>{c<w.length&&!i&&!d&&setTimeout(()=>{const e=document.querySelector("main.overflow-y-auto"),t=e?e.clientHeight:window.innerHeight;(e?e.scrollHeight:document.documentElement.scrollHeight)<t+100&&u(e=>Math.min(e+10,w.length))},100)},[c,w.length,i,d]),n.useEffect(()=>{const e=document.querySelector("main.overflow-y-auto")||window,t=new IntersectionObserver(e=>{const[t]=e;t.isIntersecting&&!d&&c<w.length&&(h(!0),setTimeout(()=>{u(e=>Math.min(e+10,w.length)),h(!1)},300))},{root:e===window?null:e,rootMargin:"200px",threshold:.1});return N.current&&t.observe(N.current),()=>{N.current&&t.unobserve(N.current)}},[d,c,w.length]);const k=()=>{p(!1),x(null),v({email:"",fullName:"",role:"User",password:""})};return i?ue.jsx("div",{className:"flex items-center justify-center h-64",children:ue.jsx(ms,{size:"lg"})}):ue.jsxs("div",{ref:f,children:[ue.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[ue.jsxs("div",{children:[ue.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l ngi dng"}),ue.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch tt c ngi dng trong h thng"})]}),ue.jsxs("button",{onClick:()=>{x(null),v({email:"",fullName:"",role:"User",password:""}),p(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2",children:[ue.jsx(Q,{size:20}),"Thm ngi dng"]})]}),ue.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:ue.jsxs("div",{className:"flex gap-4",children:[ue.jsxs("div",{className:"flex-1 relative",children:[ue.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ue.jsx("input",{type:"text",placeholder:"Tm kim theo email, username...",value:r,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ue.jsxs("select",{value:a,onChange:e=>o(e.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[ue.jsx("option",{value:"",children:"Tt c vai tr"}),ue.jsx("option",{value:"Admin",children:"Admin"}),ue.jsx("option",{value:"User",children:"User"})]})]})}),ue.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:ue.jsxs("table",{className:"w-full",children:[ue.jsx("thead",{className:"bg-gray-50",children:ue.jsxs("tr",{children:[ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Username"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vai tr"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh ng"})]})}),ue.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(e=>ue.jsxs("tr",{className:"hover:bg-gray-50",children:[ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.fullName||e.username||"-"}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role})}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue.jsxs("div",{className:"flex gap-2",children:[ue.jsx("button",{onClick:()=>(e=>{x(e),v({email:e.email||"",fullName:e.fullName||"",role:e.role||"User",password:""}),p(!0)})(e),className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Chnh sa",children:ue.jsx(J,{size:18})}),ue.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa ngi dng ny?"))try{await Gn.delete(`/api/users/${e}`),Is.success("Xa ngi dng thnh cng"),y()}catch(t){console.error("Error deleting user:",t),Is.error(t.response?.data?.message||"Khng th xa ngi dng")}})(e.id),className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-50 rounded",title:"Xa",children:ue.jsx(Z,{size:18})})]})})]},e.id))})]})}),c<w.length&&ue.jsx("div",{ref:N,className:"flex items-center justify-center py-4",children:d?ue.jsx(ms,{size:"md"}):ue.jsx("div",{className:"text-slate-500 text-sm",children:"ang ti thm..."})}),!i&&c>=w.length&&w.length>0&&ue.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",w.length," ngi dng"]}),0===w.length&&ue.jsx("div",{className:"text-center py-12 text-gray-500",children:"Khng tm thy ngi dng no"}),m&&ue.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[ue.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ue.jsx("h2",{className:"text-xl font-bold",children:g?"Chnh sa ngi dng":"Thm ngi dng mi"}),ue.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600",children:ue.jsx(U,{size:24})})]}),ue.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(g){const e={fullName:b.fullName,role:b.role};b.password&&(e.password=b.password),await Gn.put(`/api/users/${g.id}`,e),Is.success("Cp nht ngi dng thnh cng")}else await Gn.post("/api/users",{email:b.email,fullName:b.fullName,role:b.role,password:b.password}),Is.success("To ngi dng thnh cng");k(),y()}catch(t){console.error("Error saving user:",t),Is.error(t.response?.data?.message||"C li xy ra")}},className:"space-y-4",children:[!g&&ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),ue.jsx("input",{type:"email",required:!0,value:b.email,onChange:e=>v({...b,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H tn *"}),ue.jsx("input",{type:"text",required:!0,value:b.fullName,onChange:e=>v({...b,fullName:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr *"}),ue.jsxs("select",{required:!0,value:b.role,onChange:e=>v({...b,role:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[ue.jsx("option",{value:"User",children:"User"}),ue.jsx("option",{value:"Admin",children:"Admin"})]})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g?"Mt khu mi ( trng nu khng i)":"Mt khu *"}),ue.jsx("input",{type:"password",required:!g,value:b.password,onChange:e=>v({...b,password:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ue.jsxs("div",{className:"flex gap-3 pt-4",children:[ue.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),ue.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:g?"Cp nht":"To mi"})]})]})]})})]})},Po=()=>{const[e,t]=n.useState([]),[r,s]=n.useState(""),[a,o]=n.useState(!0),[i,l]=n.useState(10),[c,u]=n.useState(!1),d=n.useRef(null),[h,f]=n.useState(!1),[m,p]=n.useState(null),[g,x]=n.useState(null),[b,v]=n.useState({title:"",description:"",budgetAmount:"",status:"Open",categoryId:""}),[y,w]=n.useState([]);n.useEffect(()=>{j(),N()},[]);const j=async()=>{try{o(!0);const e=await Gn.get("/api/projects");t(e.data||[])}catch(e){console.error("Error fetching projects:",e),Is.error("Khng th ti danh sch d n")}finally{o(!1)}},N=async()=>{try{const e=await Gn.get("/api/categories");w(e.data||[])}catch(e){console.error("Error fetching categories:",e)}},k=n.useMemo(()=>e.filter(e=>e.title?.toLowerCase().includes(r.toLowerCase())||e.description?.toLowerCase().includes(r.toLowerCase())),[e,r]);n.useEffect(()=>{l(10)},[r]);const S=n.useMemo(()=>k.slice(0,i),[k,i]),_=n.useRef(null);n.useEffect(()=>{i<k.length&&!a&&!c&&setTimeout(()=>{const e=document.querySelector("main.overflow-y-auto"),t=e?e.clientHeight:window.innerHeight;(e?e.scrollHeight:document.documentElement.scrollHeight)<t+100&&l(e=>Math.min(e+10,k.length))},100)},[i,k.length,a,c]),n.useEffect(()=>{const e=document.querySelector("main.overflow-y-auto")||window,t=new IntersectionObserver(e=>{const[t]=e;t.isIntersecting&&!c&&i<k.length&&(u(!0),setTimeout(()=>{l(e=>Math.min(e+10,k.length)),u(!1)},300))},{root:e===window?null:e,rootMargin:"200px",threshold:.1});return _.current&&t.observe(_.current),()=>{_.current&&t.unobserve(_.current)}},[c,i,k.length]);const C=e=>{p(e),v({title:e.title||"",description:e.description||"",budgetAmount:e.budgetAmount||e.budget?.value||"",status:e.status||"Open",categoryId:e.categoryId||""}),f(!0)},E=()=>{f(!1),p(null),v({title:"",description:"",budgetAmount:"",status:"Open",categoryId:""})};return a?ue.jsx("div",{className:"flex items-center justify-center h-64",children:ue.jsx(ms,{size:"lg"})}):ue.jsxs("div",{ref:d,children:[ue.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[ue.jsxs("div",{children:[ue.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l d n"}),ue.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch tt c d n"})]}),ue.jsxs("button",{onClick:()=>{p(null),v({title:"",description:"",budgetAmount:"",status:"Open",categoryId:y[0]?.id||""}),f(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2",children:[ue.jsx(Q,{size:20}),"Thm d n"]})]}),ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:"Tng d n"}),ue.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:e.length})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:"ang tuyn"}),ue.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:e.filter(e=>"Open"===e.status).length})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:" ng"}),ue.jsx("p",{className:"text-2xl font-bold text-gray-600 mt-2",children:e.filter(e=>"Closed"===e.status).length})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:"ang lm"}),ue.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:e.filter(e=>"InProgress"===e.status).length})]})]}),ue.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:ue.jsx("div",{className:"flex gap-4",children:ue.jsxs("div",{className:"flex-1 relative",children:[ue.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ue.jsx("input",{type:"text",placeholder:"Tm kim d n...",value:r,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})}),ue.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:ue.jsxs("table",{className:"w-full",children:[ue.jsx("thead",{className:"bg-gray-50",children:ue.jsxs("tr",{children:[ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tiu "}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"M t"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ngn sch"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh ng"})]})}),ue.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(e=>ue.jsxs("tr",{className:"hover:bg-gray-50",children:[ue.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:e.title}),ue.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-md truncate",children:e.description}),ue.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[new Intl.NumberFormat("vi-VN").format(e.budgetAmount||e.budget?.value||0)," "]}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Open"===e.status?"bg-green-100 text-green-800":"Closed"===e.status?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"),children:e.status})}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue.jsxs("div",{className:"flex gap-2",children:[ue.jsx("button",{onClick:()=>x(e),className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Xem chi tit",children:ue.jsx(ee,{size:18})}),ue.jsx("button",{onClick:()=>C(e),className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Chnh sa",children:ue.jsx(J,{size:18})}),ue.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa d n ny?"))try{await Gn.delete(`/api/projects/${e}`),Is.success("Xa d n thnh cng"),j()}catch(t){console.error("Error deleting project:",t),Is.error(t.response?.data?.message||"Khng th xa d n")}})(e.id),className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-50 rounded",title:"Xa",children:ue.jsx(Z,{size:18})})]})})]},e.id))})]})}),i<k.length&&ue.jsx("div",{ref:_,className:"flex items-center justify-center py-4",children:c?ue.jsx(ms,{size:"md"}):ue.jsx("div",{className:"text-slate-500 text-sm",children:"ang ti thm..."})}),!a&&i>=k.length&&k.length>0&&ue.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",k.length," d n"]}),0===k.length&&ue.jsx("div",{className:"text-center py-12 text-gray-500",children:"Khng tm thy d n no"}),h&&ue.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[ue.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ue.jsx("h2",{className:"text-xl font-bold",children:m?"Chnh sa d n":"Thm d n mi"}),ue.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:ue.jsx(U,{size:24})})]}),ue.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(m)await Gn.put(`/api/projects/${m.id}`,{title:b.title,description:b.description,budgetAmount:Number(b.budgetAmount),status:b.status,categoryId:b.categoryId}),Is.success("Cp nht d n thnh cng");else{if(!(localStorage.getItem("token")||sessionStorage.getItem("token")))return void Is.error("Vui lng ng nhp");await Gn.post("/api/projects",{title:b.title,description:b.description,budgetAmount:Number(b.budgetAmount),status:b.status,categoryId:b.categoryId,ownerId:m?.ownerId||null}),Is.success("To d n thnh cng")}E(),j()}catch(t){console.error("Error saving project:",t),Is.error(t.response?.data?.message||"C li xy ra")}},className:"space-y-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu  *"}),ue.jsx("input",{type:"text",required:!0,value:b.title,onChange:e=>v({...b,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t *"}),ue.jsx("textarea",{required:!0,rows:4,value:b.description,onChange:e=>v({...b,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ue.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngn sch () *"}),ue.jsx("input",{type:"number",required:!0,min:"0",value:b.budgetAmount,onChange:e=>v({...b,budgetAmount:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi *"}),ue.jsxs("select",{required:!0,value:b.status,onChange:e=>v({...b,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[ue.jsx("option",{value:"Open",children:"Open"}),ue.jsx("option",{value:"InProgress",children:"InProgress"}),ue.jsx("option",{value:"Completed",children:"Completed"}),ue.jsx("option",{value:"Closed",children:"Closed"})]})]})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mc *"}),ue.jsxs("select",{required:!0,value:b.categoryId,onChange:e=>v({...b,categoryId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[ue.jsx("option",{value:"",children:"Chn danh mc"}),y.map(e=>ue.jsx("option",{value:e.id,children:e.name},e.id))]})]}),ue.jsxs("div",{className:"flex gap-3 pt-4",children:[ue.jsx("button",{type:"button",onClick:E,className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),ue.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:m?"Cp nht":"To mi"})]})]})]})}),g&&ue.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[ue.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ue.jsx("h2",{className:"text-xl font-bold",children:"Chi tit d n"}),ue.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:ue.jsx(U,{size:24})})]}),ue.jsxs("div",{className:"space-y-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu "}),ue.jsx("p",{className:"text-gray-900",children:g.title})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),ue.jsx("p",{className:"text-gray-900",children:g.description})]}),ue.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngn sch"}),ue.jsxs("p",{className:"text-gray-900",children:[new Intl.NumberFormat("vi-VN").format(g.budgetAmount||g.budget?.value||0)," "]})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),ue.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Open"===g.status?"bg-green-100 text-green-800":"Closed"===g.status?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"),children:g.status})]})]}),g.images&&g.images.length>0&&ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hnh nh"}),ue.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.images.map((e,t)=>ue.jsx("img",{src:e,alt:`Project ${t+1}`,className:"w-full h-32 object-cover rounded"},t))})]})]}),ue.jsxs("div",{className:"flex gap-3 pt-4",children:[ue.jsx("button",{onClick:()=>{x(null),C(g)},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Chnh sa"}),ue.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"ng"})]})]})})]})},Ro=()=>{const[e,t]=n.useState([]),[r,s]=n.useState(!0),[a,o]=n.useState(10),[i,l]=n.useState(!1),c=n.useRef(null),[u,d]=n.useState(!1),[h,f]=n.useState(null),[m,p]=n.useState(null),[g,x]=n.useState({status:"Active"});n.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const e=await Gn.get("/api/contracts");t(e.data||[])}catch(e){console.error("Error fetching contracts:",e),Is.error("Khng th ti danh sch hp ng")}finally{s(!1)}},v=n.useMemo(()=>e.slice(0,a),[e,a]),y=n.useRef(null);n.useEffect(()=>{a<e.length&&!r&&!i&&setTimeout(()=>{const t=document.querySelector("main.overflow-y-auto"),n=t?t.clientHeight:window.innerHeight;(t?t.scrollHeight:document.documentElement.scrollHeight)<n+100&&o(t=>Math.min(t+10,e.length))},100)},[a,e.length,r,i]),n.useEffect(()=>{const t=document.querySelector("main.overflow-y-auto")||window,n=new IntersectionObserver(t=>{const[n]=t;n.isIntersecting&&!i&&a<e.length&&(l(!0),setTimeout(()=>{o(t=>Math.min(t+10,e.length)),l(!1)},300))},{root:t===window?null:t,rootMargin:"200px",threshold:.1});return y.current&&n.observe(y.current),()=>{y.current&&n.unobserve(y.current)}},[i,a,e.length]);const w=e=>{f(e),x({status:e.status||"Active"}),d(!0)},j=()=>{d(!1),f(null),x({status:"Active"})};return r?ue.jsx("div",{className:"flex items-center justify-center h-64",children:ue.jsx(ms,{size:"lg"})}):ue.jsxs("div",{ref:c,children:[ue.jsxs("div",{className:"mb-6",children:[ue.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l hp ng"}),ue.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch tt c hp ng"})]}),ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:"Tng hp ng"}),ue.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:e.length})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:"ang lm"}),ue.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:e.filter(e=>"Active"===e.status).length})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:"Hon thnh"}),ue.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:e.filter(e=>"Completed"===e.status).length})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("p",{className:"text-gray-600 text-sm",children:" hy"}),ue.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:e.filter(e=>"Cancelled"===e.status).length})]})]}),ue.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:ue.jsxs("table",{className:"w-full",children:[ue.jsx("thead",{className:"bg-gray-50",children:ue.jsxs("tr",{children:[ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Client"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Freelancer"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh ng"})]})}),ue.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(e=>ue.jsxs("tr",{className:"hover:bg-gray-50",children:[ue.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id?.slice(-8)||e._id?.slice(-8)]}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.clientId}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.freelancerId}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Active"===e.status?"bg-blue-100 text-blue-800":"Completed"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),ue.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue.jsxs("div",{className:"flex gap-2",children:[ue.jsx("button",{onClick:()=>p(e),className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Xem chi tit",children:ue.jsx(ee,{size:18})}),ue.jsx("button",{onClick:()=>w(e),className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Chnh sa",children:ue.jsx(J,{size:18})}),ue.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa hp ng ny?"))try{await Gn.delete(`/api/contracts/${e}`),Is.success("Xa hp ng thnh cng"),b()}catch(t){console.error("Error deleting contract:",t),Is.error(t.response?.data?.message||"Khng th xa hp ng")}})(e.id||e._id),className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-50 rounded",title:"Xa",children:ue.jsx(Z,{size:18})})]})})]},e.id))})]})}),a<e.length&&ue.jsx("div",{ref:y,className:"flex items-center justify-center py-4",children:i?ue.jsx(ms,{size:"md"}):ue.jsx("div",{className:"text-slate-500 text-sm",children:"ang ti thm..."})}),!r&&a>=e.length&&e.length>0&&ue.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",e.length," hp ng"]}),0===e.length&&ue.jsx("div",{className:"text-center py-12 text-gray-500",children:"Khng c hp ng no"}),u&&h&&ue.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[ue.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ue.jsx("h2",{className:"text-xl font-bold",children:"Chnh sa hp ng"}),ue.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:ue.jsx(U,{size:24})})]}),ue.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await Gn.put(`/api/contracts/${h.id}`,{...h,status:g.status}),Is.success("Cp nht hp ng thnh cng"),j(),b()}catch(t){console.error("Error updating contract:",t),Is.error(t.response?.data?.message||"C li xy ra")}},className:"space-y-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi *"}),ue.jsxs("select",{required:!0,value:g.status,onChange:e=>x({...g,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[ue.jsx("option",{value:"Active",children:"Active"}),ue.jsx("option",{value:"Completed",children:"Completed"}),ue.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),ue.jsxs("div",{className:"flex gap-3 pt-4",children:[ue.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),ue.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Cp nht"})]})]})]})}),m&&ue.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:ue.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[ue.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ue.jsx("h2",{className:"text-xl font-bold",children:"Chi tit hp ng"}),ue.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:ue.jsx(U,{size:24})})]}),ue.jsxs("div",{className:"space-y-4",children:[ue.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),ue.jsxs("p",{className:"text-gray-900",children:["#",m.id?.slice(-8)||m._id?.slice(-8)]})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),ue.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Active"===m.status?"bg-blue-100 text-blue-800":"Completed"===m.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:m.status})]})]}),ue.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),ue.jsx("p",{className:"text-gray-900",children:m.clientId})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Freelancer ID"}),ue.jsx("p",{className:"text-gray-900",children:m.freelancerId})]})]}),m.agreedAmount&&ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S tin tha thun"}),ue.jsxs("p",{className:"text-gray-900",children:[new Intl.NumberFormat("vi-VN").format(m.agreedAmount)," "]})]}),m.createdAt&&ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy to"}),ue.jsx("p",{className:"text-gray-900",children:new Date(m.createdAt).toLocaleString("vi-VN")})]})]}),ue.jsxs("div",{className:"flex gap-3 pt-4",children:[ue.jsx("button",{onClick:()=>{p(null),w(m)},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Chnh sa"}),ue.jsx("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"ng"})]})]})})]})},Lo=()=>{const[e,t]=n.useState([]),[r,s]=n.useState([]),[a,o]=n.useState([]);n.useEffect(()=>{i()},[]);const i=async()=>{try{(await Gn.get("/api/payments")).data;t([{month:"Th 1",revenue:12e6,profit:4e6},{month:"Th 2",revenue:19e6,profit:7e6},{month:"Th 3",revenue:15e6,profit:5e6},{month:"Th 4",revenue:22e6,profit:8e6},{month:"Th 5",revenue:28e6,profit:12e6},{month:"Th 6",revenue:35e6,profit:17e6}]);(await Gn.get("/api/categories")).data;s([{name:"Web Development",value:45,color:"#3b82f6"},{name:"Mobile App",value:25,color:"#10b981"},{name:"Design",value:20,color:"#f59e0b"},{name:"Other",value:10,color:"#ef4444"}]),o([{day:"T2",projects:45},{day:"T3",projects:52},{day:"T4",projects:48},{day:"T5",projects:61},{day:"T6",projects:55},{day:"T7",projects:78},{day:"CN",projects:82}])}catch(e){console.error("Error fetching statistics:",e)}};return ue.jsxs("div",{children:[ue.jsxs("div",{className:"mb-6",children:[ue.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Thng k chi tit"}),ue.jsx("p",{className:"text-gray-600 mt-1",children:"Phn tch v bo co chi tit"})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Biu  doanh thu v li nhun"}),ue.jsx(y,{width:"100%",height:400,children:ue.jsxs(I,{data:e,children:[ue.jsx(j,{strokeDasharray:"3 3"}),ue.jsx(N,{dataKey:"month"}),ue.jsx(k,{}),ue.jsx(S,{formatter:e=>new Intl.NumberFormat("vi-VN").format(e)}),ue.jsx(_,{}),ue.jsx(A,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),ue.jsx(A,{type:"monotone",dataKey:"profit",stroke:"#10b981",fill:"#10b981",fillOpacity:.6})]})})]}),ue.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Phn loi d n"}),ue.jsx(y,{width:"100%",height:300,children:ue.jsxs(P,{children:[ue.jsx(R,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.map((e,t)=>ue.jsx(L,{fill:e.color},`cell-${t}`))}),ue.jsx(S,{}),ue.jsx(_,{})]})})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"D n theo tun"}),ue.jsx(y,{width:"100%",height:300,children:ue.jsxs(E,{data:a,children:[ue.jsx(j,{strokeDasharray:"3 3"}),ue.jsx(N,{dataKey:"day"}),ue.jsx(k,{}),ue.jsx(S,{}),ue.jsx(_,{}),ue.jsx(T,{dataKey:"projects",fill:"#8b5cf6"})]})})]})]}),ue.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:"Tng doanh thu"}),ue.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"VN 131M"}),ue.jsx("p",{className:"text-green-600 text-sm mt-2",children:" Tng 23%"})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:"Tng li nhun"}),ue.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"VN 53M"}),ue.jsx("p",{className:"text-green-600 text-sm mt-2",children:" Tng 31%"})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:"Tng trng"}),ue.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"+28%"}),ue.jsx("p",{className:"text-blue-600 text-sm mt-2",children:"Tng trng tch cc"})]})]})]})},Do=()=>ue.jsxs("div",{children:[ue.jsxs("div",{className:"mb-6",children:[ue.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Ci t h thng"}),ue.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cu hnh v thit lp"})]}),ue.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[ue.jsxs("div",{className:"lg:col-span-2",children:[ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Thng tin chung"}),ue.jsxs("div",{className:"space-y-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn h thng"}),ue.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"LanServe"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email h tr"}),ue.jsx("input",{type:"email",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"support@lanserve.com"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),ue.jsx("input",{type:"tel",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"0123456789"})]})]})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Ci t bo mt"}),ue.jsxs("div",{className:"space-y-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu mi"}),ue.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhp mt khu mi"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc nhn mt khu"}),ue.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhp li mt khu"})]}),ue.jsxs("div",{className:"flex items-center gap-2",children:[ue.jsx("input",{type:"checkbox",id:"two-factor",className:"rounded"}),ue.jsx("label",{htmlFor:"two-factor",className:"text-sm text-gray-700",children:"Bt xc thc hai yu t"})]})]})]})]}),ue.jsxs("div",{children:[ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Hnh ng nhanh"}),ue.jsxs("div",{className:"space-y-3",children:[ue.jsx("button",{className:"w-full text-left px-4 py-3 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-colors",children:"Xut d liu"}),ue.jsx("button",{className:"w-full text-left px-4 py-3 bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors",children:"Sao lu h thng"}),ue.jsx("button",{className:"w-full text-left px-4 py-3 bg-red-50 hover:bg-red-100 text-red-700 rounded-lg transition-colors",children:"Khi phc d liu"})]})]}),ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Thng tin h thng"}),ue.jsxs("div",{className:"space-y-2 text-sm",children:[ue.jsxs("div",{className:"flex justify-between",children:[ue.jsx("span",{className:"text-gray-600",children:"Phin bn:"}),ue.jsx("span",{className:"font-medium",children:"1.0.0"})]}),ue.jsxs("div",{className:"flex justify-between",children:[ue.jsx("span",{className:"text-gray-600",children:"Cp nht ln cui:"}),ue.jsx("span",{className:"font-medium",children:"01/10/2024"})]}),ue.jsxs("div",{className:"flex justify-between",children:[ue.jsx("span",{className:"text-gray-600",children:"Database:"}),ue.jsx("span",{className:"font-medium text-green-600",children:"MongoDB"})]}),ue.jsxs("div",{className:"flex justify-between",children:[ue.jsx("span",{className:"text-gray-600",children:"Backend:"}),ue.jsx("span",{className:"font-medium",children:"ASP.NET Core"})]})]})]})]})]}),ue.jsx("div",{className:"mt-6 flex justify-end",children:ue.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2",children:[ue.jsx(te,{size:20}),"Lu thay i"]})})]});function Oo(){const[e,t]=n.useState([]),[r,s]=n.useState(!0),[a,o]=n.useState(null),[i,l]=n.useState(!1),[c,u]=n.useState({title:"",imageUrl:"",linkUrl:"",order:0,isActive:!0});n.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0);const e=await Gn.get("/api/banners");t(e.data||[])}catch(e){console.error("Load banners failed",e)}finally{s(!1)}};return r?ue.jsx("div",{className:"p-6",children:"ang ti..."}):ue.jsxs("div",{children:[ue.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[ue.jsxs("div",{children:[ue.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l Banners"}),ue.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l banners hin th trn trang ch"})]}),ue.jsx(be,{onClick:()=>l(!0),children:"+ Thm Banner"})]}),i&&ue.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[ue.jsx("h2",{className:"text-xl font-semibold mb-4",children:a?"Chnh sa Banner":"Thm Banner mi"}),ue.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(!c.title||!c.imageUrl)return void alert("Vui lng in y  tiu  v upload hnh nh!");if(a){const e={title:c.title,imageUrl:c.imageUrl,linkUrl:c.linkUrl||null,order:c.order||0,isActive:c.isActive};await Gn.put(`/api/banners/${a.id||a._id}`,e)}else{const e={title:c.title,imageUrl:c.imageUrl,linkUrl:c.linkUrl||null,order:c.order||0,isActive:c.isActive};await Gn.post("/api/banners",e)}alert(a?"Cp nht banner thnh cng!":"To banner thnh cng!"),l(!1),o(null),u({title:"",imageUrl:"",linkUrl:"",order:0,isActive:!0}),d()}catch(t){console.error("Save banner failed",t);let e="Lu banner tht bi!";401===t.response?.status?e="Bn khng c quyn thc hin thao tc ny. Vui lng ng nhp li vi ti khon Admin.":400===t.response?.status?e=t.response?.data?.detail||t.response?.data?.message||"D liu khng hp l. Vui lng kim tra li.":t.response?.data&&(e=t.response.data.detail||t.response.data.message||t.message),alert(e)}},className:"space-y-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tiu "}),ue.jsx(is,{value:c.title,onChange:e=>u({...c,title:e.target.value}),placeholder:"Tiu  banner",required:!0})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hnh nh"}),ue.jsx(us,{folder:"banners",onUploadSuccess:e=>u({...c,imageUrl:e})}),c.imageUrl&&ue.jsx("img",{src:c.imageUrl,alt:"Preview",className:"mt-2 w-64 h-32 object-cover rounded"})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium mb-2",children:"Link URL (ty chn)"}),ue.jsx(is,{value:c.linkUrl,onChange:e=>u({...c,linkUrl:e.target.value}),placeholder:"https://..."})]}),ue.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium mb-2",children:"Th t hin th"}),ue.jsx(is,{type:"number",value:c.order,onChange:e=>u({...c,order:parseInt(e.target.value)||0})})]}),ue.jsxs("div",{children:[ue.jsx("label",{className:"block text-sm font-medium mb-2",children:"Trng thi"}),ue.jsxs("select",{value:c.isActive?"true":"false",onChange:e=>u({...c,isActive:"true"===e.target.value}),className:"w-full px-4 py-2 border rounded-lg",children:[ue.jsx("option",{value:"true",children:"ang hot ng"}),ue.jsx("option",{value:"false",children:"Tt"})]})]})]}),ue.jsxs("div",{className:"flex gap-2",children:[ue.jsx(be,{type:"submit",children:a?"Cp nht":"To mi"}),ue.jsx(be,{type:"button",variant:"outline",onClick:()=>{l(!1),o(null),u({title:"",imageUrl:"",linkUrl:"",order:0,isActive:!0})},children:"Hy"})]})]})]}),ue.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:ue.jsxs("table",{className:"w-full",children:[ue.jsx("thead",{className:"bg-gray-50",children:ue.jsxs("tr",{children:[ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh nh"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tiu "}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Link"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Th t"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),ue.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Thao tc"})]})}),ue.jsx("tbody",{className:"divide-y divide-gray-200",children:0===e.length?ue.jsx("tr",{children:ue.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"Cha c banner no"})}):e.map(e=>ue.jsxs("tr",{children:[ue.jsx("td",{className:"px-6 py-4",children:ue.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-20 h-12 object-cover rounded"})}),ue.jsx("td",{className:"px-6 py-4 text-sm",children:e.title}),ue.jsx("td",{className:"px-6 py-4 text-sm",children:e.linkUrl?ue.jsx("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Xem link"}):ue.jsx("span",{className:"text-gray-400",children:""})}),ue.jsx("td",{className:"px-6 py-4 text-sm",children:e.order}),ue.jsx("td",{className:"px-6 py-4",children:ue.jsx("span",{className:"px-2 py-1 text-xs rounded "+(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Hot ng":"Tt"})}),ue.jsx("td",{className:"px-6 py-4",children:ue.jsxs("div",{className:"flex gap-2",children:[ue.jsx("button",{onClick:()=>(e=>{o(e),u({title:e.title||"",imageUrl:e.imageUrl||"",linkUrl:e.linkUrl||"",order:e.order||0,isActive:void 0===e.isActive||e.isActive}),l(!0)})(e),className:"text-blue-500 hover:text-blue-700 text-sm",children:"Sa"}),ue.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa banner ny?"))try{await Gn.delete(`/api/banners/${e}`),alert("Xa banner thnh cng!"),d()}catch(t){console.error("Delete banner failed",t),alert("Xa banner tht bi!")}})(e.id||e._id),className:"text-red-500 hover:text-red-700 text-sm",children:"Xa"})]})})]},e.id||e._id))})]})})]})}function Mo({children:e}){return localStorage.getItem("token")||sessionStorage.getItem("token")?e:ue.jsx(d,{to:"/login",replace:!0})}function zo({children:e}){const t=localStorage.getItem("token")||sessionStorage.getItem("token"),n=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"null");return t?"admin"!==n?.role?.toLowerCase()?ue.jsx(d,{to:"/",replace:!0}):e:ue.jsx(d,{to:"/login",replace:!0})}function Fo({children:e}){return localStorage.getItem("token")||sessionStorage.getItem("token")?ue.jsx(d,{to:"/",replace:!0}):e}function Uo(){const e=a().pathname.startsWith("/admin");es(e=>e.addNotification);const t=es(e=>e.fetchFromServer),r=es(e=>e.initConnection);return n.useEffect(()=>{(localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("accessToken"))&&(console.log(" Loading notifications from DB..."),t(),r())},[t,r]),ue.jsxs("div",{className:"min-h-screen flex flex-col",children:[ue.jsx(ns,{}),ue.jsx("main",{className:"flex-1",children:ue.jsxs(h,{children:[ue.jsx(f,{path:"/",element:ue.jsx(as,{})}),ue.jsx(f,{path:"/how-it-works",element:ue.jsx(os,{})}),ue.jsx(f,{path:"/projects",element:ue.jsx(ps,{})}),ue.jsx(f,{path:"/wallet",element:ue.jsx(_o,{})}),ue.jsx(f,{path:"/payment-success",element:ue.jsx(Co,{})}),ue.jsx(f,{path:"/payment-failed",element:ue.jsx(Eo,{})}),ue.jsx(f,{path:"/db-test",element:ue.jsx(jo,{})}),ue.jsx(f,{path:"/post-project",element:ue.jsx(Mo,{children:ue.jsx(hs,{})})}),ue.jsxs(f,{path:"/account",element:ue.jsx(Mo,{children:ue.jsx(xs,{})}),children:[ue.jsx(f,{index:!0,element:ue.jsx(d,{to:"profile",replace:!0})}),ue.jsx(f,{path:"profile",element:ue.jsx(bs,{})}),ue.jsx(f,{path:"my-projects",element:ue.jsx(eo,{})}),ue.jsx(f,{path:"messages",element:ue.jsx(Za,{})}),ue.jsx(f,{path:"settings",element:ue.jsx(Hs,{})})]}),ue.jsx(f,{path:"/profile/:userId",element:ue.jsx(xs,{}),children:ue.jsx(f,{index:!0,element:ue.jsx(bs,{})})}),ue.jsx(f,{path:"/users",element:ue.jsx(No,{})}),ue.jsx(f,{path:"/login",element:ue.jsx(Fo,{children:ue.jsx(vo,{})})}),ue.jsx(f,{path:"/register",element:ue.jsx(Fo,{children:ue.jsx(yo,{})})}),ue.jsxs(f,{path:"/freelancer",element:ue.jsx(to,{}),children:[ue.jsx(f,{index:!0,element:ue.jsx(d,{to:"intro",replace:!0})}),ue.jsx(f,{path:"intro",element:ue.jsx(ro,{})}),ue.jsx(f,{path:"services",element:ue.jsx(lo,{})}),ue.jsx(f,{path:"portfolio",element:ue.jsx(uo,{})}),ue.jsx(f,{path:"reviews",element:ue.jsx(fo,{})})]}),ue.jsxs(f,{path:"/admin",element:ue.jsx(zo,{children:ue.jsx(To,{})}),children:[ue.jsx(f,{path:"/admin",element:ue.jsx(Io,{})}),ue.jsx(f,{path:"/admin/users",element:ue.jsx(Ao,{})}),ue.jsx(f,{path:"/admin/projects",element:ue.jsx(Po,{})}),ue.jsx(f,{path:"/admin/contracts",element:ue.jsx(Ro,{})}),ue.jsx(f,{path:"/admin/statistics",element:ue.jsx(Lo,{})}),ue.jsx(f,{path:"/admin/settings",element:ue.jsx(Do,{})}),ue.jsx(f,{path:"/admin/banners",element:ue.jsx(Oo,{})})]}),ue.jsx(f,{path:"*",element:ue.jsx("div",{className:"container-ld py-24",children:"404"})})]})}),!e&&ue.jsx(rs,{}),ue.jsx(zs,{richColors:!0,position:"top-center"})]})}function $o(){return ue.jsx(Uo,{})}xe.createRoot(document.getElementById("root")).render(ue.jsx(e.StrictMode,{children:ue.jsx(po,{clientId:"788333487085-464ddcp2362pl7da00ih2m2ig62mvv26.apps.googleusercontent.com",children:ue.jsx(m,{children:ue.jsx($o,{})})})}));
